!function(a,b,c){"use strict";a.listManager=function(d,e){function f(a,b){var c=apex.item(n.attr("id"));c.setValue(b.r),c.setFocus()}function g(){m.trigger("apexrefresh")}function h(){m.trigger("apexbeforerefresh"),n.val(""),b("option",m).remove(),m.change(),m.trigger("apexafterrefresh")}function i(){return a.util.callPopupLov(l.ajaxIdentifier,{pageItems:b(l.pageItemsToSubmit,apex.gPageContext$).add(l.dependingOnSelector)},{filterOutput:l.filterWithValue,filterValue:n.val(),windowParameters:l.windowParameters,target:n[0]}),!1}function j(){b(d+"_ADD_lov_btn",apex.gPageContext$).click(i)}var k,l=b.extend({dependingOnSelector:null,optimizeRefresh:!0,pageItemsToSubmit:null,filterWithValue:!1,windowParameters:null},e),m=b(d,apex.gPageContext$),n=b(d+"_ADD",apex.gPageContext$);b(d,apex.gPageContext$).each(function(){var c=this;a.initPageItem(this.id,{enable:function(){var d=$x(c.id+"_fieldset");b(":input",d).prop("disabled",!1).filter("[type!=button]").removeClass("apex_disabled"),j(),a.util.enableIcon(b(d),"#")},disable:function(){var d=$x(c.id+"_fieldset");b("option:selected",$x(c.id)).attr("selected",!1),b(":input",d).prop("disabled",!0).filter("[type!=button]").addClass("apex_disabled"),a.util.disableIcon(b(d))},isDisabled:function(){return!!b("#"+c.id).prop("disabled")},hide:function(){b("#"+c.id+"_fieldset",apex.gPageContext$).hide()},show:function(){b("#"+c.id+"_fieldset",apex.gPageContext$).show()},setValue:function(a){var c,d="";"undefined"!=typeof a&&(c=apex.util.toArray(a),b.each(c,function(a,b){b=apex.util.escapeHTML(b),d+='<option value="'+b+'">'+b+"</option>"}),m.find("option").remove().end().append(d))},getValue:function(){var a=[];return b("option",m[0]).each(function(){a.push(this.value)}),a},isChanged:function(){return $v(m[0])!==k},addValue:function(a){var c,d,e=a.split(","),f=!1,g="";for(d=0;d<e.length;d++)c=b.trim(e[d]),""!==c&&0===m.find('option[value="'+c.replace(/"/g,'\\"')+'"]').length&&(c=apex.util.escapeHTML(c),g='<option value="'+c+'">'+c+"</option>",m.append(g),f=!0);f&&m.change()},removeValue:function(){var a=m.find(":selected");a.length>0&&(a.remove(),m.change())},getPopupSelector:function(){return".ui-dialog"}})}),k=$v(m[0]),n.on("_setpopuplovreturnvalue",f),j(),l.dependingOnSelector&&b(l.dependingOnSelector,apex.gPageContext$).change(g),m.on("apexrefresh",h),m.change(function(a){a.originalEvent!==c&&a.stopImmediatePropagation()})}}(apex.widget,apex.jQuery);