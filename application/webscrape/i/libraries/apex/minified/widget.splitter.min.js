!function(a,b,c){"use strict";var d="a-Splitter",e="."+d,f="a-Splitter-barH",g="a-Splitter-barV",h="."+f+",."+g,i="a-Splitter--end",j="a-Splitter-thumb",k="."+j,l="u-RTL",m="is-focused",n="is-active",o="is-collapsed",p="is-disabled",q="button",r="title";a.widget("apex.splitter",{version:"5.0",widgetEventPrefix:"splitter",options:{orientation:"horizontal",positionedFrom:"begin",minSize:60,position:100,noCollapse:!1,dragCollapse:!0,collapsed:!1,snap:!1,inc:10,realTime:!1,iframeFix:!1,restoreText:null,collapseText:null,title:null,change:null},lastPos:null,bar$:null,before$:null,after$:null,horiz:!0,fromEnd:!1,barSize:1,_create:function(){var f,g,h,i,j,o,p=this,r=this.options,s=this.element,t=b.htmlBuilder(),u=a.ui.keyCode,v=!!r.snap&&[1*r.snap,1*r.snap],w=r.noCollapse?0:1,x=null;if(2!==s.children().length)throw new Error("Splitter must have exactly two children.");if("horizontal"!==r.orientation&&"vertical"!==r.orientation)throw new Error("Orientation bad value");if("begin"!==r.positionedFrom&&"end"!==r.positionedFrom)throw new Error("PositionedFrom bad value");if(r.minSize<w&&(r.minSize=w,c.warn("Option minSize adjusted")),this.horiz="horizontal"===r.orientation,this.fromEnd="end"===r.positionedFrom,o=this.horiz?"left":"top",this.before$=s.children().eq(0),this.after$=s.children().eq(1),s.addClass(d+" resize"),"rtl"===s.css("direction")&&(s.addClass(l),this.horiz&&(this.before$=s.children().eq(1),this.after$=s.children().eq(0),this.fromEnd=!this.fromEnd)),s.parent(e).length>0||this.before$.is(e)||this.after$.is(e))throw new Error("Child of splitter cannot be a splitter");this.before$[0].id||(this.before$[0].id=(s[0].id||"splitter")+"_first"),this.after$[0].id||(this.after$[0].id=(s[0].id||"splitter")+"_second"),r.position<r.minSize&&(r.position=r.minSize),this.lastPos=r.position,r.snap&&(r.inc=r.snap),this._renderBar(t),this.bar$=a(t.toString()).insertAfter(s.children().eq(0)),this.horiz?this.barSize=this.bar$.width():this.barSize=this.bar$.height(),s.css({position:"relative"}).children().css({position:"absolute"}),this.horiz?(f=this.bar$.position()[o],g=0,h="e-resize",this.fromEnd?(i=u.LEFT,j=u.RIGHT):(i=u.RIGHT,j=u.LEFT)):(f=0,g=this.bar$.position()[o],h="s-resize",this.fromEnd?(i=u.UP,j=u.DOWN):(i=u.DOWN,j=u.UP)),this.bar$.css({left:f,top:g}).draggable({axis:p.horiz?"x":"y",containment:"parent",cancel:q,cursor:h,iframeFix:r.iframeFix,grid:v,scroll:!1,drag:function(a,b){var c;r.realTime&&(c=b.position[o],p.fromEnd&&(c=(p.horiz?s.width():s.height())-c-p.barSize),p._setPos(c,!1))},start:function(a,b){p.bar$.addClass(n)},stop:function(a,b){var c=b.position[o];p.bar$.removeClass(n),p.fromEnd&&(c=(p.horiz?s.width():s.height())-c-p.barSize),p._setPos(c,!1)}}).click(function(){a(this).find(k).focus()}).find(q).click(function(){p._setPos(p._getPos(),!p._isCollapsed())}),apex.widget.util.TouchProxy.addTouchListeners(this.bar$[0]),this.bar$.find(k).focus(function(){a(this).parent().addClass(m+" "+n)}).blur(function(){a(this).parent().removeClass(m+" "+n)}).keydown(function(a){var b,c,d=a.keyCode,e=null,f=!1;if(d!==j||r.collapsed?d===i&&(e=p._getPos(),e<0?(r.noCollapse||(f=!0),e=0):e+=r.inc,b=p._getMaxPos(),e>b&&(e=b)):(e=p._getPos(),e-=r.inc,e<r.minSize&&r.noCollapse&&(e=r.minSize),e<0&&(e=0)),null!==e)return c=e,p.fromEnd&&(c=(p.horiz?s.width():s.height())-c-p.barSize),p.bar$.css(o,c),x&&(clearTimeout(x),x=null),x=setTimeout(function(){x=null,p._setPos(e,f)},100),!1}),this._on(!0,this._eventHandlers),r.disabled&&this._setOption("disabled",r.disabled),this.refresh()},_eventHandlers:{resize:function(c){var d,e,f,g,h=this.options,i=this.element;if(c.target===i[0]){if(d=i.height(),e=i.width(),0===d||0===e)throw new Error("Splitter needs to be in a component with size");g=i.offset(),this.horiz?(i.children().each(function(){b.setOuterHeight(a(this),d)}),this.fromEnd?(f=[g.left+h.minSize,g.top,g.left+e-this.barSize,g.top+d],h.dragCollapse&&!h.noCollapse||(f[2]-=h.minSize)):(f=[g.left,g.top,g.left+e-this.barSize-h.minSize,g.top+d],h.dragCollapse&&!h.noCollapse||(f[0]+=h.minSize+1))):(i.children().each(function(){b.setOuterWidth(a(this),e)}),this.fromEnd?(f=[g.left,g.top+h.minSize,g.left+e,g.top+d-this.barSize],h.dragCollapse&&!h.noCollapse||(f[3]-=h.minSize)):(f=[g.left,g.top,g.left+e,g.top+d-this.barSize-h.minSize],h.dragCollapse&&!h.noCollapse||(f[1]+=h.minSize+1))),this._setPos(h.position,h.collapsed),this.bar$.draggable("option","containment",f),i.children(".resize").filter(":visible").trigger("resize"),c.stopPropagation()}}},_destroy:function(){this.element.removeClass(d+" "+p+" "+l+" resize").children(h).remove(),this.element.children().css("position","")},refresh:function(){this.element.is(":visible")&&this.element.trigger("resize")},_setOption:function(b,d){var e,f,g;if(this.options.noCollapse&&("collapsed"===b||"restoreText"===b||"collapseText"===b))return void c.warn("Setting "+b+" option on noCollapse splitter has no effect.");if("orientation"===b||"positionedFrom"===b||"noCollapse"===b)throw new Error("Readonly option: "+b);"position"===b?this._setPos(1*d,this._isCollapsed()):"collapsed"===b?this._setPos(this._getPos(),!!d):"snap"===b?(d=!!d&&1*d,this.options.snap=d,e=!!d&&[d,d],this.bar$.draggable("option","grid",e),d&&(this.options.inc=d)):"inc"===b?(d=1*d,this.options.snap&&(d=this.options.snap),this.options.inc=d):"disabled"===b?(this.options.disabled=d,g=this.bar$.find(k),this.options.noCollapse?d?g.removeAttr("tabindex"):g.attr("tabindex","0"):(g[0].disabled=d,d?g.attr(r,this.options.title):g.attr(r,this.options.collapsed?this.options.restoreText:this.options.collapseText)),this.bar$.draggable("option","disabled",d),d?(this.element.addClass(p),this.bar$.addClass(p),g.attr("aria-disabled",!0)):(g.removeAttr("aria-disabled"),this.bar$.removeClass(p),this.element.removeClass(p))):"minSize"===b?(f=this.options.noCollapse?0:1,d<f&&(d=f,c.warn("Option minSize adjusted")),this.options.minSize=d):a.Widget.prototype._setOption.apply(this,arguments),"title"===b?(this.bar$.attr(r,d),(this.options.noCollapse||this.options.disabled)&&this.bar$.find(k).attr(r,d)):"restoreText"===b&&this.options.collapsed&&!this.options.disabled?this.bar$.find(q).attr(r,d):"collapseText"!==b||this.options.collapsed||this.options.disabled?"iframeFix"===b?this.bar$.draggable("option","iframeFix",d):"dragCollapse"===b&&this.refresh():this.bar$.find(q).attr(r,d)},_renderBar:function(a){var b=this.options,c=this.horiz?f:g;this.fromEnd&&(c+=" "+i),b.noCollapse&&(b.collapsed=!1),b.collapsed&&(c+=" "+o),a.markup("<div").attr("class",c).optionalAttr(r,b.title).markup("><div></div>"),b.noCollapse?a.markup("<span role='separator' class='"+j+"' tabindex='0' aria-expanded='true'").optionalAttr(r,b.title).markup("></span>"):a.markup("<button role='separator' class='"+j+"' type='button'").attr("aria-expanded",!b.collapsed).optionalAttr(r,b.collapsed?b.restoreText:b.collapseText).markup("></button>"),a.markup("</div>")},_getPos:function(){var a=this.element,b=this.horiz?"left":"top",c=this.bar$.position()[b];return this.fromEnd&&(c=(this.horiz?a.width():a.height())-c-this.barSize),c},_isCollapsed:function(){return this.bar$.hasClass(o)},_getMaxPos:function(){var a=this.options,b=this.element;return this.horiz?b.width()-this.barSize-a.minSize:b.height()-this.barSize-a.minSize},_setPos:function(a,c){var d,e,f,g,h,i,j=this.options,l=this.element,m=this.horiz?"left":"top",n=this._isCollapsed(),p=this.lastPos;j.noCollapse&&(c=!1),n&&!c&&(a=this.lastPos,a<j.minSize&&(a=j.minSize)),a<j.minSize?j.noCollapse?a=j.minSize:c=!0:(d=this._getMaxPos(),a>d&&(a=d)),j.noCollapse&&a<=0&&(a=0),a>0&&(this.lastPos=a),c&&(a=0,j.position=0),e=this.horiz?l.width():l.height(),h=a,this.fromEnd&&(h=e-a-this.barSize),this.bar$.css(m,h),i=this.bar$.find(k),this.fromEnd?(f=this.after$,g=e-h-this.barSize):(f=this.before$,g=h),c?(this.bar$.addClass(o),j.disabled||i.attr("aria-expanded",!1).attr(r,j.restoreText),f.hide()):(j.noCollapse?f.toggle(0!==a):(this.bar$.removeClass(o),j.noCollapse||j.disabled||i.attr("aria-expanded",!0).attr(r,j.collapseText),f.show()),this.horiz?b.setOuterWidth(f,g):b.setOuterHeight(f,g)),this.fromEnd?(f=this.before$,g=h):(f=this.after$,g=e-h-this.barSize),this.horiz?b.setOuterWidth(f,g):b.setOuterHeight(f,g),j.noCollapse&&f.toggle(0!==g),this.after$.css(m,h+this.barSize+"px"),this.before$.css(m,0),(!c&&a!==p||n!==c)&&(j.collapsed=c,j.position=a,l.children(".resize").filter(":visible").trigger("resize"),this._trigger("change",{},{position:j.position,collapsed:j.collapsed,lastPosition:this.lastPos}))}});var s=0,t=0;a.apex.splitter.nextSplitter=function(b){var c,d,i,j=b?-1:1,l=a(document.activeElement);if(!(s>0||t>0))return d=a(e+" >."+f+","+e+" >."+g).filter(":visible").not(".ui-state-disabled").add(l),i=d.index(l),i>=0&&(i+=j,b&&l.parent().is(h)&&(i+=j),i>=0&&i<d.length&&(c=d.eq(i))),(c&&0===c.length&&!l.parent().is(h)||l.is("html,body"))&&(c=a(e+" >."+f+","+e+" >."+g).filter(":visible").not(".ui-state-disabled")[b?"last":"first"]()),c&&c.length>0?(c.children(k).focus(),!0):void 0},a(function(){a(document.body).on("menubeforeopen",function(){t+=1}).on("menuafterclose",function(){t-=1}).on("dialogopen",function(){s+=1}).on("dialogclose",function(){s-=1})}),apex.message&&apex.message.addVisibilityCheck(function(b){var c=a("#"+b);c.parents(".a-Splitter").each(function(){c.is(":visible")||a(this).splitter("option","collapsed",!1)})})}(apex.jQuery,apex.util,apex.debug);