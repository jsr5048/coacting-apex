!function(a,b){"use strict";a.shuttle=function(c,d){function e(){v.trigger("apexrefresh")}function f(){y=w.empty().children(),z=x.empty().children()}function g(a){var c="";b.each(a.values,function(){c=c+'<option value="'+this.r+'" '+u.optionAttributes+">"+this.d+"</option>"}),w.html(c),$s(v[0],a["default"]),y=b("option",w),z=b("option",x)}function h(c){a.util.cascadingLov(v,u.ajaxIdentifier,{pageItems:b(u.pageItemsToSubmit,apex.gPageContext$)},{optimizeRefresh:u.optimizeRefresh,dependingOn:b(u.dependingOnSelector,apex.gPageContext$),loadingIndicator:v,success:g,clear:f,target:c.target})}function i(a){var b=$v(v[0]);w.empty().append(y).children().prop("selected",!1),x.empty().append(z).children().prop("selected",!1),$v(v[0])!==b&&v.change(),a.preventDefault()}function j(a,c){var d=b("option"+(c?"":":selected"),w);b("option:selected",x).prop("selected",!1),d.length&&(d.appendTo(x).prop("selected",!0),v.change()),a.preventDefault()}function k(a){j(a,!0)}function l(a,c,d){var e=b("option"+(c?"":":selected"),x);b("option:selected",w).prop("selected",!1),e.length&&(e.appendTo(w).prop("selected",!0),d||v.change()),a&&a.preventDefault()}function m(a,b){l(a,!0,b)}function n(a){var c=$v(v[0]);b("option:selected",x).prependTo(x).prop("selected",!0),$v(v[0])!==c&&v.trigger("shuttlechangeorder"),a.preventDefault()}function o(a){var c=!1;b("option:selected",x).each(function(){var a=b(this).prev();0===a.length||a.prop("selected")||(b(this).insertBefore(a).prop("selected",!0),c=!0)}),c&&v.trigger("shuttlechangeorder"),a.preventDefault()}function p(a){var c,d,e=!1,f=b("option:selected",x);for(c=f.length-1;c>=0;c--)d=f.eq(c).next(),0===d.length||d.prop("selected")||(f.eq(c).insertAfter(d).prop("selected",!0),e=!0);e&&v.trigger("shuttlechangeorder"),a.preventDefault()}function q(a){var c=$v(v[0]);b("option:selected",x).appendTo(x).prop("selected",!0),$v(v[0])!==c&&v.trigger("shuttlechangeorder"),a.preventDefault()}function r(a){a.stopImmediatePropagation()}function s(){b(c+"_RESET",apex.gPageContext$).click(i),b(c+"_MOVE",apex.gPageContext$).click(j),b(c+"_MOVE_ALL",apex.gPageContext$).click(k),b(c+"_REMOVE",apex.gPageContext$).click(l),b(c+"_REMOVE_ALL",apex.gPageContext$).click(m),b(c+"_TOP",apex.gPageContext$).click(n),b(c+"_UP",apex.gPageContext$).click(o),b(c+"_DOWN",apex.gPageContext$).click(p),b(c+"_BOTTOM",apex.gPageContext$).click(q)}var t,u=b.extend({optionAttributes:null},d),v=b(c,apex.gPageContext$),w=b(c+"_LEFT",apex.gPageContext$),x=b(c+"_RIGHT",apex.gPageContext$),y=b("option",w),z=b("option",x);b(c,apex.gPageContext$).each(function(){var c=this;a.initPageItem(this.id,{enable:function(){var a;a=$x(c.id),b("button",a).prop("disabled",!1).removeClass("is-disabled"),b("select",a).prop("disabled",!1).removeClass("apex_disabled")},disable:function(){var a;a=$x(c.id),b("option:selected",a).prop("selected",!1),b("button",a).prop("disabled",!0).addClass("is-disabled"),b("select",a).prop("disabled",!0).addClass("apex_disabled")},isDisabled:function(){return!!x.prop("disabled")},setValue:function(a){var c;m(null,!0),c=apex.util.toArray(a);for(var d=0;d<c.length;d++)b("option",w[0]).each(function(){if(this.value===c[d])return b(this).appendTo(x).prop("selected",!0),!1})},getValue:function(){var a=[];return b("option",x[0]).each(function(){a.push(this.value)}),a},isChanged:function(){return $v(v[0])!==t},setFocusTo:w,loadingIndicator:function(a){return a.prependTo(b("td.shuttleControl",v))}})}),t=$v(v[0]),u.dependingOnSelector&&b(u.dependingOnSelector,apex.gPageContext$).on("change",e),v.on("apexrefresh",h),w.change(r),x.change(r),b(w).dblclick(j).keydown(function(a){13===a.which&&(j(a,!1),a.preventDefault())}),b(x).dblclick(l).keydown(function(a){13===a.which&&(l(a),a.preventDefault())}),s()}}(apex.widget,apex.jQuery);