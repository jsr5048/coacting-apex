!function(a,b,c){"use strict";var d="a-Collapsible",e=d+"-content",f=d+"-heading",g="is-expanded",h="is-collapsed",i="a-Icon",j=i+" "+d+"-icon",k=".",l=k+d,m="aria-controls",n="aria-expanded",o="aria-hidden";a.widget("apex.collapsible",{version:"5.0",widgetEventPrefix:"collapsible",baseId:null,heading$:null,controllingElement$:null,content$:null,isContentIdSetByWidget:!1,isHeadingIdSetByWidget:!1,isControllingElementALink:!1,core:null,expandedClass:g,collapsedClass:h,options:{heading:"h1,h2,h3,h4,h5,h6",controllingElement:"button,a",content:null,collapsed:!0,doCollapse:!0,universalTheme:!1,expandedClass:null,collapsedClass:null,rememberState:!1},_create:function(){var b,g,h=this,i=c.htmlBuilder(),k=this.options,p=a(l).length;this.baseId="a_Collapsible"+(p+1)+"_"+this.element.attr("id"),this.element.addClass(d),k.expandedClass&&(this.expandedClass+=" "+k.expandedClass),k.collapsedClass&&(this.collapsedClass+=" "+k.collapsedClass),this.heading$=this.element.find(k.heading).first(),this.heading$.addClass(f),this.controllingElement$=this.element.find(k.controllingElement).first(),this.controllingElement$.text()||(g=this.heading$[0].id,g||(g=this.baseId+"_heading",this.heading$[0].id=g,this.isHeadingIdSetByWidget=!0),this.controllingElement$.attr("aria-labelledby",g)),k.universalTheme?this.content$=k.content:k.content?this.content$=this.element.find(k.content).first():this.content$=this.heading$.next(),this.content$.addClass(e),b=this.content$[0].id,b||(b=this.baseId+"_content",this.content$[0].id=b,this.isContentIdSetByWidget=!0),this.controllingElement$.attr(m,b).attr(n,!k.collapsed),this.controllingElement$.is("a")&&(this.isControllingElementALink=!0),i.markup("<span").attr("class",j).attr("aria-hidden",!0).markup(">").markup("</span>"),this.controllingElement$.prepend(i.toString()),this.isControllingElementALink&&(this.controllingElement$.attr("role","button"),this._on(this.controllingElement$,{keypress:function(b){b.which===a.ui.keyCode.SPACE&&(h.core.toggle(),b.preventDefault())}})),this.core=ToggleCore({key:h.baseId,controllingElement:this.controllingElement$,content:h.element,contentClassExpanded:this.expandedClass,contentClassCollapsed:this.collapsedClass,defaultExpandedPreference:!k.collapsed,useSessionStorage:k.rememberState,onExpand:function(){h.content$.attr(o,"false"),k.doCollapse&&h.content$.show(),h.controllingElement$.attr(n,"true"),h._trigger("expand")},onCollapse:function(){h.content$.attr(o,"true"),k.doCollapse&&h.content$.hide(),h.controllingElement$.attr(n,"false"),h._trigger("collapse")}}),this.core.initialize()},_destroy:function(){this.element.removeClass(d+" "+this.collapsedClass+" "+this.expandedClass),this.controllingElement$.removeAttr(n).removeAttr(m),this._off(this.controllingElement$),this.isContentIdSetByWidget&&this.content$.removeAttr("id"),this.isHeadingIdSetByWidget&&this.heading$.removeAttr("id"),this.heading$.removeClass(f),this.content$.removeAttr(o).removeClass(e),this.options.doCollapse&&this.content$.show()},expand:function(){this.core.expand()},collapse:function(){this.core.collapse()},toggle:function(){this.core.toggle()},getCore:function(){return this.core}}),apex.message&&apex.message.addVisibilityCheck(function(b){a("#"+b).parents(".a-Collapsible").collapsible("expand")}),apex.widget.util.visibilityChange&&a(document.body).on("collapsibleexpand",function(a){apex.widget.util.visibilityChange(a.target,!0)}).on("collapsiblecollapse",function(a){apex.widget.util.visibilityChange(a.target,!1)})}(apex.jQuery,apex.lang,apex.util);