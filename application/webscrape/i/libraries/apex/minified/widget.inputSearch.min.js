!function(a,b,c,d,e,f){"use strict";var g={};e.inputSearch=function(b,d,h){function i(a){var b,c=[];for(b=0;b<a.length;b++)c.push({label:a[b],value:a[b]});return c}function j(){p.trigger("apexbeforerefresh"),g={},f(b).setValue(""),p.ojInputSearch(s),p.trigger("apexafterrefresh")}var k,l,m,n,o,p=a("#"+c.escapeCSS(b+"_HIDDEN"),apex.gPageContext$),q=a("#"+c.escapeCSS(b)+"_LABEL",apex.gPageContext$),r=a("#"+c.escapeCSS(b),apex.gPageContext$),s=a.extend({ajaxIdentifier:null,itemsToSubmit:"",dependingOnSelector:"",optimizeRefresh:!0,matchCaseSensitive:!1,matchContains:!0,maxOptions:null,lazyLoad:!1,cache:!0,width:null,maxLength:null,elementAttributes:null,isEscaped:!0,minLength:1,placeholder:"",title:""},h),t=a.ui.keyCode;!s.lazyLoad&&d&&(s.options=i(d)),n=f.create(b,{enable:function(){p.ojInputSearch({disabled:!1})},disable:function(){p.ojInputSearch({disabled:!0})},getValue:function(){return l.val()},setValue:function(a){p.val(a),l.val(a)},setFocusTo:function(){return l},getPopupSelector:function(){return".oj-listbox-results"},reinit:function(a){g={},this.setValue(a,null,!0)},delayLoading:!0,isChanged:function(){return o!==l.val()},setStyleTo:function(){return l}}),require(["ojs/ojcore","ojs/ojselectcombobox"],function(d){var f;if(k=s.options,s.options=function(d){return new Promise(function(f,h){var j,l,m,n="",o="",q=[],r=c.escapeRegExp(d.term);if(void 0!==d.term)if(s.lazyLoad){if(s.cache&&(j=b+"_"+r,g[j]))return void f(g[j]);e.util.cascadingLov(p,s.ajaxIdentifier,{x01:r,pageItems:a(s.itemsToSubmit,apex.gPageContext$)},{optimizeRefresh:s.optimizeRefresh,dependingOn:a(s.dependingOnSelector,apex.gPageContext$),success:function(a){var b=i(a);s.cache&&(g[j]=b),f(b)},target:p})}else{for(s.matchContains||(n="^"),n+=r,s.matchCaseSensitive||(o="i"),m=new RegExp(n,o),l=0;l<k.length&&(!s.maxOptions||q.length<s.maxOptions);l++)k[l].label.match(m)&&q.push(k[l]);f(q)}})},p.ojInputSearch(s),o=p.val(),s.dependingOnSelector&&a(h.dependingOnSelector,apex.gPageContext$).change(function(){p.trigger("apexrefresh")}),p.on("apexrefresh",j),l=a(p.ojInputSearch("getNodeBySubId",{subId:"oj-inputsearch-input"})),m=a(p.ojInputSearch("getNodeBySubId",{subId:"oj-inputsearch-search"})),s.width&&l.attr("size",s.width),s.maxLength&&l.attr("maxlength",s.maxLength),s.elementAttributes){var u,v,w,x=c.htmlBuilder();x.markup("<input ").attr("id","customAttrHolder").attr("class","uVisuallyHidden").markup(s.elementAttributes).markup(" />"),a("body").append(x.toString()),u=a("#customAttrHolder"),w=u[0].attributes;for(v in w)w.hasOwnProperty(v)&&a.inArray(w[v].name,["id","class"])===-1&&l.attr(w[v].name,w[v].value);u.remove()}p.removeClass("oj-component-initnode"),f=p.attr("class"),p.attr("class","oj-component-initnode"),l.addClass("apex-item-text apex-item-auto-complete").addClass(f).attr("aria-labelledby",c.escapeCSS(b)+"_LABEL").val(o),p.on("ojbeforeexpand",function(){var b=c.escapeCSS(l.attr("aria-owns"));a("#"+b).attr("tabindex","-1")}),l.on("keydown",function(a){a.which===t.ENTER&&r.toggleClass("js-uses-enter",l.closest(".oj-inputsearch").hasClass("oj-listbox-dropdown-open"))}),q.on("click",function(){l.focus()}),m.remove(),r.find("span.apex-item-icon").insertAfter(l),n.resolve()})}}(apex.jQuery,apex.server,apex.util,apex.debug,apex.widget,apex.item);