!function(a,b,c,d,e){"use strict";function f(a,b){var c,d,f=null,g=a.altKey,h=a.ctrlKey,i=a.metaKey,j=a.which,k=E[j];return k&&(f="",h&&(f+="Ctrl+"),g&&(f+="Alt+"),i&&(f+="Meta+"),!a.shiftKey||j>59&&j<91&&!h&&!g&&!i||(f+="Shift+"),f+=k,d=!(j>=112&&j<=123||j>=33&&j<=46||j<32),c=a.target&&a.target.nodeName,b||"TEXTAREA"!==c&&"SELECT"!==c&&(c!==B||I[a.target.type.toLowerCase()])&&!L[e(a.target).attr("role")]?!d||h||g||i||H||(f=null):(d&&(!g&&!h&&!i||h&&g&&!i||F&&g&&!h&&!i)||(F?K:J)[f]||j<=46)&&(f=null)),f}function g(a){var b=a.contextLabel||a.label;return!b&&a.onLabel&&a.offLabel?b=a.onLabel+"/"+a.offLabel:a.set&&a.get&&!a.choices&&(b=c.formatMessage("APEX.ACTIONS.TOGGLE",b)),b}function h(a){var b;return b=a.id?e("[for="+a.id+"]"):e(a).closest("label")}function i(a,b){var d,e,f;for(d=0;d<b.length;d++)e=b[d],f=e+"Key",a[f]&&(a[e]=c.getMessage(a[f]),delete a[f])}function j(a,c){b.error("No such action '"+a+"'"+c)}function k(c,d){function f(a,b){var c,d;for(c=0;c<u.length;c++)(d=u[c])(a,b)}function h(a){f(a,"update")}function k(a,b,c){var d=p[a];d&&d[b]!=c&&(d[b]=c,h(d))}function l(a,b,c){var d,e,f=a.split(",");f.length>1?(e=f[0],d=r[e],d||(d=[],r[e]=d),d.push({shortcut:a,seqLen:f.length,actionName:b,value:c})):r[a]=c?{actionName:b,value:c}:b}function m(a){var b,c,d,e;if(a)if(e=a.split(","),e&&e.length>1){for(d=e[0],c=r[d],b=0;b<c.length;b++)if(c[b].shortcut===a){c.splice(b,1);break}0===c.length&&delete r[d]}else delete r[a]}function n(a,b){var c,d,f,g,h,i,j=a.split(",");if(!(j.length>1))return r[a];if(f=j[0],h=[],d=r[f],e.isArray(d)){for(i=a.length,c=0;c<d.length;c++){if(g=d[c],g.shortcut===a)return void 0!==g.value?{actionName:g.actionName,value:g.value}:g.actionName;g.seqLen>j.length&&g.shortcut.substr(0,i)===a&&h.push(g)}return h.length&&b?h:void 0}}function o(a,c,d){var e=!0,f=d||c,g=f.shortcut,h=c.name;return a.isValidShortcut(g)?!d&&f.choices?(b.warn("Shortcut '"+g+"' for radio group action '"+h+"' ignored."),e=!1):n(g)?(b.warn("Duplicate shortcut '"+f.shortcut+"' for action '"+h+"' ignored."),e=!1):(q[d?h+t+d.value:h]=g,l(g,h,d&&d.value)):(b.warn("Invalid shortcut '"+g+"' for action '"+h+"' ignored."),e=!1),e||(f.shortcut=null),e}var p={},q={},r={},u=[],v=!1,w=0,x={typeName:c,context:d,add:function(a){var c,d,g,h,j=!0;for(e.isArray(a)||(a=[a]),c=0;c<a.length;c++)if(g=a[c],g.name)if(p[g.name])b.warn("Duplicate action '"+g.name+"' ignored."),j=!1;else{if(p[g.name]=g,g.shortcut&&(o(this,g)||(j=!1)),i(g,M),g.choices)for(d=0;d<g.choices.length;d++)h=g.choices[d],h.shortcut&&(o(this,g,h)||(j=!1)),i(h,N);f(g,"add")}return j},addFromMarkup:function(a){var b=this;a.children("ul").children("li").each(function(){var a,c,d,f,g=null,h=e(this),i=h.children("a").eq(0),j=h.children("span").eq(0);a={},i.length>0?(a.label=i.text(),a.href=i.attr("href"),g=i.attr(s)):j.length>0&&(a.label=j.text(),g=j.attr(s)),g&&(a.title=g),a.name=h.attr("data-id"),"true"===h.attr("data-hide")&&(a.hide=!0),"true"===h.attr("data-disabled")&&(a.disabled=!0),a.shortcut=h.attr("data-shortcut")||null,c=h.attr("data-icon"),c&&(d=c.indexOf(" "),d>=0?(a.iconType=c.substring(0,d),a.icon=c.substring(d+1)):a.icon=c),a.name&&a.label&&"separator"!==a.href&&(f=b.lookup(a.name),f?e.each(["label","href","hide","disabled","shortcut","icon","iconType"],function(b,c){!f[c]&&a[c]&&(f[c]=a[c])}):b.add(a)),h.children("ul").length>0&&b.addFromMarkup(h)})},remove:function(a){var b,c,d,g,h,i;for(e.isArray(a)||(a=[a]),b=0;b<a.length;b++)if(g=a[b],h="string"==typeof g?g:g.name,h&&p[h]){if(g=p[h],i=g.shortcut,i&&m(i),g.choices)for(c=0;c<g.choices.length;c++)d=g.choices[c],i=d.shortcut,i&&(m(i),delete q[h+t+d.value]);delete p[h],delete q[h],f(g,C)}},clear:function(){var a,b;for(a in p)b=p[a],f(b,C);p={},q={},r={}},lookup:function(a){return p[a]},list:function(){var a,b,c,d,e,f,h=[];for(c in p)if(d=p[c],e=g(d),d.choices)for(a=0;a<d.choices.length;a++)b=d.choices[a],f=e?e+": "+b.label:b.label,h.push({name:c,choice:b.value,label:f});else h.push({name:c,label:e});return h},update:function(a){var b,c,d,e=p[a],f=q[a],g=!0;if(e.shortcut!==f&&(m(f),e.shortcut?o(this,e)||(g=!1):delete q[a]),i(e,M),e.choices)for(b=0;b<e.choices.length;b++)c=e.choices[b],d=a+t+c.value,f=q[d],c.shortcut!==f&&(m(f),c.shortcut?o(this,e,c)||(g=!1):delete q[d]),i(c,N);return h(e),g},updateChoices:function(a){var b=p[a],c=!1;return b.choices&&(f(b,"updateChoices"),c=!0),c},enable:function(a){k(a,D,!1)},disable:function(a){k(a,D,!0)},hide:function(a){k(a,"hide",!0)},show:function(a){k(a,"hide",!1)},invoke:function(b,c,d){var e=p[b];return e&&(e.action||e.href)?e.disabled||e.hide?void 0:e.action?e.action(c,d):(a.navigation.redirect(e.href),!0):(j(b," or action can't be invoked."),!1)},toggle:function(a){var b,c=p[a];return c&&c.get&&c.set&&!c.choices?void(c.disabled||c.hide||(b=!c.get(),c.set(b),this.update(a))):(j(a," or action cannot be toggled."),!1)},get:function(a){var b=p[a];return b&&b.get?b.get():(j(a," or cannot get action value."),null)},set:function(a,b){var c=p[a];c&&c.get&&c.set?c.disabled||c.hide||(c.choices||(b=!!b),c.set(b),this.update(a)):j(a," or cannot set action value.")},_lookupShortcutAction:function(a,b,c){if(!v||c)return n(a,b)},addShortcut:function(a,c,d){var f,g,h,i=p[c];if(!i)return b.warn("No such action '"+c+"'."),!1;if(!this.isValidShortcut(a))return b.warn("Invalid shortcut '"+a+"' ignored."),!1;if(h=n(a,!0),h||e.isArray(h))return b.warn("Duplicate shortcut '"+a+"' for action '"+c+"' ignored."),!1;if(i.choices){if(!d)return b.warn("Shortcut '"+a+"' for radio group action '"+c+"' ignored."),!1;for(g=!1,f=0;f<i.choices.length;f++)if(i.choices[f].value===d){g=!0;break}if(!g)return b.warn("No such choice '"+d+" for action '"+c+"'."),!1}return l(a,c,d),!0},removeShortcut:function(a){var c;return c=n(a,!0),!e.isArray(c)&&(c&&"string"!=typeof c&&(c=c.actionName+t+c.value),q[c]===a?(b.warn("Can't delete primary for action."),!1):(m(a),!0))},listShortcuts:function(){var a,b,c,d,f,h,i,j,k,l=[];for(f in r)for(c=r[f],e.isArray(c)||(d={shortcut:f},"string"!=typeof c?(d.actionName=c.actionName,d.value=c.value):d.actionName=c,c=[d]),b=0;b<c.length;b++){if(d=c[b],h=p[d.actionName],j={shortcut:d.shortcut,shortcutDisplay:this.shortcutDisplay(d.shortcut),actionName:d.actionName},i=d.value,i&&h.choices){for(j.choice=i,a=0;a<h.choices.length;a++)if(h.choices[a].value===i){k=g(h),k?k+=":"+h.choices[a].label:k=h.choices[a].label,j.actionLabel=k;break}}else j.actionLabel=g(h);l.push(j)}return l},shortcutDisplay:function(a){function b(a){var b,c=a.split("+");for(b=0;b<c.length;b++)b>0&&(d+="+"),d+=F?"Alt"===c[b]?"Option":"Meta"===c[b]?"âŒ˜":c[b]:c[b]}var c,d="",e=a.split(",");for(c=0;c<e.length;c++)c>0&&(d+=", "),b(e[c]);return d},disableShortcuts:function(){w+=1,w>0&&(v=!0)},enableShortcuts:function(){w-=1,w<=0&&(v=!1,w=0)},observe:function(a){u.push(a)},unobserve:function(a){var b;for(b=0;b<u.length;b++)if(u[b]===a){u.splice(b,1);break}},isValidShortcut:function(a,b){function c(a){var b,c,d,e,f=0,g=!0,h=a.split("+");for(b=0;b<h.length-1;b++){if(c=h[b],"Ctrl"===c)d=1;else if("Alt"===c)d=2;else if("Meta"===c)d=3;else{if("Shift"!==c){g=!1;break}d=4}if(d<=f){g=!1;break}f=d}if(g){c=h[b],g=!1;for(e in E)if(E[e]===c){g=!0;break}}return g}var d,e=a.split(",");for(d=0;d<e.length;d++)if(!c(e[d]))return!1;return!(b&&n(a,!0))}};return x}function l(c,g){function i(a,c,d,e){var f,g,h;try{if(f=F.lookup(a),!f)return void j(a,".");if(f.disabled)return;if(f.action||f.href){if(b.info(d+" invoke action '"+a+"'"),g=F.invoke(a,c,c.target),g===!1)return}else f.get&&f.set?(void 0!==e?(f.set(e),b.info(d+" set action '"+a+"'. Value now "+e)):(h=!f.get(),f.set(h),b.info(d+" toggle action '"+a+"'. Value now "+h)),F.update(a)):b.error("Error action '"+a+"' has no href or action, get, or set methods.")}catch(i){b.error("Error in action for '"+a+"'.",i)}g!==!0&&c.target.focus()}var l,t=null,E=e(g),F=k(c,g);return m(c,g),l=S[c],l||(l=[],S[c]=l),l.push(F),F.observe(function(a,b){function c(a,b,c){a.find("."+b).each(function(){var a=e(this),d=[],f=a.attr("class");e.each(f.split(" "),function(a,b){/^t-/.test(b)&&d.push(b)}),d.push(b),d.push(c),a.attr("class",d.join(" "))})}var f=a.name,g=e("[data-action="+f+"]",E);b!==C?g.each(function(){var f,g,i,j,k,l,m,t,C,E,H,I,J,K,L,M,N,S,T,U,V,W,X=!1,Y="action",Z=e(this);if(a.hide)return void Z.hide();if(Z.show(),a.get&&(Y=a.choices?v:u,C=a.get()),Z.is(p)?V=A:Z.is(o)?V=z:Z.is(q)?(V=y,H=Z,H[0].nodeName!==B&&(H=Z.find("input")),I=h(H[0]),I.is(O)?(X=!0,J=Z.find(P).first(),J.length||(J=I)):J=I):Z.is(n)&&(V=x,J=Z.find(P).first(),J.length||(J=Z)),"updateChoices"===b||"add"===b&&Y===v&&0===Z.children().length){if(g=d.htmlBuilder(),V===A)for(j=null,f=0;f<a.choices.length;f++)i=a.choices[f],i.hide||(void 0!==i.group&&i.group!==j&&(null!==j&&g.markup("</optgroup>"),null!==i.group&&g.markup("<optgroup").attr("label",i.group).markup(">"),j=i.group),g.markup("<option").attr("value",i.value).markup(">").content(i.label).markup("</option>"));else if(V===z)for(K=Z.closest("[id]")[0].id+"_"+a.name,L=Z.attr("data-item-start")||a.labelStartClasses,M=Z.attr("data-item")||a.labelClasses,N=Z.attr("data-item-end")||a.labelClasses,T=Z.attr("data-item-wrap")||a.itemWrapClasses||!1,S=!1,T&&(S=!!T&&"span",T&&T.indexOf(":")>0&&(T=T.split(":"),S=T[0],T=T[1]),S&&1!=={p:1,li:1,span:1,div:1}[S]&&(S="span")),f=0;f<a.choices.length;f++)i=a.choices[f],i.hide||(k=K+"_"+f,l=0===f&&L?L:f===a.choices.length-1&&N?N:M||"",S&&g.markup("<"+S).attr("class",T).markup(">"),g.markup("<input type='radio'").attr("name",K).attr("id",k).attr("value",i.value).markup("><label").attr("for",k).attr("class",l).attr(s,i.title||i.icon?i.title||i.label:null).markup(">"),i.icon?g.markup("<span class='u-VisuallyHidden'>").content(i.label).markup("</span><span aria-hidden='true'").attr("class",(i.iconType||"a-Icon")+" "+i.icon).markup("></span>"):g.content(i.label),g.markup("</label>"),S&&g.markup("</"+S+">"));Z.html(g.toString())}else"add"===b&&(null===a.label&&(V===x&&"action"===Y?Z.attr(r)?a.label=Z.attr(r):Z.is(R)?a.label=Z.attr(s):a.label=J.text():V===y&&Y===u?X&&I.is(R)?(a.label=I.find(".u-VisuallyHidden").first().text(),a.label||(a.label=I.attr(s))):a.label=J.text():Z.attr(r)&&(a.label=Z.attr(r))),null===a.title&&V!==z&&(a.title=Z.attr(s),!a.title&&I&&(a.title=I.attr(s)),!a.label&&a.title&&(a.label=a.title)),null===a.disabled&&(Z.prop(D)||H&&H.prop(D))&&(a.disabled=!0));if(t=a.label,E=a.title,t||Y!==u||(t=C?a.onLabel:a.offLabel),U="",a.shortcut&&G&&(U=" ("+F.shortcutDisplay(a.shortcut)+")"),void 0===Z.attr("data-no-update")&&(V===x&&Z.is(R)?(Z.attr(r,t+U),E||(E=t)):V===y&&Y===u&&X&&I.is(R)?(I.find(".u-VisuallyHidden").first().text(t),E||(E=t)):Y===v?(t?Z.attr(r,t):Z.removeAttr(r),V!==A||E||(E=t)):J&&(J.text(t),U?Z.attr(r,t+U):Z.removeAttr(r)),V!==z&&(U&&(E||(E=""),E+=U),E?Z.attr(s,E):Z.removeAttr(s)),V===x&&a.icon&&Z.is(Q)?(m=a.iconType||"a-Icon",c(Z,m,a.icon)):X&&a.icon&&I.is(Q)&&(m=a.iconType||"a-Icon",c(I,m,a.icon))),"action"!==Y&&(V===A?Z.val(C):V===z?(Z.find(".is-active").removeClass(w),H=Z.find("[value="+d.escapeCSS(C)+"]"),H.prop("checked",!0),H.length&&(I=h(H[0]),I.addClass(w))):V===y?(H.prop("checked",!!C),I.toggleClass(w,C)):Z.is(n)&&(Y!==u||a.onLabel||Z.toggleClass(w,C))),V===y&&H.prop(D,!!a.disabled),V===z||V===A){for(W=Z.find("option,input"),f=0;f<a.choices.length;f++)i=a.choices[f],W.eq(f).prop(D,!!i.disabled);V===A&&Z.prop(D,!!a.disabled)}else Z.prop(D,!!a.disabled)}):g.hide()}),E.on("click.actions",n,function(a){var b=e(this).attr("data-action");i(b,a,"Button click"),a.stopPropagation()}).on("click.actions",q,function(a){var b,c=e(this).attr("data-action");a.target.nodeName===B&&(b=a.target,i(c,a,"Checkbox click",b.checked),a.stopPropagation())}).on("change.actions",o,function(a){var b,c,d=e(this).attr("data-action");c=e(this).find(":checked"),b="",c.length&&(b=c.val()),i(d,a,"Radio group change",b),a.stopPropagation()}).on("change.actions",p,function(a){var b,c=e(this).attr("data-action"),d=e(this);b=d.val(),i(c,a,"Select change",b),a.stopPropagation()}).on("keydown.actions",function(b){var c,d,g,h,j,k,l=a.actions.partialShortcutInput;G&&!b.isDefaultPrevented()&&(h=b.originalEvent||b,k=t,g=f(h,!!t),g?(t&&(t+=","+g,g=t),c=F._lookupShortcutAction(g,!0),e.isArray(c)?(t||(t=g),b.stopPropagation(),b.preventDefault(),c=null):c||(t=null),c&&(t&&l&&l(F.shortcutDisplay(t)),t=null,"string"!=typeof c&&(d=c.value,c=c.actionName),i(c,b,"Shortcut key",d),c=null,b.stopPropagation(),b.preventDefault())):(j=h.which,16!==j&&17!==j&&18!==j&&91!==j&&(t=null)),(t||k)&&l&&l(t?F.shortcutDisplay(t):null))}).on("menubeforeopen.actions",function(){F.disableShortcuts()}).on("menuafterclose.actions",function(){F.enableShortcuts()}).on("dialogopen.actions",function(a){a.target!==F.context&&e(a.target).dialog("option","modal")&&F.disableShortcuts()}).on("dialogclose.actions",function(a){a.target!==F.context&&e(a.target).dialog("option","modal")&&F.enableShortcuts()}),F}function m(a,b){var c,d,f;if(d=S[a])for(c=0;c<d.length;c++)if(d[c].context===b)return f=e(d[c].context),f.off(".actions"),d.splice(c,1),void(0===d.length&&delete S[a])}var n=".js-actionButton",o=".js-actionRadioGroup",p=".js-actionSelect",q=".js-actionCheckbox",r="aria-label",s="title",t=">",u="toggle",v="radio",w="is-active",x="button",y="checkbox",z="radio",A="select",B="INPUT",C="remove",D="disabled",E={6:"Help",8:"Backspace",13:"Enter",27:"Escape",32:"Space",33:"Page Up",34:"Page Down",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"Keypad 0",97:"Keypad 1",98:"Keypad 2",99:"Keypad 3",100:"Keypad 4",101:"Keypad 5",102:"Keypad 6",103:"Keypad 7",104:"Keypad 8",105:"Keypad 9",106:"Keypad *",107:"Keypad +",109:"Keypad -",110:"Keypad .",111:"Keypad /",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",186:"Semicolon",187:"=",188:"Comma",189:"Minus",190:"Period",191:"/",192:"Backtick",219:"[",220:"\\",221:"]",222:"Quote"},F=navigator.appVersion.indexOf("Mac")>=0,G=!0,H=!0,I={T_RADIO:1,T_CHECKBOX:1,submit:1,image:1,reset:1,T_BUTTON:1},J={"Ctrl+C":1,"Ctrl+X":1,"Ctrl+V":1,"Ctrl+A":1,"Ctrl+Z":1,"Ctrl+Shift+Z":1,"Ctrl+Y":1},K={"Meta+C":1,"Meta+X":1,"Meta+V":1,"Meta+A":1,"Meta+Z":1,"Meta+Shift+Z":1},L={option:1,treeitem:1},M=["label","onLabel","offLabel","title","contextLabel"],N=["label","group","title"],O=".a-Button, .t-Button",P=".a-Button-label, .t-Button-label",Q=".a-Button--withIcon, .t-Button--icon",R=".a-Button--noLabel, .t-Button--noLabel",S={};a.actions={},a.actions.createContext=l,a.actions.removeContext=m,e(function(){e.extend(a.actions,l("global",document.body)),S.global[0]=a.actions}),a.actions.getContextTypes=function(){var a,b=[];for(a in S)S.hasOwnProperty(a)&&b.push(a);return b},a.actions.getContextsForType=function(a){return S[a]||[]},a.actions.findContext=function(a,b){function c(a){var c;for(c=0;c<a.length;c++)if(a[c].context===b)return a[c]}var d,e,f;if(b||(b=a,a=null),a)e=S[a],e&&(f=c(e));else for(d in S)if(f=c(S[d]))break;return f},a.actions.getShortcutFromEvent=function(a){var b=f(a.originalEvent||a,!0);return b?{shortcut:b,shortcutDisplay:this.shortcutDisplay(b)}:null},a.actions.shortcutSupport=function(a){return void 0===a?G?H?"sequence":"single":"off":(G=!0,void("single"===a?H=!1:"sequence"===a?H=!0:G=!1))},a.actions.setShortcutKeyBindings=function(b){function c(a,b,c,d,f){var g,h,i,j,k=!1,l=a._lookupShortcutAction(b,!0,!0);if(e.isArray(l))return!1;if(!l)return!0;if("string"!=typeof l&&(h=l.value,l=l.actionName),i=a.lookup(l),h){for(g=0;g<i.choices.length;g++)if(j=i.choices[g],j.value===h){k=j.shortcut===b;break}}else k=i.shortcut===b;return(c!==l||d!==h||k!==f)&&(k?(h?j.shortcut=null:i.shortcut=null,a.update(l)):a.removeShortcut(b),!0)}var d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u={};for(d=0;d<b.length;d++)if(h=b[d],h.shortcut&&(p=h.type+":"+h.shortcut,u[p]=1),h.shortcuts)for(f=0;f<h.shortcuts.length;f++)p=h.type+":"+h.shortcuts[f],u[p]=1;for(r=a.actions.getContextTypes(),d=0;d<r.length;d++)for(s=r[d],i=a.actions.getContextsForType(s),f=0;f<i.length;f++)for(j=i[f],t=j.listShortcuts(),g=0;g<t.length;g++)p=s+":"+t[g].shortcut,u[p]||c(j,t[g].shortcut);for(d=0;d<b.length;d++)if(h=b[d],m=h.name,q=h.choice,n=h.shortcut,o=h.shortcuts||[],(n||o.length)&&(i=a.actions.getContextsForType(h.type)))for(f=0;f<i.length;f++)if(j=i[f],k=j.lookup(m)){if(n&&c(j,n,m,q,!0)){if(q){for(g=0;g<k.choices.length;g++)if(l=k.choices[g],l.value===q){l.shortcut=n;break}}else k.shortcut=n;j.update(m)}if(o.length>0)for(g=0;g<o.length;g++)c(j,o[g],m,q,!1)&&j.addShortcut(o[g],m,q)}}}(apex,apex.debug,apex.lang,apex.util,apex.jQuery);