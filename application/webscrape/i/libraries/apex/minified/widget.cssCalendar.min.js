!function(a,b,c,d){a.cssCalendar=function(e,f,g,h){function i(a){return!(a.source&&"SQL"===a.apexEventSource)}function j(){return hb+ ++kb}function k(a){function b(a){h[a]?h[a]++:h[a]=1}function c(a){return h[a]||0}var e,f=d("div.fc-content-skeleton td["+Ka+"="+a+"]"),g=f.index(),h=[],i=[],j=!1;return f.closest("table").find("tbody > tr").each(function(a){var f,h,k,l=c(a),m=-1;apex.debug.trace("Row Number:"+a),j===!1&&d(this).children().each(function(c){var n=d(this).attr("rowspan"),o=d(this).attr("colspan")||1,p=this;for(apex.debug.trace("Row Number:"+c),f=0;f<o;f++)if("none"!==d(p).css("display")){if(m++,apex.debug.trace("Col Number:"+m+" - Offset:"+l),m+l>=g){if(i[a])return!1;if(d(p).find("a.fc-more").length>0&&(apex.debug.trace("found the link."),e=d(p).find("a.fc-more"),j=!0),n>1)for(h=1;h<n;h++)i[a+h]=!0;return!1}if(n>1)for(k=1;k<n;k++)b(a+k)}})}),e}function l(a){return("0000"+a.year()).substr(-4)+("00"+(a.month()+1)).substr(-2)+("00"+a.date()).substr(-2)}function m(a){return l(a)+("00"+a.hour()).substr(-2)+("00"+a.minute()).substr(-2)+("00"+a.second()).substr(-2)}function n(a){var b;return b=null!==a.end&&a.allDay&&!ea.endDateExclusive?a.end.clone().subtract(1,qa):a.end}function o(a){var b;if(!ea.showTime)for(b=0;b<a.length;b++)a[b].allDay=!0;return a}function p(a){var b;if(!ea.endDateExclusive)for(b=0;b<a.length;b++)a[b].end&&(a[b].end=moment(a[b].end,eb+"[T]"+fb).add(a[b].allDay?"1":"0",qa).format(eb+"[T]"+fb));return a}function q(){var a=d(window).width(),b=d(window).height(),c=fa.width(),e=fa.height(),f=Math.round(c/e*10)/10,g=Math.round(a/b*10)/10,h=f;return g<1&&f>1?h=g:g>1&&f<1&&(h=1),h<1?h=1:h>2.6&&(h=2.6),h}function r(a){return a<=9?"0"+a+":00:00":""+a+":00:00"}function s(a,b){c.plugin(ea.ajaxIdentifier,{x01:"PREPARE_URL",x02:m(a),x03:m(b),x06:ea.createLink},{success:function(a){a.url?apex.navigation.redirect(a.url):apex.debug(a)}})}function t(a){var b;return b=ea.minTime?moment(a.format(eb)+"T"+ea.minTime+"Z"):moment(a.format(eb)+"T00:00:00Z")}function u(a){var b;return b=ea.maxTime?moment(a.format(eb)+"T"+ea.maxTime+"Z"):moment(a.format(eb)+"T00:00:00Z").add(1,qa)}function v(a){var b,c,d,e,f,g,h,i;ea.minTime?(b=parseInt(ea.minTime.substr(0,2),10),b=b<0?0:b):b=0,c=ga.find(".fc-time-grid-container"),d=ga.find(".fc-time-grid-container .fc-axis:odd:eq("+(a-b)+")"),d.length&&(e=d.position().top,f=2*d.height(),g=c.scrollTop(),h=c.height(),i=e+f-(g+h),e<g&&c.animate({scrollTop:e},10),e+f>g+h&&c.animate({scrollTop:g+Math.max(f,i)},10))}function w(a){return apex.jQuery(a).parent().width()}function x(a,b){return apex.jQuery(a+' div[id="'+b+'"]').length}function y(a,b){return apex.jQuery(a+' div[id="'+b+'"]:first').parent().position().left}function z(a,b,c,d){var e=c;apex.jQuery(a+'div[id="'+b+'"]').each(function(a){apex.jQuery(this).width(d),apex.jQuery(this).css("left",e),e+=d})}function A(){var a,b,c,d,e,f=apex.jQuery('div[id="cal_scroll_div"]'),g=Math.round(apex.jQuery('div[id="cal_main"]').width()/1.35);e=apex.jQuery('table[id="cal_main_table"]').find("tbody"),1===apex.jQuery(e).length&&(a=apex.jQuery(e).position().top,b=apex.jQuery(f).position().top,c=Math.min(g-a,apex.jQuery('div[id="cal_days"]').height()+b+1),d=c-b-1<500?500:c-b-1,f.height(d),apex.jQuery('div[id="cal_div_filler"]').height(d+50))}function B(){var a,b,c,d=apex.jQuery("td.m-Calendar-Day.priority1:first").width(),e=apex.jQuery("th.m-Calendar-HourTitle:first").width();a=apex.jQuery('div[id="cal_scroll_div"]'),1===apex.jQuery(a).length&&(b=apex.jQuery(a).get(0).clientWidth,c=apex.jQuery(a).width(),c-b?(apex.jQuery("td.m-Calendar-DivFiller").show(),apex.jQuery("th.m-Calendar-DivFiller").show()):(apex.jQuery("td.m-Calendar-DivFiller").hide(),apex.jQuery("th.m-Calendar-DivFiller").hide()),apex.jQuery("th.m-Calendar-DayOfWeek").each(function(a){apex.jQuery(this).width(d)}),apex.jQuery("td.m-Calendar-AllDay").each(function(a){apex.jQuery(this).width(d)}),apex.jQuery("th.m-Calendar-AlldayTitle").each(function(a){apex.jQuery(this).width(e+1)}),apex.jQuery("th.m-Calendar-HeadFiller").width(e+Math.round(e/3)),apex.jQuery("th.m-Calendar-DayOfWeek:first").css("left",apex.jQuery("td.m-Calendar-Day.priority1:first").position().left))}function C(a){var b=k(a);b&&b.click()}function D(){d(ga.find("span.fc-close.ui-icon.ui-icon-closethick")).click()}function E(){apex.jQuery("."+Ea+"."+Da).css("background-color",""),apex.jQuery("."+Ea+"."+Da).removeClass(Da)}function F(a){var b,c,d=a.start.clone().startOf(ra),e=a.end.clone().subtract(1,"second").startOf(ra);for(b=d;b.isSameOrBefore(e);)c=b.format(eb),apex.jQuery("."+Ea+"["+Ka+"="+c+"]").addClass(Da),apex.jQuery("."+Ea+"["+Ka+"="+c+"]").css("background-color",Ma),b.add(1,ra)}function G(){var a=ga.fullCalendar(Za),b=ga.fullCalendar(ab,lb.SELECTORID);if(a.name===ma)E();else if(b.length>0)try{ga.fullCalendar(bb,lb.SELECTORID)}catch(c){}}function H(a){var b,c=ga.fullCalendar(Za);if(lb.selectorEvent)if(c.name===ma)E(),F(lb.selectorEvent);else if(b=ga.fullCalendar(ab,lb.SELECTORID)[0],a&&b)b.start=ib.moment(lb.selectorEvent.start.format(eb+"[T]"+fb)),b.end=ib.moment(lb.selectorEvent.end.format(eb+"[T]"+fb)),ga.fullCalendar(cb,b);else{try{ga.fullCalendar(bb,lb.SELECTORID)}catch(d){}b={id:lb.selectorEvent.id,title:lb.selectorEvent.title,allDay:lb.selectorEvent.allDay,editable:lb.selectorEvent.editable,durationEditable:lb.selectorEvent.durationEditable,className:lb.selectorEvent.className,start:ib.moment(lb.selectorEvent.start.format(eb+"[T]"+fb)),end:ib.moment(lb.selectorEvent.end.format(eb+"[T]"+fb)),overlap:lb.selectorEvent.overlap},ga.fullCalendar(db,b)}}function I(){lb.browseMode=Aa,lb.activeDayEvent=!1,D(),d("."+Fa,ga).removeClass(Ca),d("div."+Ia,ga).focus(),H()}function J(a,c){var e;e=d("."+Fa+"[data-id='"+b.escapeHTML(c)+"']",ga),e.addClass(Ca),e&&(a.name===lb.MONTH_VIEW?1===e.length?e.focus():e.each(function(a,b){d(b).closest("."+Ga)&&d(b).focus()}):e.first().focus())}function K(a){var b,c=ga.fullCalendar(ab);for(lb.dayEvents=[],b=0;b<c.length;b++)c[b].start.isAfter(a.end.clone().subtract(1,va))||c[b].end&&c[b].end.isBefore(a.start)||!c[b].end&&c[b].start.isBefore(a.start)||c[b].id===lb.SELECTORID||lb.dayEvents.push(c[b]);return lb.dayEvents.sort(function(a,b){function c(a){var b;return b=a.end?m(a.start)+(9999999999-(a.end-a.start)/6e4).toString()+a.title:m(a.start)+"9999999999"+a.title}var d,e,f;return d=c(a),e=c(b),f=d<e?-1:d>e?1:0}),lb.dayEvents.length>0&&(G(),lb.browseMode=za,lb.activeDayEvent=0,a.name===ma&&C(lb.dayEvents[lb.activeDayEvent].start.format(eb)),J(a,lb.dayEvents[lb.activeDayEvent].id)),lb.dayEvents.length>0}function L(a){var b,c;a.name!==lb.LIST_VIEW&&(a.name===lb.MONTH_VIEW?(b=a.start.clone().add(15,qa).startOf(ma),a.validRange&&a.validRange.start&&b.isBefore(a.validRange.start)&&(b=ib.moment(a.validRange.start)),c=b.clone().add(1,qa)):(b=a.start.clone().hour(ea.startingHour),c=a.start.clone().hour(ea.startingHour).add(60,ua)),lb.selectorEvent={id:lb.SELECTORID,title:"",allDay:a.name===lb.MONTH_VIEW,editable:!1,durationEditable:!1,className:lb.cssClass,start:b,end:c,overlap:!0},a.options.selectable=!1,lb.keyboardActive=!0,K(a)||I())}function M(){lb.browseMode===za&&I(),G(),lb.keyboardActive=!1,ga.fullCalendar(Za).options.selectable=!0}function N(){ea.isMobile?apex.widget.cssCalendar.refreshMobileCalendar():(ga.fullCalendar(Ya),lb.keyboardActive===!0&&lb.browseMode===za&&M())}function O(a,b,c){var d;ga.fullCalendar(Za).name===ma?(b.subtract(1,ua),d=l):d=m,ea.createLink&&""!==ea.createLink?s(a,b):apex.event.trigger(fa,Oa,{newStartDate:d(a),newEndDate:d(b)}),ga.fullCalendar($a),ga.fullCalendar(Xa)}function P(a,b,c){var e;return!(0!==ga.fullCalendar(Za).name.indexOf(ta)||!d(b.target).parents().hasClass("fc-list-item-description")||"A"!==d(b.target).prop("tagName"))||(a.id===lb.SELECTORID?O(lb.selectorEvent.start.clone(),lb.selectorEvent.end.clone(),ia):a.url?apex.navigation.redirect(a.url):(e=d.extend(!0,{},a),e.end=null!==e.end?n(e):null,apex.event.trigger(fa,Qa,{event:e})),!1)}function Q(a,b,c,d){var e,f;return!a.options.validRange||(1===b&&!a.options.validRange.end||b===-1&&!a.options.validRange.start||(a.options.validRange.start&&(e=a.name===ma?ib.moment(a.options.validRange.start).startOf(ra):ib.moment(a.options.validRange.start)),a.options.validRange.end&&(f=a.name===ma?ib.moment(a.options.validRange.end).endOf(ra):ib.moment(a.options.validRange.end)),1===b?!a.options.validRange.end||!!lb.selectorEvent.end.clone().add(c,d).isSameOrBefore(f):!a.options.validRange.start||!!lb.selectorEvent.start.clone().subtract(c,d).isSameOrAfter(e)))}function R(a,b,c,d){var e,f,g=!1,h=!1;if(Q(a,b,c,d)){switch(a.name){case lb.MONTH_VIEW:if(h=!0,d===qa){for(e=lb.selectorEvent.start.clone().startOf(ma),f=lb.selectorEvent.start.clone().endOf(ma);!ea.weekEnds&&e.format("E")>5;)e.add(1,d);for(;!ea.weekEnds&&f.format("E")>5;)f.subtract(1,d);(1===b&&!lb.selectorEvent.start.clone().add(c,d).isBefore(f)||b===-1&&lb.selectorEvent.start.clone().subtract(c,d).isBefore(e))&&(g=!0)}break;case lb.WEEK_VIEW:d===qa?(h=!0,(1===b&&!lb.selectorEvent.start.clone().add(c,d).isBefore(a.end)||b===-1&&lb.selectorEvent.start.clone().subtract(c,d).isBefore(a.start))&&(g=!0)):(1===b&&!lb.selectorEvent.end.clone().add(c,d).isAfter(u(lb.selectorEvent.end.clone().subtract(1,va)))||b===-1&&!lb.selectorEvent.start.clone().subtract(c,d).isBefore(t(lb.selectorEvent.start)))&&(h=!0);break;case lb.DAY_VIEW:d===qa?(g=!0,h=!0):(1===b&&!lb.selectorEvent.end.clone().add(c,d).isAfter(u(a.start))||b===-1&&!lb.selectorEvent.start.clone().subtract(c,d).isBefore(t(a.start)))&&(h=!0)}if(h){if(lb.selectorEvent.start.add(c*b,d),lb.selectorEvent.end.add(c*b,d),d===qa)for(;!ea.weekEnds&&lb.selectorEvent.start.format("E")>5;)lb.selectorEvent.start.add(b,d),lb.selectorEvent.end.add(b,d);g?(lb.viewChangeByKey=!0,ga.fullCalendar(Ua,lb.selectorEvent.start),H(!1),a.name!==lb.WEEK_VIEW&&a.name!==lb.DAY_VIEW||v(lb.selectorEvent.start.hour())):H(!0),a.name!==lb.WEEK_VIEW&&a.name!==lb.DAY_VIEW||v(lb.selectorEvent.start.hour())}}}function S(a,b,c,d){var e=!1;if(b===-1)lb.selectorEvent.end.clone().subtract(c,d).isAfter(lb.selectorEvent.start)&&(e=!0);else switch(a.name){case lb.MONTH_VIEW:d===qa&&lb.selectorEvent.end.clone().add(c,d).subtract(1,ua).isBefore(a.end)&&(e=!0);break;case lb.WEEK_VIEW:d===qa?lb.selectorEvent.end.clone().add(c,d).subtract(1,va).isBefore(a.end)&&(e=!0):lb.selectorEvent.end.clone().add(c,d).isAfter(u(lb.selectorEvent.end.clone().subtract(1,va)))||(e=!0);break;case lb.DAY_VIEW:d===ua&&(lb.selectorEvent.end.clone().add(30,ua).isAfter(u(a.start))||(e=!0))}if(e){if(lb.selectorEvent.end.add(c*b,d),d===qa)for(;!ea.weekEnds&&lb.selectorEvent.end.clone().subtract(1,va).format("E")>5;)lb.selectorEvent.end.add(b,qa);H(!0)}a.name!==lb.DAY_VIEW&&a.name!==lb.WEEK_VIEW||v(lb.selectorEvent.end.clone().subtract(1,ua).hour())}function T(a,b){d("."+Fa,ga).removeClass(Ca),b===-1?lb.activeDayEvent>0?lb.activeDayEvent--:lb.activeDayEvent=lb.dayEvents.length-1:lb.activeDayEvent<lb.dayEvents.length-1?lb.activeDayEvent++:lb.activeDayEvent=0,a.name===lb.MONTH_VIEW&&D(),a.name===lb.MONTH_VIEW&&C(lb.dayEvents[lb.activeDayEvent].start.isBefore(a.start)?a.start.format(eb):lb.dayEvents[lb.activeDayEvent].start.format(eb)),J(a,lb.dayEvents[lb.activeDayEvent].id)}function U(a,b){switch(b.which){case 27:lb.browseMode===Aa?K(a)||M():M(),b.preventDefault();break;case 78:b.shiftKey&&lb.browseMode===za&&I(),b.preventDefault();break;case 13:case 32:lb.browseMode===Aa?O(lb.selectorEvent.start.clone(),lb.selectorEvent.end.clone(),ia):P(lb.dayEvents[lb.activeDayEvent]),b.preventDefault();break;case 38:lb.browseMode===za?T(a,-1):a.name===lb.WEEK_VIEW||a.name===lb.DAY_VIEW?b.shiftKey?S(a,-1,30,ua):R(a,-1,30,ua):b.shiftKey?S(a,-1,7,qa):R(a,-1,7,qa),b.preventDefault();break;case 9:M();break;case 40:lb.browseMode===za?T(a,1):a.name===lb.WEEK_VIEW||a.name===lb.DAY_VIEW?b.shiftKey?S(a,1,30,ua):R(a,1,30,ua):b.shiftKey?S(a,1,7,qa):R(a,1,7,qa),b.preventDefault();break;case lb.KEY_NEXT:lb.browseMode===Aa&&(b.shiftKey?S(a,1,1,qa):R(a,1,1,qa)),b.preventDefault();break;case lb.KEY_PREV:lb.browseMode===Aa&&(b.shiftKey?S(a,-1,1,qa):R(a,-1,1,qa)),b.preventDefault();break;case 33:if(lb.browseMode===Aa)switch(a.name){case lb.WEEK_VIEW:R(a,-1,7,qa);break;case lb.DAY_VIEW:R(a,-1,1,qa);break;case lb.MONTH_VIEW:R(a,-1,a.start.clone().subtract(15,qa).endOf(ma).date(),qa)}b.preventDefault();break;case 34:if(lb.browseMode===Aa)switch(a.name){case lb.WEEK_VIEW:R(a,1,7,qa);break;case lb.DAY_VIEW:R(a,1,1,qa);break;case lb.MONTH_VIEW:R(a,1,a.start.clone().add(15,qa).endOf(ma).date(),qa)}b.preventDefault()}}function V(a,b){var c,e,f;f="24"===ea.timeFormatType?"ll HH:mm":"12"===ea.timeFormatType?"ll hh:mm A":"lll",b.id!==lb.SELECTORID&&b.title&&b.start&&(c=b.end?b.allDay?b.end.clone().subtract(1,qa).isBefore(b.start)?d.fullCalendar.formatRange(b.start,b.end.clone(),"ll"):d.fullCalendar.formatRange(b.start,n(b),"ll"):d.fullCalendar.formatRange(b.start,b.end,f):b.allDay?b.start.format("ll"):b.start.format(f),e='<span class="tt-title">'+(i(b)?apex.util.escapeHTML(b.title):b.title)+"</span><br>",e=e+c+"<br><br>",b.description&&(e+=i(b)?apex.util.escapeHTML(b.description):b.description),d(a).tooltip({show:apex.tooltipManager.defaultShowOption(),items:"a."+Fa,position:{my:"left top+15",at:"left center",collision:"flipfit"},content:e,classes:{"ui-tooltip":"ui-widget-content ui-corner-all ui-widget ui-tooltip"}}))}function W(a,b){a.id&&""!==a.id||(a.id=j()),b.attr("data-id",a.id),a.source&&"SQL"===a.apexEventSource&&(b.find("span.fc-title").html(b.find("span.fc-title").text()),b.find("div.fc-title").html(b.find("div.fc-title").text()),b.find("td.fc-list-item-title>a").html(b.find("td.fc-list-item-title>a").text())),0===ga.fullCalendar(Za).name.indexOf(ta)&&(b.find("td.fc-list-item-title").attr("tabindex","0"),b.find("td.fc-list-item-title").wrapInner("<div></div>"),b.find("td.fc-list-item-title a:not([href])").contents().unwrap(),a.description&&b.find("td.fc-list-item-title").append('<div class="fc-list-item-description">'+a.description+"</div>")),ea.mouseHoverOver&&V(b,a)}function X(a){var b=d(window).width();a.name===ma||a.name===oa?d(window).width()<700&&(jb=a.name,ga.fullCalendar(Va,a.name===ma?wa:xa),ga.fullCalendar(Wa,"aspectRatio",q())):0===a.name.indexOf(ta)&&b>700&&jb&&(ga.fullCalendar(Va,jb),ga.fullCalendar(Wa,"aspectRatio",q()),jb=!1)}function Y(a,b,d){"SQL"===a.apexEventSource?c.plugin(ea.ajaxIdentifier,{x01:"CHANGE",x02:m(a.start),x03:null!==a.end?m(n(a)):null,x04:a.id,x05:a.checksum,pageItems:ea.pageItems},{refreshObject:fa,success:function(a){apex.event.trigger(fa,Sa,a)},error:function(a,b,c){apex.event.trigger(fa,Ta,c),d()}}):d()}function Z(a,b,c){apex.event.gCancelFlag?c():Y(a,b,c)}function $(a){apex.event.trigger(fa,Ra,a)}function _(a,b,c){Y(a,b,c)}function aa(a,b,e,f){c.plugin(ea.ajaxIdentifier,{x01:"GET",x02:m(a),x03:m(b),pageItems:ea.pageItems},{refreshObject:fa,success:function(a){var b,c,e;for(b=p(a),e=0;e<b.length;e++)b[e].apexEventSource="SQL";d.isFunction(ea.dataFilter)&&(c=ea.dataFilter(b),c&&(b=c)),f(b)}})}function ba(a,b,c,e){ea.apexWebLink?d.ajax({url:ea.apexWebLink,dataType:"json",jsonp:!1,success:function(a){var b,c;b=p(o(a.items)),d.isFunction(ea.dataFilter)&&(c=ea.dataFilter(b),c&&(b=c)),e(b)}}):e({})}function ca(a){var b=ga.fullCalendar(Za);if(lb.keyboardActive)switch(b.name){case ma:case oa:case pa:U(b,a)}else 0!==!b.name.indexOf(ta)||!d("."+Ia,ga).is(":focus")&&!d("."+Ga,ga).is(":focus")||37!==a.which&&39!==a.which&&40!==a.which&&38!==a.which&&13!==a.which&&34!==a.which&&33!==a.which&&32!==a.which||(a.preventDefault(),L(b)),apex.clipboard.isSupported&&d("."+Ia,ga).is(":focus")&&((a.metaKey||a.ctrlKey)&&67===a.which||a.shiftKey&&121===a.which)&&(apex.clipboard.copy(),a.preventDefault())}function da(){var b,i,j=ib.moment();if(fa=d("#"+e,apex.gPageContext$),ga=d("#"+e+"_calendar",apex.gPageContext$),0===fa.length&&(fa=ga.wrap(apex.util.htmlBuilder().markup("<div").attr("id",e).markup("></div>").toString())),ha=d.fullCalendar.defaults,ea=d.extend({enableDragAndDrop:!1,pageItems:""},f),ea=d.extend(ea,ha),ea.timeFormat={month:"",agenda:""},"24"===ea.timeFormatType?(ea.slotLabelFormat="H:mm",ea.timeFormat="H:mm",ea.views={month:{timeFormat:"HH",columnFormat:"dddd"},agenda:{timeFormat:"H:mm",columnFormat:"ll"},list:{displayEventTime:!0,displayEventEnd:!0,listDayFormat:"dddd",listDayAltFormat:"LL",timeFormat:"H:mm",eventTimeFormat:"H:mm"}}):"12"===ea.timeFormatType?(ea.slotLabelFormat="h(:mm)a",ea.timeFormat="h:mm a",ea.views={month:{timeFormat:"ha",columnFormat:"dddd"},agenda:{timeFormat:"h:mm a",columnFormat:"ll"},list:{displayEventTime:!0,displayEventEnd:!0,listDayFormat:"dddd",listDayAltFormat:"LL",eventTimeFormat:"h:mm a",timeFormat:"h:mm a"}}):(ea.slotLabelFormat="",ea.timeFormat="",ea.views={month:{timeFormat:"",columnFormat:""},agenda:{timeFormat:"",columnFormat:""},list:{displayEventTime:!0,displayEventEnd:!0,timeFormat:"",listDayFormat:"dddd",listDayAltFormat:"LL",eventTimeFormat:""}}),ea.listDayFormat="dddd",ea.listDayAltFormat="LL",ia=!(!ea.apexWebLink&&!ea.googleId),ea.allDayText="all-day",ea.enableDragAndDrop?ea.enableResizing?(ea.eventStartEditable=!0,ea.eventDurationEditable=!0,ea.editable=!0):(ea.editable=!0,ea.eventStartEditable=!0,ea.eventDurationEditable=!1):(ea.eventStartEditable=!1,ea.eventDurationEditable=!1,ea.editable=!1),ea.keyBoardSupport=!0,ja=apex.storage.getScopedSessionStorage({prefix:"ORA_WWV_apex.Calendar",useAppId:!0,usePageId:!0,regionId:e}),ka=ja.getItem(gb))try{ka=JSON.parse(ka),null!==ka&&moment(ka.viewStartDate).isValid()&&(j=ka.viewStartDate)}catch(k){j=ib.moment(),ka=null}ea.isRTL&&(lb.KEY_PREV=39,lb.KEY_NEXT=37),"0"===ib.moment("2016-03-13").format("e")?la=apex.locale.getAbbrevDayNames().slice(0):(la=apex.locale.getAbbrevDayNames().slice(0,6),la.unshift(apex.locale.getAbbrevDayNames().slice(6))),i={customButtons:{apexListButton:{text:ib.locales[g]&&ib.locales[g].buttonText?ib.locales[g].buttonText[ta]:ta,click:function(){ea.viewRange&&ea.viewRange!==ma?ea.viewRange===oa?ga.fullCalendar(Va,xa):ea.viewRange===pa&&ga.fullCalendar(Va,ya):ga.fullCalendar(Va,wa)}}},theme:!0,lang:g,header:JSON.parse(ea.calendarHeader),monthNames:ea.monthNames,monthNamesShort:apex.locale.getAbbrevMonthNames(),dayNames:ea.dayNames,dayNamesShort:la,buttonText:ea.buttonText,timeFormat:ea.timeFormat,views:ea.views,displayEventTime:!1,columnFormat:ea.columnFormat,defaultView:ea.defaultView,titleFormat:ea.titleFormat,slotLabelFormat:ea.slotLabelFormat,firstDay:ea.firstDayOfWeek,isRTL:ea.isRTL,editable:ea.editable,eventStartEditable:ea.eventStartEditable,eventDurationEditable:ea.eventDurationEditable,nextDayThreshold:"00:00:00",weekends:ea.weekEnds,eventLimit:parseInt(ea.eventLimit,10)<2?2:parseInt(ea.eventLimit,10),defaultTimedEventDuration:"01:00:00",aspectRatio:q(),scrollTime:r(ea.startingHour),minTime:ea.minTime||"00:00:00",maxTime:ea.maxTime||"23:59:59",allDaySlot:ia,allDayDefault:ia,googleCalendarApiKey:ea.googleApiKey,defaultDate:j,eventSources:[{events:aa,editable:ea.editable,startEditable:ea.eventStartEditable,durationEditable:ea.eventDurationEditable},{googleCalendarId:ea.googleId,className:"fc-apex-events-gcal"},{events:ba,editable:!1,className:"fc-apex-events-webservice"}],eventResize:_,eventDrop:Z,eventDragStart:$,eventClick:P,windowResize:X,select:O,slotEventOverlap:!1,defaultEventMinutes:60,selectable:!0,selectHelper:!0,fixedWeekCount:!1,eventRender:W,viewRender:function(a,b){ja&&ja.getItem(gb)&&JSON.parse(ja.getItem(gb)).viewType===a.name||M(),ea.viewRange||(ja&&ja.getItem(gb)?ea.viewRange=JSON.parse(ja.getItem(gb)).viewType:ea.viewRange=ma),a.name===ta&&(ea.viewRange&&ea.viewRange!==ma?ea.viewRange===oa?ga.fullCalendar(Va,xa):ea.viewRange===pa&&ga.fullCalendar(Va,ya):ga.fullCalendar(Va,wa)),0===a.name.indexOf(ta)?(apex.jQuery("."+Ha).addClass("fc-state-disabled"),apex.jQuery("."+Ha).prop("disabled",!0)):(apex.jQuery("."+Ha).removeClass("fc-state-disabled"),apex.jQuery("."+Ha).prop("disabled",!1));try{ga.fullCalendar(bb,lb.SELECTORID)}catch(c){}ea.viewRange=a.name,lb.viewChangeByKey?lb.viewChangeByKey=!1:M(),0===!a.name.indexOf(ta)&&(jb=!1),ja.setItem(gb,JSON.stringify({viewType:a.name,viewStartDate:a.intervalStart,viewEndDate:a.intervalEnd,viewIntervalUnit:a.intervalUnit})),apex.event.trigger(fa,Pa,{viewType:a.name,startDate:m(a.intervalStart),endDate:m(a.intervalEnd.clone().subtract(1,"second"))}),a.name!==ma&&a.name!==oa&&a.name!==pa||(d("."+Ia+" > table",ga).attr("role","presentation"),d("."+Ia+" > table > tbody.fc-body table",ga).attr("role","presentation"),d("."+Ia+" > table > thead.fc-head table",ga).attr("role","presentation"),d("."+Ia+" > table > thead.fc-head table > thead > tr > th ",ga).attr("scope","col")),a.name!==oa&&a.name!==ma||d("."+Ia+" > table > thead.fc-head table",ga).each(function(a,b){d(b).attr("summary",d("thead th:not(.fc-axis)",d(b)).first().text()+" - "+d("thead th:last-child()",d(b)).text())}),a.name===pa&&d("."+Ia+" > table > thead.fc-head table",ga).each(function(a,b){d(b).attr("summary",d("thead th:not(.fc-axis)",d(b)).first().text())}),a.name===ma&&d("."+Ia+" > table > tbody.fc-body table",ga).each(function(a,b){d(b).attr("summary",d("thead td:nth-child(1)",d(b)).attr(Ka)+" - "+d("thead td:last-child()",d(b)).attr(Ka))}),ea.isMobile||ea.keyBoardSupport&&(d("."+Ia+",."+Ga,ga).off("keydown",ca),d("."+Ia+",."+Ga,ga).on("keydown",ca))},eventAfterAllRender:function(a){d(".fc-prev-button",ga).attr("title",apex.lang.getMessage("APEX.GV.PREV_PAGE")),d(".fc-prev-button",ga).attr("aria-label",apex.lang.getMessage("APEX.GV.PREV_PAGE")),d(".fc-next-button",ga).attr("title",apex.lang.getMessage("APEX.GV.NEXT_PAGE")),d(".fc-next-button",ga).attr("aria-label",apex.lang.getMessage("APEX.GV.NEXT_PAGE")),d("div."+Ja+" div."+Ia,ga).attr("tabindex","0"),0===!a.name.indexOf(ta)&&d("div."+Ja+" div."+Ia+" ."+Fa,ga).attr("tabindex","-1"),ea.isRTL?d("button."+Ha,ga).css("margin-right",La):d("button."+Ha,ga).css("margin-left",La),0===a.name.indexOf(ta)&&(d("table.fc-list-table",ga).attr("role","presentation"),d("tr.fc-list-heading > td").attr("role","heading"),d("tr.fc-list-heading > td").attr("aria-level","3")),apex.clipboard.isSupported&&apex.clipboard.addHandler(d("."+Ia,ga),function(b){var c,d,e,f="";for(c=ga.fullCalendar(ab),e=a.name===ma||a.name===na?"LL":"LLL",f=f+apex.lang.getMessage("APEX.CALENDAR.EVENT_START")+"\t"+apex.lang.getMessage("APEX.CALENDAR.EVENT_END")+"\t"+apex.lang.getMessage("APEX.CALENDAR.EVENT_TITLE")+"\t"+apex.lang.getMessage("APEX.CALENDAR.EVENT_DESCRIPTION")+"\t"+apex.lang.getMessage("APEX.CALENDAR.EVENT_ID")+"\r\n",d=0;d<c.length;d++)!c[d].start.isSameOrAfter(a.start)||c[d].end&&!c[d].end.isSameOrBefore(a.end)||(f=f+c[d].start.format(e)+"\t",c[d].end&&(f+=c[d].end.format(e)),f=f+"\t"+apex.util.stripHTML(c[d].title)+"\t",c[d].description&&(f+=apex.util.stripHTML(c[d].description)),c[d].id&&(f+="\t",f+=0===c[d].id.indexOf(hb)?c[d].id.substr(hb.length):apex.util.stripHTML(c[d].id)),f+="\r\n");return b.setData("text",f),b})}},i.defaultView===sa&&(i.defaultView=oa),i.defaultView===ra&&(i.defaultView=pa),d.isFunction(h)&&(b=h(i),b&&(b.dataFilter&&d.isFunction(b.dataFilter)&&(ea.dataFilter=b.dataFilter),b.endDateExclusive&&(ea.endDateExclusive=!0),b.disableKeyboardSupport&&(ea.keyBoardSupport=!1),b.listViewAlwaysShowMonth&&(ea.listViewAlwaysShowMonth=b.listViewAlwaysShowMonth),i=b)),ea.isMobile?c.plugin(ea.ajaxIdentifier,{x01:ea.defaultView,x02:ea.startDate,x03:ea.endDate,x09:ea.curDate,pageItems:ea.pageItems},{dataType:"html",refreshObject:fa,success:function(a){apex.jQuery(fa,apex.gPageContext$).html(a).trigger("create")}}):ga.fullCalendar(i),ea.isMobile||ea.keyBoardSupport&&(d("."+Ia+",."+Ga,ga).off("keydown",ca),d("."+Ia+",."+Ga,ga).on("keydown",ca)),a.util.onVisibilityChange(fa[0],function(a){a&&(ga.fullCalendar(_a),ga.fullCalendar(Xa))}),fa.on("apexrefresh",function(){N()}),ga.on("apexafterclosedialog",function(){N()}),ea.isMobile?apex.region.create(e,{type:"CssCalendar",refresh:function(){N()},focus:function(){fa.focus()}}):apex.region.create(e,{type:"CssCalendar",refresh:function(){N()},focus:function(){ga.find("div."+Ia).focus()},widget:function(){return ga}}),null!==ka&&moment(ka.viewStartDate).isValid()&&(ka.viewType===ma||ka.viewType===oa&&ea.showTime||ka.viewType===pa&&ea.showTime||0===ka.viewType.indexOf(ta))&&ga.fullCalendar(Va,ka.viewType)}var ea,fa,ga,ha,ia,ja,ka,la,ma="month",na="listMonth",oa="agendaWeek",pa="agendaDay",qa="days",ra="day",sa="week",ta="list",ua="minutes",va="minute",wa="listMonth",xa="listWeek",ya="listDay",za="EVENTS",Aa="CALENDAR",Ba="fc-",Ca=Ba+"helper",Da=Ba+"highlight",Ea=Ba+"day",Fa=Ba+"event",Ga=Ba+"popover",Ha=Ba+"apexListButton-button",Ia=Ba+"view",Ja=Ia+"-container",Ka="data-date",La="10px",Ma="#bce8f1",Na="apexcalendar",Oa=Na+"dateselect",Pa=Na+"viewchange",Qa=Na+"eventselect",Ra=Na+"dragdropstart",Sa=Na+"dragdropfinish",Ta=Na+"dragdroperror",Ua="gotoDate",Va="changeView",Wa="option",Xa="rerenderEvents",Ya="refetchEvents",Za="getView",$a="unselect",_a="render",ab="clientEvents",bb="removeEvents",cb="updateEvent",db="renderEvent",eb="YYYY-MM-DD",fb="HH:mm:ss",gb="lastview",hb="apex.widget.cssCalendar.Id_",ib=d.fullCalendar,jb=!1,kb=0,lb={keyboardActive:!1,focusEvents:!1,selectorEvent:!1,browseMode:Aa,dayEvents:[],activeDayEvent:!1,SELECTORID:"com_oracle_apex_selectorevent$",cssClass:Ca,KEY_PREV:37,KEY_NEXT:39,MONTH_VIEW:ma,WEEK_VIEW:oa,DAY_VIEW:pa,LIST_VIEW:wa,viewChangeByKey:!1};da(),a.cssCalendar.download=function(a){var b,d,e;b=ga.fullCalendar(Za),d=c.pluginUrl(ea.ajaxIdentifier,{x01:"DOWNLOAD",x02:m(b.start),x03:m(b.end),x06:b.name,x07:b.title,x10:a,pageItems:ea.pageItems}),e=window.open(d),e.focus()},a.cssCalendar.mobileDayTap=function(a,b){var c=apex.jQuery(b).data("date"),d=apex.jQuery("#calendar_day_details_"+a,apex.gPageContext$);apex.jQuery(".m-Calendar-day").removeClass("is-active"),apex.jQuery(b).addClass("is-active"),apex.widget.cssCalendar.getDayData(a,c,{clear:function(){d.empty()},success:function(a){d.html(a),apex.event.trigger(fa,Oa,{newStartDate:c,newEndDate:c})}})},a.cssCalendar.mobileMonthLoad=function(a,b){var c=apex.jQuery("#calendar_day_details_"+a,apex.gPageContext$);ea.curDate=b,apex.widget.cssCalendar.getDayData(a,b,{clear:function(){c.empty()},success:function(a){c.html(a)}})},a.cssCalendar.executeMobileCreateLink=function(a,b,e){ea.createLink&&""!==ea.createLink?c.plugin(ea.ajaxIdentifier,{x01:"PREPARE_URL",x02:b,x03:e,x06:ea.createLink},{success:function(a){a.url&&(window.location.href=a.url)}}):a&&apex.event.trigger(d("#"+a),Oa,{newStartDate:b,newEndDate:e})},a.cssCalendar.getDayData=function(a,b){ea.curDate=b,c.plugin(ea.ajaxIdentifier,{x01:"GETDATA",x09:b,x10:a,pageItems:ea.pageItems},{dataType:"html",refreshObject:fa,success:function(b){apex.jQuery("#calendar_day_details_"+a,apex.gPageContext$).html(b).trigger("create")}})},a.cssCalendar.refreshMobileCalendar=function(){c.plugin(ea.ajaxIdentifier,{x01:ea.mobileCurType,x02:ea.mobileCurStartDate,x03:ea.mobileCurEndDate,x09:ea.mobileCurStartDate,pageItems:ea.pageItems},{dataType:"html",refreshObject:fa,success:function(a){apex.jQuery(fa,apex.gPageContext$).html(a).trigger("create")}})},a.cssCalendar.getMobileCalendar=function(a,b,d,e,f){ea.startDate=b,ea.endDate=d,ea.curDate=e,c.plugin(ea.ajaxIdentifier,{x01:a,x02:ea.startDate,x03:ea.endDate,x09:ea.curDate,pageItems:ea.pageItems},{dataType:"html",refreshObject:fa,success:function(a){apex.jQuery(fa,apex.gPageContext$).html(a).trigger("create")}})},a.cssCalendar.fireViewChangeEvent=function(a,b,c,e){ea.mobileCurStartDate=c,ea.mobileCurEndDate=e,ea.mobileCurType=b,apex.event.trigger(d("#"+a),Pa,{viewType:b,startDate:c,endDate:e})},a.cssCalendar.arrangeObjects=function(a,b){var c,d,e;for(A(),B(),e=1;e<=b;e++)d=w(a+"div[id=day"+e+"]"),c=Math.round((d-Math.round(d/20))/x(a,ra+e)),z(a,ra+e,y(a,ra+e),c)},a.cssCalendar.orientationchange=function(a,b){"landscape"===b.orientation?apex.jQuery(window).width()<=480&&"WEK"===a&&apex.widget.cssCalendar.getMobileCalendar("WKS_SAME",ea.startDate,ea.endDate,ea.curDate,""):apex.jQuery(window).width()<=480&&("WEK"===a||"WKS"===a)&&apex.widget.cssCalendar.getMobileCalendar("LST_SAME",ea.startDate,ea.endDate,ea.curDate,"")}}}(apex.widget,apex.util,apex.server,apex.jQuery);