apex.widget.util={},function(a,b,c,d){"use strict";function e(a){var b;for(b=0;b<g.length;b++)if(g[b].el===a)return b;return null}a.cascadingLov=function(a,b,c,e){var f=d(a,apex.gPageContext$),g=f[0]?f[0].id:"lov",h=d.extend({optimizeRefresh:!0,queue:{name:g,action:"replace"}},e),i=!1;return h.refreshObject||(h.refreshObject=f),h.loadingIndicator||(h.loadingIndicator=f),h.optimizeRefresh&&(d(h.dependingOn,apex.gPageContext$).each(function(){if(apex.item(this).isEmpty())return i=!0,!1}),i)?(h.refreshObject.trigger("apexbeforerefresh"),d.isFunction(h.clear)&&h.clear(),f.change(),void h.refreshObject.trigger("apexafterrefresh")):(c.pageItems=d(c.pageItems,apex.gPageContext$).add(h.dependingOn),apex.server.plugin(b,c,h))},a.callPopupLov=function(a,e,f){var g,h=e||{},i=f||{};return i.filterOutput&&(h.x02=i.filterValue),g=apex.server.ajaxUrl(d.extend({},e,{p_request:"PLUGIN="+a}),{target:f.target}),c.dialog(g,{modal:!0,title:b.getMessage("APEX.POPUP_LOV.TITLE")},"ui-dialogâ€”popuplov",f.target),!1};var f=function(a,b){a.sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0}),"label-desc"===b&&a.reverse()};a.chartSortArray=f,a.chartFillGaps=function(a,b,c,d){f(b,c);for(var e=0;e<a.length;e++)b[e]&&b[e].name===a[e].name?b[e].id!==e&&(b[e].id=e):b.splice(e,0,{name:a[e].name,value:d?0:null})},a.enableIcon=function(a,b,c){a.find("img").css({opacity:1,cursor:""}).parent("a").attr("href",b),c&&a.click(c)},a.disableIcon=function(a){a.find("img").css({opacity:.5,cursor:"default"}).parent("a").removeAttr("href").unbind("click")};var g=[];a.onVisibilityChange=function(a,b){var c=e(a),d={el:a,cb:b};null!==c?g[c]=d:g.push(d)},a.offVisibilityChange=function(a){var b=e(a);null!==b&&g.splice(b,1)};var h=a.visibilityChange=function(a,b){var c,e,f,h=d(a);for(b=!!b,c=0;c<g.length;c++)f=g[c],e=d(f.el),b===e.is(":visible")&&e.closest(h).length&&f.cb(b)};d(document.body).on("apexaftershow",function(a){h(a.target,!0)}).on("apexafterhide",function(a){h(a.target,!1)});var i="apex-resize-sensor";a.onElementResize=function(a,b){var c,e;"string"==typeof a&&(a="#"+a),c=d(a).first(),e=c.data(i),e||(e=new j(c[0]),c.data(i,e),e.start()),e.addListener(b)},a.offElementResize=function(a,b){var c,e;"string"==typeof a&&(a="#"+a),c=d(a).first(),e=c.data(i),e&&(b?(e.removeListener(b),e.isEmpty()&&(e.stop(),c.removeData(i))):(e.destroy(),c.removeData(i)))},a.updateResizeSensors=function(a){"string"==typeof a&&(a="#"+a),d(a).find(".js-resize-sensor").parent().each(function(a,b){var c=d(b).data(i);null!=c&&c.init(!0)})};var j=function(a){function b(a){var b=!1;if(null!=n.offsetParent){var d=n.offsetWidth,e=n.offsetHeight;l===d&&m===e||(j=i,g(d,e),b=!0,a&&c(!0))}return b}function c(b){var c=a.offsetWidth,d=a.offsetHeight;h.has()&&(b?(null!==k&&apex.util.cancelInvokeAfterPaint(k),k=apex.util.invokeAfterPaint(function(){k=null,h.fire(c,d)})):h.fire(c,d))}function e(a){a.stopPropagation(),b(!0)||j>0&&null!=n.offsetParent&&(0==n.scrollLeft||0==n.scrollTop)&&(j--,g(l,m))}function f(){c(!1)}function g(a,b){l=a,m=b;var c=n.firstChild.style,d=1;do c.width=a+d+"px",c.height=b+d+"px",n.scrollLeft=n.scrollTop=d,d++;while((0==n.scrollTop||0==n.scrollLeft)&&d<=5);o.scrollLeft=a,o.scrollTop=b}var h=d.Callbacks(),i=2,j=0,k=null,l=null,m=null,n=null,o=null,p=null,q=null;this.addListener=function(a){h.add(a)},this.removeListener=function(a){h.remove(a)},this.isEmpty=function(){return!h.has()},this.destroy=function(){h.empty(),this.stop()},this.start=function(){function b(a,b){a.direction="ltr",a.position=b.position="absolute",a.left=a.top=a.right=a.bottom="0",a.overflow="hidden",a.zIndex="-1",a.visibility="hidden",b.left=b.top="0",b.transition="0s"}if(q=e.bind(this),a.attachEvent)p=f.bind(this),a.attachEvent("onresize",p);else{var c=a.childNodes[0];n=document.createElement("div"),n.className="js-resize-sensor";var d=document.createElement("div");b(n.style,d.style),n.appendChild(d),c?a.insertBefore(n,c):a.appendChild(n),n.addEventListener("scroll",q,!1),o=document.createElement("div");var g=document.createElement("div");b(o.style,g.style),g.style.width="200%",g.style.height="200%",o.appendChild(g),a.insertBefore(o,n),o.addEventListener("scroll",q,!1),this.init(!1)}},this.stop=function(){null!==k&&(apex.util.cancelInvokeAfterPaint(k),k=null),null!==n?(n.removeEventListener("scroll",q),o.removeEventListener("scroll",q),n.parentNode&&a.removeChild(n),o.parentNode&&a.removeChild(o)):a.detachEvent("onresize",p)},this.init=function(a){var c=b(a);a&&!c&&null!=n.offsetParent&&g(l,m)}};a.TouchProxy=function(a){this._init(a)},a.TouchProxy.prototype._init=function(a){this._elem=a,this._touchHandled=!1,this._touchMoved=!1,this._touchStartHandler=d.proxy(this._touchStart,this),this._touchEndHandler=d.proxy(this._touchEnd,this),this._touchMoveHandler=d.proxy(this._touchMove,this),this._elem.on({touchstart:this._touchStartHandler,touchend:this._touchEndHandler,touchmove:this._touchMoveHandler,touchcancel:this._touchEndHandler})},a.TouchProxy.prototype._destroy=function(){this._elem&&this._touchStartHandler&&(this._elem.off({touchstart:this._touchStartHandler,touchmove:this._touchMoveHandler,touchend:this._touchEndHandler,touchcancel:this._touchEndHandler}),this._touchStartHandler=void 0,this._touchEndHandler=void 0,this._touchMoveHandler=void 0)},a.TouchProxy.prototype._touchHandler=function(a,b){if(!(a.originalEvent.touches.length>1)){"touchstart"!=a.type&&"touchend"!=a.type&&a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent("MouseEvent");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),c.target.dispatchEvent(d)}},a.TouchProxy.prototype._touchStart=function(a){this._touchHandled||(this._touchHandled=!0,this._touchMoved=!1,this._touchHandler(a,"mouseover"),this._touchHandler(a,"mousemove"),this._touchHandler(a,"mousedown"))},a.TouchProxy.prototype._touchMove=function(a){this._touchHandled&&(this._touchMoved=!0,this._touchHandler(a,"mousemove"))},a.TouchProxy.prototype._touchEnd=function(a){this._touchHandled&&(this._touchHandler(a,"mouseup"),this._touchHandler(a,"mouseout"),this._touchHandled=!1)},a.TouchProxy._TOUCH_PROXY_KEY="apexTouchProxy",a.TouchProxy.prototype.touchMoved=function(){return this._touchMoved},a.TouchProxy.addTouchListeners=function(b){var c=d(b),e=c.data(a.TouchProxy._TOUCH_PROXY_KEY);return e||(e=new a.TouchProxy(c),c.data(a.TouchProxy._TOUCH_PROXY_KEY,e)),e},a.TouchProxy.removeTouchListeners=function(b){var c=d(b),e=c.data(a.TouchProxy._TOUCH_PROXY_KEY);e&&(e._destroy(),c.removeData(a.TouchProxy._TOUCH_PROXY_KEY))}}(apex.widget.util,apex.lang,apex.navigation,apex.jQuery);