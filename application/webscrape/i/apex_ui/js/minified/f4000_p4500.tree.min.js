!function(a,b,c,d,e,f){"use strict";function g(a){return e.getMessage("PD.TREE."+a)}function h(a){var b=g(a),c=[b].concat(Array.prototype.slice.call(arguments,1));return e.formatNoEscape.apply(this,c)}function i(a,b){var c=j(a,f.extend({isHeader:!0},b));return c.children=[],c.state={},b.isOpen&&(c.state={opened:!0}),b.omitIfEmpty&&(c.commands.omitIfEmpty=!0),b.showHasComponents&&(c.commands.showHasComponents=!0),c}function j(c,d){var e={type:d.type,label:d.title,classes:"",data:{},commands:{}};return d.component instanceof a.Component?(e.data={typeId:d.component.typeId,componentId:d.component.id,isPlain:d.isPlain},d.isPlain||(b.isNever(d.component)?e.classes=b.CSS.IS_NEVER:b.isConditional(d.component)&&(e.classes=b.CSS.IS_CONDITIONAL),d.component.hasChanged()&&(e.classes=b.CSS.IS_CHANGED),d.component.hasErrors()&&(e.classes+=" "+b.CSS.IS_ERROR,e.commands.openAllParents=!0),d.component.hasWarnings()&&(e.classes+=" "+b.CSS.IS_WARNING)),d.title||(e.label=d.component.getDisplayTitle())):(d.hasWarnings&&(e.classes+=" "+b.CSS.IS_WARNING),d.hasErrors&&(e.classes+=" "+b.CSS.IS_ERROR,e.commands.openAllParents=!0)),d.isNotImportant&&(e.classes+=" "+la.IS_NOT_IMPORTANT),d.hasOwnProperty("id")?e.id=d.id:d.component instanceof a.Component?(e.id=e.type+"_"+d.component.typeId+"_"+d.component.id,0!==e.type.indexOf("inline_")&&0!==e.type.indexOf("page_load_da_")||(e.id=c.id+"_"+e.id)):(e.id=d.type,d.idPostfix&&(e.id+=d.idPostfix),c&&(e.id=c.id+"_"+e.id)),d.tooltip&&(e.tooltip=d.tooltip),d.hasOwnProperty("icon")&&(d.icon===!1?e.icon=null:e.icon=d.icon),d.openAllParents&&(e.commands.openAllParents=!0),c&&c.children.push(e),e}function k(a,b){var c,d;if(b=f.extend({component:{},hasWarnings:!1,hasErrors:!1,isOpen:!1,isPlain:!1,openAllParents:!1,omitIfEmpty:!1,showHasComponents:!1},b),b.isHeader=!0,b.isNotImportant=!0,c=i(a,b),b.filter)if("parent"===b.filter.setFilter)for(d=0;d<b.filter.properties.length;d++)a.data[b.filter.properties[d].id]=b.filter.properties[d].value;else if(b.filter.properties)for(d=0;d<b.filter.properties.length;d++)c.data[b.filter.properties[d].id]=b.filter.properties[d].value;if(b.data)for(var e in b.data)b.data.hasOwnProperty(e)&&(c.data[e]=b.data[e]);return c}function l(b){if(b.children){for(var c=0;c<b.children.length;)l(b.children[c])?b.children.splice(c,1):(b.children[c].commands.openAllParents&&(b.state.opened||(b.state.opened=!0),b.commands.openAllParents||(b.commands.openAllParents=!0)),(b.children[c].state&&b.children[c].state.hasComponents||b.children[c].data.hasOwnProperty("componentId")&&!a.getComponents(b.children[c].data.typeId,{id:b.children[c].data.componentId})[0].isOnGlobalPage())&&(b.state.hasComponents||(b.state.hasComponents=!0,b.commands.showHasComponents&&(b.classes+=" "+la.IS_POPULATED))),c++);return 0===b.children.length&&delete b.state,b.commands.omitIfEmpty&&(b.children&&0===b.children.length||!b.children)}return delete b.state,!1}function m(c,d){var e,g,h,l,m,n,o=d.setFilter,p=[],q={};if(void 0===o&&(o=b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)?"header":"parent"),d.header===!1){if(l=c,"parent"===o)for(n=0;n<d.component.filter.properties.length;n++)c.data[d.component.filter.properties[n].id]=d.component.filter.properties[n].value}else{if(e=d.header.component instanceof a.Component?d.header.component.getDisplayTitle():d.header.title?d.header.title:a.getComponentType(d.component.typeId).title.plural,o)if(h={setFilter:o,properties:[]},f.isArray(d.component))for(n=0;n<d.component.length;n++)h.properties=h.properties.concat(d.component[n].filter.properties);else d.component.filter.properties&&(h.properties=d.component.filter.properties);l=k(c,{title:e,type:d.header.type,id:d.header.id,idPostfix:d.header.idPostfix,isPlain:d.header.isPlain,hasWarnings:d.header.hasWarnings,hasErrors:d.header.hasErrors,isOpen:d.header.isOpen,openAllParents:d.header.openAllParents,omitIfEmpty:d.header.omitIfEmpty,component:d.header.component,filter:h})}if(f.isArray(d.component))for(n=0;n<d.component.length;n++)p[n]={typeId:d.component[n].typeId,filter:d.component[n].filter},q[d.component[n].typeId]=d.component[n];else p[0]={typeId:d.component.typeId,filter:d.component.filter},q[d.component.typeId]=d.component;for(g=a.getComponentsAdvanced(p),n=0;n<g.length;n++)b.isDisplayed(g[n])&&(q[g[n].typeId].addSubComponents?(m=i(l,{title:g[n].getDisplayTitle(),type:q[g[n].typeId].type,component:g[n],isHeader:!1,isPlain:q[g[n].typeId].isPlain,isOpen:q[g[n].typeId].isOpen,openAllParents:!g[n].isOnGlobalPage()&&q[g[n].typeId].openAllParents,omitIfEmpty:q[g[n].typeId].omitIfEmpty}),q[g[n].typeId].addSubComponents(m,g[n])):j(l,{title:g[n].getDisplayTitle(),type:q[g[n].typeId].type,isPlain:q[g[n].typeId].isPlain,component:g[n],openAllParents:!g[n].isOnGlobalPage()&&q[g[n].typeId].openAllParents}))}function n(b,c){var d;return b===a.COMP_TYPE.BRANCH?d=a.PROP.BRANCH_POINT:b===a.COMP_TYPE.PAGE_COMPUTATION?d=a.PROP.COMPUTATION_POINT:b===a.COMP_TYPE.PAGE_PROCESS&&(d=a.PROP.PROCESS_POINT),a.getLovTitle(b,d,c)}function o(c,d,e){var f={type:"branches",isOpen:!0,omitIfEmpty:e};b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)&&(f.title=n(a.COMP_TYPE.BRANCH,d.point)),m(c,{header:f,component:{type:"branch",typeId:a.COMP_TYPE.BRANCH,filter:{properties:[{id:a.PROP.BRANCH_POINT,value:d.point}]},openAllParents:!0}})}function p(b,c,d){var e,f,g,h="inline_",i=[],j={isOpen:!0,omitIfEmpty:d};c.hasOwnProperty("regionColumn")?(g=c.regionColumn.getProperty(a.PROP.COLUMN_NAME).getValue(),e=function(){var b;return this.getProperty(a.PROP.VALIDATION_REGION).getValue()===c.region.id&&(b=this.getProperty(a.PROP.REGION_VAL_COLUMN),b&&b.getValue()===g||this.getProperty(a.PROP.ASSOCIATED_COLUMN).getValue()===g)}):c.hasOwnProperty("region")?(j.isOpen=!1,e=function(){return!(this.getProperty(a.PROP.VALIDATION_REGION).getValue()!==c.region.id||""!==this.getProperty(a.PROP.ASSOCIATED_COLUMN).getValue()||this.getProperty(a.PROP.REGION_VAL_COLUMN))}):c.hasOwnProperty("pageItem")?(f=c.pageItem.getProperty(a.PROP.ITEM_NAME).getValue(),e=function(){var b;return""===this.getProperty(a.PROP.VALIDATION_REGION).getValue()&&(b=this.getProperty(a.PROP.VAL_ITEM),this.getProperty(a.PROP.ASSOCIATED_ITEM).getValue()===c.pageItem.id||b&&b.getValue()===f)}):(h="",j.isOpen=!0,j.openAllParents=!0),j.type=h+"validations",m(b,{header:j,setFilter:!1,component:{type:h+"validation",typeId:a.COMP_TYPE.VALIDATION,filter:{properties:i,filterFunction:e}}})}function q(c,d,e,f){var g,h=d.hasOwnProperty("pageItem")?"inline_":"",i={type:h+"computations",isOpen:!0,omitIfEmpty:e};d.hasOwnProperty("point")?(b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)&&(i.title=n(a.COMP_TYPE.PAGE_COMPUTATION,d.point)),g={id:a.PROP.COMPUTATION_POINT,value:d.point}):d.hasOwnProperty("pageItem")&&(g={id:a.PROP.COMPUTATION_ITEM_NAME,value:d.pageItem.getProperty(a.PROP.ITEM_NAME).getValue()}),m(c,{header:i,component:{type:h+"computation",typeId:a.COMP_TYPE.PAGE_COMPUTATION,filter:{properties:[g]},openAllParents:f}})}function r(c,d,e,g){function h(b,c){var d=c.getProperty(a.PROP.PAGE_PROCESS_TYPE).getValue();f.inArray(d,["NATIVE_WEB_SERVICE","NATIVE_WEB_SERVICE_LEGACY"])!==-1&&(m(b,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:a.COMP_TYPE.PAGE_PROC_WS_P_I,filter:{parentId:c.id}}}),"ITEMS"===c.getProperty(a.getPluginProperty(a.COMP_TYPE.PAGE_PROCESS,d,2).id).getValue()&&m(b,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:a.COMP_TYPE.PAGE_PROC_WS_P_O,filter:{parentId:c.id}}}),m(b,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:a.COMP_TYPE.PAGE_PROC_WS_P_A,filter:{parentId:c.id}}}))}var i,j,k=d.hasOwnProperty("region")?"inline_":"";j=!("ON_DEMAND"===d.point&&!b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1))&&{type:k+"processes",isOpen:!0,omitIfEmpty:e},d.hasOwnProperty("point")?(b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)&&(j.title=n(a.COMP_TYPE.PAGE_PROCESS,d.point)),i={id:a.PROP.PROCESS_POINT,value:d.point}):d.hasOwnProperty("region")&&(i={id:a.PROP.PROCESS_REGION,value:d.region.id},j.isOpen=!1),m(c,{header:j,component:{type:k+"process",typeId:a.COMP_TYPE.PAGE_PROCESS,filter:{properties:[i]},addSubComponents:h,openAllParents:g}})}function s(b,d){function e(b,c,d,e){m(b,{header:{title:e,type:"da_actions_"+d,isOpen:!0,omitIfEmpty:!1},setFilter:"header",component:{type:"da_action",typeId:a.COMP_TYPE.DA_ACTION,filter:{parentId:c.id,properties:[{id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:d.toUpperCase()}]}}})}function f(a,b){e(a,b,"true",g("TRUE")),e(a,b,"false",g("FALSE"))}var h,i=!1,j=[],k={title:g("DYNAMIC_ACTIONS"),isOpen:!0,omitIfEmpty:!0};h="inline_",d.hasOwnProperty("regionColumn")?(j.push({id:a.PROP.WHEN_REGION,value:d.region.id}),j.push({id:a.PROP.WHEN_COLUMNS,value:new RegExp("(^|,|\\s)"+c.escapeRegExp(d.regionColumn.getProperty(a.PROP.COLUMN_NAME).getValue())+"($|,|\\s)")})):d.hasOwnProperty("region")?(j.push({id:a.PROP.WHEN_TYPE,value:"REGION"}),j.push({id:a.PROP.WHEN_REGION,value:d.region.id}),k.isOpen=!1):d.hasOwnProperty("pageItem")?j.push({id:a.PROP.WHEN_ITEMS,value:new RegExp("(^|,|\\s)"+c.escapeRegExp(d.pageItem.getProperty(a.PROP.ITEM_NAME).getValue())+"($|,|\\s)")}):d.hasOwnProperty("button")?j.push({id:a.PROP.WHEN_BUTTON,value:d.button.id}):d.hasOwnProperty("event")&&(j.push({id:a.PROP.EVENT,value:d.event}),h="",i="header",""===d.event?k.title=g("UNDEFINED_EVENT"):k.title=a.getLovTitle(a.COMP_TYPE.DA_EVENT,a.PROP.EVENT,d.event),k.idPostfix="_"+d.event,k.omitIfEmpty=!1),k.type=h+"da_events",m(b,{header:k,setFilter:i,component:{type:h+"da_event",typeId:a.COMP_TYPE.DA_EVENT,filter:{properties:j},addSubComponents:f}})}function t(c,d){function e(c,d){var e={NATIVE_IR:u,NATIVE_IG:v,NATIVE_SQL_REPORT:w,NATIVE_FNC_REPORT:w,NATIVE_TABFORM:x,NATIVE_FLASH_MAP:y,NATIVE_FLASH_CHART5:z,NATIVE_JET_CHART:A,NATIVE_CALENDAR:B},f=d.getProperty(a.PROP.REGION_TYPE).getValue();d.isOnGlobalPage()||(e.hasOwnProperty(f)?e[f](c,d):C(c,d)),d.getProperty(a.PROP.SOURCE_WEB_SRC_QUERY)&&m(c,{header:{type:"region_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"region_web_src_param",typeId:a.COMP_TYPE.REGION_WS_PARAM,filter:{parentId:d.id}}}),b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)?t(c,{region:d}):(D(c,d),E(c,d),p(c,{region:d},!0),s(c,{region:d}),t(c,{region:d}))}var f,h={},i={isOpen:!1,omitIfEmpty:!0};d.hasOwnProperty("region")?(f=a.getRegionTemplate(d.region.id).displayPointsMap.SUB_REGIONS,i.title=f?f.name:g("SUB_REGIONS"),i.type="sub_regions",h.properties=[{id:a.PROP.PARENT_REGION,value:d.region.id}]):d.hasOwnProperty("point")?(i.title=d.point.name,i.type="regions",i.id="rdp_"+d.point.id,i.omitIfEmpty=!d.point.isQuickPick,h.properties=[],h.properties.push({id:a.PROP.PARENT_REGION,value:""}),h.properties.push({id:a.PROP.REGION_POSITION,value:d.point.id})):d.hasOwnProperty("validPointsMap")&&(i.title=g("INVALID_POSITION"),i.type="regions",i.id="invalid_region_dp",i.hasWarnings=!0,h.filterFunction=function(){var b=this.getProperty(a.PROP.REGION_POSITION);return!!b&&!d.validPointsMap.hasOwnProperty(b.getValue())}),m(c,{header:i,setFilter:"header",component:{type:"region",typeId:a.COMP_TYPE.REGION,filter:h,addSubComponents:e,isOpen:!0,openAllParents:!0,omitIfEmpty:!1}})}function u(b,c){var d,e,h,j=a.getComponents(a.COMP_TYPE.IR_ATTRIBUTES,{parentId:c.id})[0];m(b,{header:{title:g("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_report_column",typeId:a.COMP_TYPE.IR_COLUMN,filter:{parentId:j.id}}}),d=i(b,{type:"ir_attributes",title:a.getComponentType(j.typeId).title.singular,component:j,isHeader:!1,isOpen:!1,omitIfEmpty:!1}),m(d,{header:{type:"ir_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_column_group",typeId:a.COMP_TYPE.IR_COLUMN_GROUP,filter:{parentId:j.id}}}),m(d,{header:{type:"ir_saved_reports",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_saved_report",typeId:a.COMP_TYPE.IR_SAVED_REPORT,filter:{parentId:j.id}}}),e=j.getProperty(a.PROP.SHOW_DOWNLOAD),e&&"Y"===e.getValue()&&(h=j.getProperty(a.PROP.DOWNLOAD_FORMATS).getValue().split(":"),f.inArray("XLS",h)===-1&&f.inArray("PDF",h)===-1&&f.inArray("RTF",h)===-1||i(d,{type:"ir_print",title:a.getComponentType(a.COMP_TYPE.IR_PRINT_ATTR).title.singular,component:a.getComponents(a.COMP_TYPE.IR_PRINT_ATTR,{parentId:j.id})[0],isHeader:!1,isOpen:!1,omitIfEmpty:!1}))}function v(b,c){function d(a,b){p(a,{region:c,regionColumn:b},!0),s(a,{region:c,regionColumn:b})}var e,h,j,k=a.getComponents(a.COMP_TYPE.IG_ATTRIBUTES,{parentId:c.id})[0];m(b,{header:{title:g("REPORT_COLUMNS"),type:"ig_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column",typeId:a.COMP_TYPE.IG_COLUMN,isOpen:!1,filter:{parentId:c.id},addSubComponents:d}}),e=i(b,{type:"ig_attributes",title:a.getComponentType(k.typeId).title.singular,component:k,isHeader:!1,isOpen:!1,omitIfEmpty:!1}),m(e,{header:{type:"ig_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column_group",typeId:a.COMP_TYPE.IG_COLUMN_GROUP,filter:{parentId:c.id}}}),h=k.getProperty(a.PROP.ENABLE_DOWNLOAD),h&&"Y"===h.getValue()&&(j=k.getProperty(a.PROP.IG_DOWNLOAD_FORMATS).getValue().split(":"),f.inArray("XLS",j)===-1&&f.inArray("PDF",j)===-1&&f.inArray("RTF",j)===-1||i(e,{type:"ig_print",title:a.getComponentType(a.COMP_TYPE.IG_PRINT).title.singular,component:a.getComponents(a.COMP_TYPE.IG_PRINT,{parentId:c.id})[0],isHeader:!1,isOpen:!1,omitIfEmpty:!1}))}function w(b,c){var d,e;m(b,{header:{title:g("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"classic_report_column",typeId:a.COMP_TYPE.CLASSIC_RPT_COLUMN,isOpen:!1,filter:{parentId:c.id}}}),d=a.getComponents(a.COMP_TYPE.CLASSIC_REPORT,{parentId:c.id})[0],e=i(b,{type:"classic_report_attributes",title:a.getComponentType(d.typeId).title.singular,component:d,isHeader:!1,isOpen:!1,omitIfEmpty:!1}),"Y"===d.getProperty(a.PROP.ENABLE_PRINTING).getValue()&&i(e,{type:"classic_report_print",title:a.getComponentType(a.COMP_TYPE.CLASSIC_RPT_PRINT).title.singular,component:a.getComponents(a.COMP_TYPE.CLASSIC_RPT_PRINT,{parentId:d.id})[0],isHeader:!1,isOpen:!1,omitIfEmpty:!1})}function x(b,c){function d(a,b){p(a,{region:c,regionColumn:b},!0)}var e,f;m(b,{header:{title:g("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"tabform_column",typeId:a.COMP_TYPE.TAB_FORM_COLUMN,isOpen:!1,filter:{parentId:c.id},addSubComponents:d}}),e=a.getComponents(a.COMP_TYPE.TABULAR_FORM,{parentId:c.id})[0],f=i(b,{type:"tabform_attributes",title:a.getComponentType(e.typeId).title.singular,component:e,isHeader:!1,isOpen:!1,omitIfEmpty:!1}),"Y"===e.getProperty(a.PROP.ENABLE_PRINTING).getValue()&&i(f,{type:"tabform_print",title:a.getComponentType(a.COMP_TYPE.TAB_FORM_PRINT).title.singular,component:a.getComponents(a.COMP_TYPE.TAB_FORM_PRINT,{parentId:e.id})[0],isHeader:!1,isOpen:!1,omitIfEmpty:!1})}function y(b,c){var d,e=a.getComponents(a.COMP_TYPE.MAP_CHART,{parentId:c.id})[0];d=i(b,{type:"map_chart",title:a.getComponentType(e.typeId).title.singular,component:e,isHeader:!1,isOpen:!0,omitIfEmpty:!1}),m(d,{header:{type:"map_chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"map_chart_serie",typeId:a.COMP_TYPE.MAP_CHART_SERIES,filter:{parentId:e.id}}})}function z(b,c){var d,e=a.getComponents(a.COMP_TYPE.CHART,{parentId:c.id})[0];d=i(b,{type:"chart_attributes",title:a.getComponentType(e.typeId).title.singular,component:e,isHeader:!1,isOpen:!0,omitIfEmpty:!1}),m(d,{header:{type:"chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"chart_serie",typeId:a.COMP_TYPE.CHART_SERIES,filter:{parentId:e.id}}})}function A(b,c){function d(b,c){c.getProperty(a.PROP.SOURCE_WEB_SRC_QUERY)&&m(b,{header:{type:"jet_chart_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"jet_chart_web_src_param",typeId:a.COMP_TYPE.JET_CHART_WS_PARAM,filter:{parentId:c.id}}})}var e=a.getComponents(a.COMP_TYPE.JET_CHART,{parentId:c.id})[0],f=e.getProperty(a.PROP.JET_CHART_TYPE).getValue();i(b,{type:"jet_chart_attributes",title:a.getComponentType(e.typeId).title.singular,component:e,isHeader:!1,isOpen:!0,omitIfEmpty:!1});m(b,{header:{type:"jet_chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_serie",typeId:a.COMP_TYPE.JET_CHART_SERIES,filter:{parentId:e.id},addSubComponents:d}}),f in{area:1,bar:1,boxPlot:1,bubble:1,combo:1,line:1,lineWithArea:1,stock:1,scatter:1,range:1,gantt:1}&&m(b,{header:{type:"jet_chart_axes",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_axis",typeId:a.COMP_TYPE.JET_CHART_AXES,filter:{parentId:e.id}}})}function B(b,c){var d=a.getComponents(a.COMP_TYPE.CLASSIC_CALENDAR,{parentId:c.id})[0];i(b,{type:"classic_calendar",title:a.getComponentType(d.typeId).title.singular,component:d,isHeader:!1,isOpen:!1,omitIfEmpty:!1})}function C(b,c){var d,e,h=a.getComponentType(a.COMP_TYPE.REGION_PLUGIN_ATTR).pluginType.plugins;e=c.getProperty(a.PROP.REGION_TYPE).getValue(),d=a.getComponents(a.COMP_TYPE.REGION_PLUGIN_ATTR,{parentId:c.id}),f.inArray("COLUMNS",h[e].features)!==-1&&m(b,{header:{title:g("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"region_column",typeId:a.COMP_TYPE.REGION_COLUMN,filter:{parentId:c.id}}}),d.length>0&&i(b,{type:"region_plugin_attributes",title:a.getComponentType(a.COMP_TYPE.REGION_PLUGIN_ATTR).title.singular,component:d[0],isHeader:!1,isOpen:!1,omitIfEmpty:!1})}function D(c,d){function e(a,b){p(a,{pageItem:b},!0),s(a,{pageItem:b}),q(a,{pageItem:b},!0)}function f(a,b){s(a,{button:b})}var h={type:"page_items",isOpen:!1,omitIfEmpty:!0};b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)?d instanceof a.Component?h.component=d:(h.title=g("NO_REGION"),h.type="no_region",h.hasWarnings=!0):h.title=g("ITEMS"),m(c,{header:h,setFilter:"header",component:[{type:"page_item",typeId:a.COMP_TYPE.PAGE_ITEM,isOpen:!1,openAllParents:!0,filter:{properties:[{id:a.PROP.REGION,value:d instanceof a.Component?d.id:""}]},addSubComponents:e},{type:"form_button",typeId:a.COMP_TYPE.BUTTON,isOpen:!1,openAllParents:!0,filter:{properties:[{id:a.PROP.REGION,value:d instanceof a.Component?d.id:""},{id:a.PROP.BUTTON_POSITION,value:"BODY"}]},addSubComponents:f}]})}function E(c,d){function e(a,b){s(a,{button:b})}var f={type:"region_buttons",isOpen:!1,omitIfEmpty:!0},h=d instanceof a.Component?d.id:"";b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)?d instanceof a.Component?f.component=d:(f.title=g("NO_REGION"),f.type="no_region",f.hasWarnings=!0):f.title=g("REGION_BUTTONS"),m(c,{header:f,component:{type:"region_button",typeId:a.COMP_TYPE.BUTTON,isOpen:!1,openAllParents:!0,filter:{filterFunction:function(){var b=this.getProperty(a.PROP.REGION).getValue();return(b===h||""===b&&"no_region"===f.type)&&"BODY"!==this.getProperty(a.PROP.BUTTON_POSITION).getValue()}},addSubComponents:e}})}function F(){var c,d;return d=a.getComponents(a.COMP_TYPE.PAGE),c=i(void 0,{component:d[0],type:"page",title:h("PAGE_TITLE",d[0].id,d[0].getDisplayTitle()),isHeader:!1,isOpen:!0}),c.data[a.PROP.COMPUTATION_POINT]="BEFORE_BOX_BODY",c.data[a.PROP.PROCESS_POINT]="AFTER_HEADER",c.data[a.PROP.BRANCH_POINT]="BEFORE_HEADER",c.data[a.PROP.REGION_POSITION]="BODY",c.data[a.PROP.BUTTON_POSITION]="BELOW_BOX","Y"===b.getPreference("GROUP_BY_COMPONENT_TYPE")?H(c):G(c),l(c),c}function G(b){var c,d,e,h,i=a.isGlobalPage();h=a.getPageTemplate(),c=k(b,{title:g("PRE_RENDERING"),type:"pre_rendering",showHasComponents:!0,omitIfEmpty:!0}),i||(e=k(c,{title:n(a.COMP_TYPE.PAGE_PROCESS,"ON_NEW_INSTANCE"),type:"on_new_instance",isOpen:!0,omitIfEmpty:!0}),q(e,{point:"ON_NEW_INSTANCE"},!0),r(e,{point:"ON_NEW_INSTANCE"},!0),e=k(c,{title:n(a.COMP_TYPE.PAGE_PROCESS,"BEFORE_HEADER"),type:"before_header",isOpen:!0}),o(e,{point:"BEFORE_HEADER"},!0),q(e,{point:"BEFORE_HEADER"},!0),r(e,{point:"BEFORE_HEADER"},!0)),e=k(c,{title:n(a.COMP_TYPE.PAGE_PROCESS,"AFTER_HEADER"),type:"after_header",isOpen:!0,omitIfEmpty:i}),i||(q(e,{point:"AFTER_HEADER"},!0),r(e,{point:"AFTER_HEADER"},!0)),t(e,{point:{id:"AFTER_HEADER"}}),i||(e=k(c,{title:n(a.COMP_TYPE.PAGE_PROCESS,"BEFORE_BOX_BODY"),type:"before_regions",isOpen:!0}),q(e,{point:"BEFORE_BOX_BODY"},!0),r(e,{point:"BEFORE_BOX_BODY"},!0)),e=k(b,{title:a.getComponentType(a.COMP_TYPE.REGION).title.plural,type:"main_regions",isOpen:!0});for(var j=0;j<h.displayPoints.length;j++)f.inArray(h.displayPoints[j].id,["AFTER_HEADER","BEFORE_FOOTER"])===-1&&t(e,{point:h.displayPoints[j]});t(e,{validPointsMap:h.displayPointsMap}),e=k(b,{title:g("NO_REGION"),type:"no_region",hasWarnings:!0,isOpen:!0,omitIfEmpty:!0}),D(e,null),E(e,null),d=k(b,{title:g("POST_RENDERING"),type:"post_rendering",showHasComponents:!0}),i||(e=k(d,{title:n(a.COMP_TYPE.PAGE_PROCESS,"AFTER_BOX_BODY"),type:"after_regions",isOpen:!0}),q(e,{point:"AFTER_BOX_BODY"},!0),r(e,{point:"AFTER_BOX_BODY"},!0)),e=k(d,{title:n(a.COMP_TYPE.PAGE_PROCESS,"BEFORE_FOOTER"),type:"before_footer",isOpen:!0}),i||(q(e,{point:"BEFORE_FOOTER"},!0),r(e,{point:"BEFORE_FOOTER"},!0)),t(e,{point:{id:"BEFORE_FOOTER",name:a.getComponentType(a.COMP_TYPE.REGION).title.plural}}),i||(e=k(d,{title:n(a.COMP_TYPE.PAGE_PROCESS,"AFTER_FOOTER"),type:"after_footer",isOpen:!0}),q(e,{point:"AFTER_FOOTER"},!0),r(e,{point:"AFTER_FOOTER"},!0))}function H(b){var c,d,e,f,g,h=a.isGlobalPage();for(d=a.getPageTemplate(),c=k(b,{title:a.getComponentType(a.COMP_TYPE.REGION).title.plural,type:"main_regions",isOpen:!0}),t(c,{validPointsMap:d.displayPointsMap}),g=0;g<d.displayPoints.length;g++)t(c,{point:d.displayPoints[g]});for(f=a.getComponents(a.COMP_TYPE.REGION,{}),c=k(b,{title:a.getComponentType(a.COMP_TYPE.BUTTON).title.plural,type:"main_buttons",isOpen:!0}),E(c,null),g=0;g<f.length;g++)E(c,f[g]);for(c=k(b,{title:a.getComponentType(a.COMP_TYPE.PAGE_ITEM).title.plural,type:"main_page_items",isOpen:!0}),D(c,null),g=0;g<f.length;g++)D(c,f[g]);if(!h){for(c=k(b,{title:a.getComponentType(a.COMP_TYPE.PAGE_COMPUTATION).title.plural,type:"main_computations",isOpen:!0}),e=["ON_NEW_INSTANCE","BEFORE_HEADER","AFTER_HEADER","BEFORE_BOX_BODY","AFTER_BOX_BODY","BEFORE_FOOTER","AFTER_FOOTER"],g=0;g<e.length;g++)q(c,{point:e[g]},!0,!0);for(c=k(b,{title:a.getComponentType(a.COMP_TYPE.PAGE_PROCESS).title.plural,type:"main_processes",isOpen:!0}),e=["ON_NEW_INSTANCE","BEFORE_HEADER","AFTER_HEADER","BEFORE_BOX_BODY","AFTER_BOX_BODY","BEFORE_FOOTER","AFTER_FOOTER"],g=0;g<e.length;g++)r(c,{point:e[g]},!0,!0);c=k(b,{title:a.getComponentType(a.COMP_TYPE.BRANCH).title.plural,type:"main_branches",isOpen:!0}),o(c,{point:"BEFORE_HEADER"},!0)}}function I(){function b(b,c,d,e){var f=[{id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:d.toUpperCase()}];"ready"!==c.getProperty(a.PROP.EVENT).getValue()&&f.push({id:a.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}),m(b,{header:{title:e,type:"page_load_da_actions_"+d,isOpen:!0,omitIfEmpty:!0},setFilter:"header",component:{type:"page_load_da_action",typeId:a.COMP_TYPE.DA_ACTION,isPlain:!0,filter:{parentId:c.id,properties:f}}})}var c,d,e={id:"da",children:[],state:{},commands:{omitIfEmpty:!1}},f={ready:!0,change:!0,click:!0,apexafterclosedialog:!0};m(e,{header:{title:g("FIRED_ON_PAGE_LOAD"),type:"page_load_da_events",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"page_load_da_event",typeId:a.COMP_TYPE.DA_EVENT,isPlain:!0,filter:{filterFunction:function(){var b=!0;return"ready"!==this.getProperty(a.PROP.EVENT).getValue()&&(b=this.getChilds(a.COMP_TYPE.DA_ACTION,{properties:[{id:a.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}]},!1).length>0),b}},addSubComponents:function(a,c){b(a,c,"true",g("TRUE")),b(a,c,"false",g("FALSE"))}}}),c=k(e,{title:g("EVENTS"),type:"da_events",isOpen:!0,filter:{properties:[{id:a.PROP.EVENT,value:""}]}}),d=a.getComponents(a.COMP_TYPE.DA_EVENT,{});for(var h=0;h<d.length;h++)f[d[h].getProperty(a.PROP.EVENT).getValue()]=!0;for(var i in f)f.hasOwnProperty(i)&&s(c,{event:i});return l(e),e}function J(){var a={id:"rd",children:[],state:{},commands:{omitIfEmpty:!1}};return"Y"===b.getPreference("GROUP_BY_COMPONENT_TYPE")?L(a):K(a),l(a),a}function K(b){var c,d=a.isGlobalPage();d||(c=k(b,{title:n(a.COMP_TYPE.PAGE_COMPUTATION,"AFTER_SUBMIT"),type:"after_submit"}),r(c,{point:"ON_SUBMIT_BEFORE_COMPUTATION"},!0,!0),o(c,{point:"BEFORE_COMPUTATION"},!0),q(c,{point:"AFTER_SUBMIT"},!0,!0),c=k(b,{title:n(a.COMP_TYPE.BRANCH,"BEFORE_VALIDATION"),type:"validating"}),o(c,{point:"BEFORE_VALIDATION"},!0),p(c,{},!0),c=k(b,{title:n(a.COMP_TYPE.PAGE_PROCESS,"AFTER_SUBMIT"),type:"processing",isOpen:!0}),o(c,{point:"BEFORE_PROCESSING"},!0),r(c,{point:"AFTER_SUBMIT"},!0,!0),c=k(b,{title:n(a.COMP_TYPE.BRANCH,"AFTER_PROCESSING"),type:"after_processing",isOpen:!0}),o(c,{point:"AFTER_PROCESSING"},!0),c=k(b,{title:n(a.COMP_TYPE.PAGE_PROCESS,"ON_DEMAND"),id:"ajax_callbacks",type:"processes",isOpen:!0}),r(c,{point:"ON_DEMAND"},!1,!0))}function L(b){var c,d,e,f=a.isGlobalPage();if(!f){for(c=k(b,{title:a.getComponentType(a.COMP_TYPE.PAGE_COMPUTATION).title.plural,type:"main_computations",isOpen:!0,filter:{properties:[{id:a.PROP.COMPUTATION_POINT,value:"AFTER_SUBMIT"}]}}),q(c,{point:"AFTER_SUBMIT"},!0,!0),p(b,{},!1),c=k(b,{title:a.getComponentType(a.COMP_TYPE.PAGE_PROCESS).title.plural,type:"main_processes",isOpen:!0,filter:{properties:[{id:a.PROP.PROCESS_POINT,value:"AFTER_SUBMIT"}]}}),d=["ON_SUBMIT_BEFORE_COMPUTATION","AFTER_SUBMIT","ON_DEMAND"],e=0;e<d.length;e++)r(c,{point:d[e]},!0,!0);for(c=k(b,{title:a.getComponentType(a.COMP_TYPE.BRANCH).title.plural,type:"main_branches",isOpen:!0,filter:{properties:[{id:a.PROP.BRANCH_POINT,value:"AFTER_PROCESSING"}]}}),d=["BEFORE_COMPUTATION","BEFORE_VALIDATION","BEFORE_PROCESSING","AFTER_PROCESSING"],e=0;e<d.length;e++)o(c,{point:d[e]},!0)}}function M(){function b(b,c,d){var e,g,i,j,l,n,o,p=a.getComponentType(c.typeId);o=k(b,{title:c.title||(c.titleTypeId?a.getComponentType(c.titleTypeId).title.singular:p.title.plural),type:c.type+"s",isOpen:!1,omitIfEmpty:d,data:{typeId:c.typeId}}),e=N(c.typeId),n={};for(var q=0;q<e.length;q++){g=a.getComponents(e[q].typeId,{});for(var r=0;r<g.length;r++)l=!1,e[q].typeId===a.COMP_TYPE.PAGE&&f.inArray(e[q].propertyId,[a.PROP.PAGE_TEMPLATE,a.PROP.DIALOG_TEMPLATE,a.PROP.NAVIGATION_LIST,a.PROP.TAB_SET])!==-1?!g[r].getProperty(e[q].propertyId)||e[q].propertyId!==a.PROP.PAGE_TEMPLATE&&e[q].propertyId!==a.PROP.DIALOG_TEMPLATE||(l=!0,j=a.getPageTemplate().id):(i=g[r].getProperty(e[q].propertyId),i&&(j=i.getValue(),""!==j&&(c.typeId!==a.COMP_TYPE.BUILD_OPTION&&c.typeId!==a.COMP_TYPE.AUTHORIZATION||!/^[-!]/.test(j)||(j=j.substr(1)),l=!0))),l&&""!==j&&(n.hasOwnProperty(j)||(n[j]={}),n[j].hasOwnProperty(e[q].typeId)||(n[j][e[q].typeId]=[]),n[j][e[q].typeId].push(g[r]))}for(var s in n)n.hasOwnProperty(s)&&m(o,{header:!1,component:{type:c.type,typeId:c.typeId,isOpen:!1,filter:{id:s,properties:[]},addSubComponents:function(b){var c,d;for(var e in n[s])if(n[s].hasOwnProperty(e)){c=a.getComponentType(e),d=k(b,{title:h("REFERENCED_BY",1===n[s][c.id].length?c.title.singular:c.title.plural),type:"references",isOpen:!0,omitIfEmpty:!1});for(var f=0;f<n[s][c.id].length;f++)m(d,{header:!1,component:{type:"referenced_by",typeId:c.id,isPlain:!0,filter:{id:n[s][c.id][f].id,properties:[]}}})}}}});return o}function c(d,e,g){for(var h,i,j=!1,l=0;l<e.length;l++)f.inArray(e[l].type,["navigation_menu_list","navigation_bar_list","nav_list_template","tab_set"])!==-1?("navigation_menu_list"===e[l].type?(i=a.getNavListId(),j=!0):"navigation_bar_list"===e[l].type?(i=a.getNavBarListId(),j=!0):"nav_list_template"===e[l].type?i=a.getNavListTemplateId():"tab_set"===e[l].type&&(i=a.getTabSetId()),i&&m(d,{header:{title:e[l].title,type:e[l].type+"s",isOpen:j,omitIfEmpty:!0,data:{typeId:e[l].typeId}},component:{type:e[l].type,typeId:e[l].typeId,isOpen:!1,filter:{id:i,properties:[]}}})):h=e[l].hasOwnProperty("typeId")?b(d,e[l],g):k(d,{title:e[l].title,type:e[l].type+"s",isOpen:!0,omitIfEmpty:g}),e[l].children&&c(h,e[l].children,!0)}var d={id:"sd",children:[],state:{},commands:{omitIfEmpty:!1}};return c(d,pa,!1),l(d),d}function N(b){for(var c,d,e=a.getComponentType(b),f=[],g=0;g<e.refByProperties.length;g++){c=a.getProperty(e.refByProperties[g]);for(var h=0;h<c.refByComponentTypes.length;h++)d=a.getComponentType(c.refByComponentTypes[h]),(d.isPageComponent||d.id===a.COMP_TYPE.PAGE)&&f.push({typeId:d.id,propertyId:c.id})}return f}function O(b){function c(a){var c;a.hasOwnProperty("value")?d.push({id:a.id,value:a.value}):a.typeId?(c=aa(a.typeId,b._parent),d.push({id:a.id,value:c?c.id:""})):a.id&&d.push({id:a.id,value:ba(a.id,b._parent)+""})}var d=[];switch(b.type){case"region":"regions"===b._parent.type?(c({id:a.PROP.PARENT_REGION,value:""}),c({id:a.PROP.REGION_POSITION})):c({id:a.PROP.PARENT_REGION,typeId:a.COMP_TYPE.REGION});break;case"page_item":c({id:a.PROP.REGION,typeId:a.COMP_TYPE.REGION});break;case"form_button":c({id:a.PROP.REGION,typeId:a.COMP_TYPE.REGION}),c({id:a.PROP.BUTTON_POSITION});break;case"region_button":c({id:a.PROP.REGION,typeId:a.COMP_TYPE.REGION}),c({id:a.PROP.BUTTON_POSITION});break;case"da_action":c({id:a.PROP.DA_EVENT,typeId:a.COMP_TYPE.DA_EVENT}),c({id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS});break;case"computation":c({id:a.PROP.COMPUTATION_POINT});break;case"process":c({id:a.PROP.PROCESS_POINT});break;case"branch":c({id:a.PROP.BRANCH_POINT})}return d}function P(b,c){var d,e,f,g=[];if(b.items.length>0){e=a.transaction.message({action:a.MESSAGE_ACTION.MOVE,component:_(b.items[0].toNode),count:b.items.length}),f=a.transaction.start("",e);for(var h=0;h<b.items.length;h++)g[h]=_(b.items[h].toNode),0===b.items[h].toIndex?d=null:(d=_(b.parentNode.children[b.items[h].toIndex-1]),d||(d="last")),g[h].move(d,O(b.items[h].toNode));apex.commandHistory.execute(f)}}function Q(b,c){var d,e,f,g,h=[];if(b.items.length>0){f=a.transaction.message({action:a.MESSAGE_ACTION.DUPLICATE,component:_(b.items[0].toNode),count:b.items.length}),g=a.transaction.start("",f);for(var i=0;i<b.items.length;i++)d=_(b.items[i].toNode),0===b.items[i].toIndex?e=null:(e=_(b.parentNode.children[b.items[i].toIndex-1]),e||(e="last")),h[i]=d.duplicate(),h[i].move(e,O(b.items[i].toNode));apex.commandHistory.execute(g),U(h,c,b.items[0].toNode._parent.id,!0)}}function R(b,c){var d,e,f;if(b.items.length>0){e=a.transaction.message({action:a.MESSAGE_ACTION.DELETE,component:_(b.items[0].node),count:b.items.length}),f=a.transaction.start("",e);for(var g=0;g<b.items.length;g++)d=_(b.items[g].node),d&&d.remove()}apex.commandHistory.execute(f)}function S(b,c){var d,e,f=[];if(b.length>0){d=a.transaction.message({action:a.MESSAGE_ACTION.DUPLICATE,component:_(b[0]),count:b.length}),e=a.transaction.start("",d);for(var g=0;g<b.length;g++)f.push(_(b[g]).duplicate());apex.commandHistory.execute(e),U(f,c,b[0]._parent.id,!0)}}function T(b,c){var d,e;if(b.length>0){d=a.transaction.message({action:a.MESSAGE_ACTION.DELETE,component:_(b[0]),count:b.length}),e=a.transaction.start("",d);for(var f=0;f<b.length;f++)_(b[f]).remove();apex.commandHistory.execute(e)}}function U(a,b,c,d){var e,g,h=[],i=f(),j=c;if(c||"PDdynamicActionTree"!==b[0].id||(j="da_da_events"),d){for(g=0;g<a.length;g++)i=i.add(Z(a[g],b,j));b.treeView("setSelection",i)}else{for(g=0;g<a.length;g++)e=$(a[g],b,j),e&&h.push(e);b.treeView("setSelectedNodes",h,!1,!0)}}function V(b,c){var d,e,f,g,h,i,j,k={NATIVE_SHOW:"NATIVE_HIDE",NATIVE_HIDE:"NATIVE_SHOW",NATIVE_ENABLE:"NATIVE_DISABLE",NATIVE_DISABLE:"NATIVE_ENABLE",NATIVE_ADD_CLASS:"NATIVE_REMOVE_CLASS",NATIVE_REMOVE_CLASS:"NATIVE_ADD_CLASS"},l=[],m=[];i=a.transaction.message({action:a.MESSAGE_ACTION.CREATE,component:_(b[0]),count:b.length}),j=a.transaction.start("",i);for(var n=0;n<b.length;n++){if(d=_(b[n]),e=d.getProperty(a.PROP.DA_ACTION_TYPE).getValue(),k.hasOwnProperty(e)){for(l.push({id:a.PROP.DA_ACTION_TYPE,value:k[e]}),f=1,g=a.getPluginProperty(a.COMP_TYPE.DA_ACTION,e,f);g&&f<=oa;)l.push({id:a.getPluginProperty(a.COMP_TYPE.DA_ACTION,k[e],f).id,value:d.getProperty(g.id).getValue()}),f++,g=a.getPluginProperty(a.COMP_TYPE.DA_ACTION,e,f);l.push({id:a.PROP.FIRE_ON_PAGE_LOAD,value:d.getProperty(a.PROP.FIRE_ON_PAGE_LOAD).getValue()
})}h="TRUE"===d.getProperty(a.PROP.FIRE_WHEN_EVENT_RESULT_IS).getValue()?"FALSE":"TRUE",l.push({id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:h}),m.push(d.duplicate(l)),m[m.length-1].move("last")}apex.commandHistory.execute(j),U(m,c,b[0]._parent._parent.id,!0)}function W(b,c,d,e){function h(a){var c;a.hasOwnProperty("value")?s.push({id:a.id,value:a.value}):a.typeId?(c=aa(a.typeId,b),s.push({id:a.id,value:c?c.id:""})):a.id&&s.push({id:a.id,value:ba(a.id,b)+""})}var i,j,k,l,m,n,o,p,q,r=_(b),s=[];if(d===a.COMP_TYPE.REGION)h("SUB_REGION"===e?{id:a.PROP.PARENT_REGION,typeId:a.COMP_TYPE.REGION}:r&&""!==r.getProperty(a.PROP.PARENT_REGION).getValue()?{id:a.PROP.PARENT_REGION}:{id:a.PROP.REGION_POSITION});else if(d===a.COMP_TYPE.PAGE_ITEM)h({id:a.PROP.REGION,typeId:a.COMP_TYPE.REGION});else if(d===a.COMP_TYPE.BUTTON)h({id:a.PROP.REGION,typeId:a.COMP_TYPE.REGION}),h({id:a.PROP.BUTTON_POSITION});else if(d===a.COMP_TYPE.PAGE_COMPUTATION)j=aa(a.COMP_TYPE.PAGE_ITEM,b),j?(h({id:a.PROP.COMPUTATION_ITEM_NAME,value:j.getProperty(a.PROP.ITEM_NAME).getValue()}),h({id:a.PROP.COMPUTATION_POINT,value:"BEFORE_BOX_BODY"})):h({id:a.PROP.COMPUTATION_POINT});else if(d===a.COMP_TYPE.PAGE_PROCESS)h({id:a.PROP.PROCESS_POINT});else if(d===a.COMP_TYPE.VALIDATION){if(j=aa([a.COMP_TYPE.PAGE_ITEM,a.COMP_TYPE.REGION,a.COMP_TYPE.TAB_FORM_COLUMN,a.COMP_TYPE.IG_COLUMN],b))switch(j.typeId){case a.COMP_TYPE.PAGE_ITEM:h({id:a.PROP.ASSOCIATED_ITEM,value:j.id});break;case a.COMP_TYPE.REGION:h({id:a.PROP.VALIDATION_REGION,value:j.id});break;case a.COMP_TYPE.TAB_FORM_COLUMN:k=j.getProperty(a.PROP.COLUMN_NAME).getValue(),h({id:a.PROP.VALIDATION_REGION,value:j.parentId}),h({id:a.PROP.ASSOCIATED_COLUMN,value:k}),h({id:a.PROP.REGION_VALIDATION_TYPE,value:"ITEM_NOT_NULL"}),h({id:a.PROP.REGION_VAL_COLUMN,value:k}),h({id:a.PROP.ERROR_MESSAGE,value:g("COLUMN_NOT_NULL_VALIDATION")});break;case a.COMP_TYPE.IG_COLUMN:k=j.getProperty(a.PROP.COLUMN_NAME).getValue(),h({id:a.PROP.VALIDATION_REGION,value:j.parentId}),h({id:a.PROP.ASSOCIATED_COLUMN,value:k}),h({id:a.PROP.REGION_VALIDATION_TYPE,value:"ITEM_NOT_NULL"}),h({id:a.PROP.REGION_VAL_COLUMN,value:k}),h({id:a.PROP.ERROR_MESSAGE,value:g("COLUMN_NOT_NULL_VALIDATION")})}}else if(d===a.COMP_TYPE.BRANCH)h({id:a.PROP.BRANCH_POINT});else if(d===a.COMP_TYPE.DA_EVENT)if(j=aa([a.COMP_TYPE.PAGE_ITEM,a.COMP_TYPE.BUTTON,a.COMP_TYPE.REGION,a.COMP_TYPE.PAGE,a.COMP_TYPE.IG_COLUMN],b))switch(j.typeId){case a.COMP_TYPE.PAGE_ITEM:h({id:a.PROP.EVENT,value:"change"}),h({id:a.PROP.WHEN_TYPE,value:"ITEM"}),h({id:a.PROP.WHEN_ITEMS,value:j.getProperty(a.PROP.ITEM_NAME).getValue()});break;case a.COMP_TYPE.BUTTON:h(f.inArray(j.getProperty(a.PROP.BUTTON_ACTION).getValue(),["REDIRECT_PAGE","REDIRECT_APP"])!==-1?{id:a.PROP.EVENT,value:"apexafterclosedialog"}:{id:a.PROP.EVENT,value:"click"}),h({id:a.PROP.WHEN_TYPE,value:"BUTTON"}),h({id:a.PROP.WHEN_BUTTON,value:j.id});break;case a.COMP_TYPE.REGION:h({id:a.PROP.EVENT,value:"apexafterrefresh"}),h({id:a.PROP.WHEN_TYPE,value:"REGION"}),h({id:a.PROP.WHEN_REGION,value:j.id});break;case a.COMP_TYPE.PAGE:h({id:a.PROP.EVENT,value:"ready"});break;case a.COMP_TYPE.IG_COLUMN:h({id:a.PROP.EVENT,value:"change"}),h({id:a.PROP.WHEN_TYPE,value:"COLUMN"}),h({id:a.PROP.WHEN_REGION,value:j.parentId}),h({id:a.PROP.WHEN_COLUMNS,value:j.getProperty(a.PROP.COLUMN_NAME).getValue()})}else h({id:a.PROP.EVENT});else d===a.COMP_TYPE.DA_ACTION?(h({id:a.PROP.DA_EVENT,typeId:a.COMP_TYPE.DA_EVENT}),h(void 0!==e?{id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:e}:{id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS})):d===a.COMP_TYPE.TAB_FORM_COLUMN||d===a.COMP_TYPE.CLASSIC_RPT_COLUMN?(j=aa(a.COMP_TYPE.REGION,b),i=j.id,l=j.getChilds(d),h({id:a.PROP.QUERY_COLUMN_ID,value:l.length+1}),h({id:a.PROP.DERIVED_COLUMN,value:"Y"}),h({id:a.PROP.DISABLE_SORT_COLUMN,value:"Y"}),"ROW_SELECTOR"===e?(h({id:a.PROP.COLUMN_NAME,value:ma}),h({id:a.PROP.TAB_FORM_COLUMN_TYPE,value:"ROW_SELECTOR"}),h({id:a.PROP.COLUMN_HEADING,value:"&nbsp;"})):"VIRTUAL"===e&&(l=j.getChilds(d,{properties:[{id:a.PROP.DERIVED_COLUMN,value:"Y"}]},function(b,c){return b.getProperty(a.PROP.COLUMN_NAME).getValue()>c.getProperty(a.PROP.COLUMN_NAME).getValue()?1:-1}),h({id:a.PROP.COLUMN_NAME,value:"DERIVED$"+(l.length<8?"0":"")+(l.length+1)}),h({id:d===a.COMP_TYPE.TAB_FORM_COLUMN?a.PROP.TAB_FORM_COLUMN_TYPE:a.PROP.CLASSIC_REPORT_COLUMN_TYPE,value:"LINK"}),h({id:a.PROP.COLUMN_HEADING,value:"&nbsp;"}))):d===a.COMP_TYPE.IG_COLUMN?(j=aa(a.COMP_TYPE.REGION,b),i=j.id,h({id:a.PROP.ITEM_TYPE,value:"NATIVE_DISPLAY_ONLY"}),h({id:a.PROP.IG_COLUMN_SOURCE_TYPE,value:"SQL_EXPRESSION"})):d===a.COMP_TYPE.IR_COLUMN_GROUP?i=aa(a.COMP_TYPE.IR_ATTRIBUTES,b).id:d===a.COMP_TYPE.IG_COLUMN_GROUP?i=aa(a.COMP_TYPE.REGION,b).id:d===a.COMP_TYPE.CHART_SERIES?(j=aa(a.COMP_TYPE.CHART,b),i=j.id,h({id:a.PROP.SERIES_CHART_TYPE,value:j.getProperty(a.PROP.CHART_TYPE).getValue()})):d===a.COMP_TYPE.JET_CHART_SERIES?(j=aa(a.COMP_TYPE.REGION,b).getChilds(a.COMP_TYPE.JET_CHART)[0],i=j.id,h({id:a.PROP.SERIES_CHART_TYPE,value:j.getProperty(a.PROP.JET_CHART_TYPE).getValue()})):d===a.COMP_TYPE.MAP_CHART_SERIES&&(j=aa(a.COMP_TYPE.MAP_CHART,b),i=j.id);r&&(m=b._parent.id),p=d===a.COMP_TYPE.TAB_FORM_COLUMN&&"ROW_SELECTOR"===e?void 0:d===a.COMP_TYPE.DA_EVENT?"last":r?r:"last",q=a.transaction.message({action:a.MESSAGE_ACTION.CREATE,component:d}),n=a.transaction.start("",q),o=new a.Component({previousComponent:p,typeId:d,parentId:i,values:s}),d===a.COMP_TYPE.DA_EVENT&&("apexafterclosedialog"===o.getProperty(a.PROP.EVENT).getValue()?new a.Component({typeId:a.COMP_TYPE.DA_ACTION,parentId:o.id,values:[{id:a.PROP.DA_ACTION_TYPE,value:"NATIVE_REFRESH"},{id:a.PROP.AFFECTED_TYPE,value:"REGION"},{id:a.PROP.AFFECTED_REGION,value:j?j.getProperty(a.PROP.REGION).getValue():""}]}):o.getProperty(a.PROP.WHEN_TYPE)&&"COLUMN"===o.getProperty(a.PROP.WHEN_TYPE).getValue()?new a.Component({typeId:a.COMP_TYPE.DA_ACTION,parentId:o.id,values:[{id:a.PROP.DA_ACTION_TYPE,value:"NATIVE_ENABLE"},{id:a.PROP.AFFECTED_TYPE,value:"COLUMN"}]}):new a.Component({typeId:a.COMP_TYPE.DA_ACTION,parentId:o.id,values:[{id:a.PROP.DA_ACTION_TYPE,value:"NATIVE_SHOW"},{id:a.PROP.AFFECTED_TYPE,value:"ITEM"}]})),apex.commandHistory.execute(n),U([o],c,m,!0)}function X(a,b){return b.treeView("getNodes",a)}function Y(b){for(var c=b.treeView("getSelectedNodes"),d=[],e=0;e<c.length;e++)c[e].data&&c[e].data.hasOwnProperty("componentId")&&d.push(a.getComponents(c[e].data.typeId,{id:c[e].data.componentId})[0]);return d}function Z(a,b,c){var d;return c&&(d=b.treeView("find",{depth:-1,match:function(a){return a.id===c}})),b.treeView("find",{parentNodeContent$:d,depth:-1,findAll:!0,match:function(b){return b.data.typeId===a.typeId&&b.data.componentId===a.id}})}function $(a,b,c){return b.treeView("getNodes",Z(a,b,c))[0]}function _(b,c){var d,e=[];return d=b instanceof jQuery?c.treeView("getNodes",b)[0]:b,d.data&&d.data.typeId&&d.data.componentId&&(e=a.getComponents(d.data.typeId,{id:d.data.componentId})),1===e.length?e[0]:void 0}function aa(a,b){var c,d=f.isArray(a)?a:[a];return b&&(c=_(b),(void 0===c||c&&f.inArray(c.typeId,d)===-1)&&(c=aa(d,b._parent))),c}function ba(a,b){var c;return c=b?b.data.hasOwnProperty(a)?b.data[a]:ba(a,b._parent):""}function ca(a,b,c){Z(a,b).each(function(){var a=f(this);c.call(X(a,b)[0]),b.treeView("update",a)})}function da(a,b,c){ca(a,c,function(){this.data&&this.data.isPlain||(this.classes+=" "+b)})}function ea(a,b,c){ca(a,c,function(){this.classes=f.grep(this.classes.split(" "),function(a){return a!==b}).join(" ")})}function fa(){function b(b){var c=_(b);return a.getComponents(c.typeId,{parentId:c.parentId}).length>1}function c(b){return"Y"===_(b).getProperty(a.PROP.DERIVED_COLUMN).getValue()}function d(b){return _(b).getProperty(a.PROP.COLUMN_NAME).getValue()!==ma}function e(b){return f.inArray(aa(a.COMP_TYPE.CHART,b).getProperty(a.PROP.CHART_TYPE).getValue(),["DOUGHNUT","PIE","DIAL","CANDLESTICK","PROJECT_GANTT","RESOURCE_GANTT"])===-1}function g(b){return f.inArray(aa(a.COMP_TYPE.REGION,b).getChilds(a.COMP_TYPE.JET_CHART)[0].getProperty(a.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])===-1}function h(b){return a.getComponents(a.COMP_TYPE.CHART_SERIES,{parentId:_(b).parentId}).length>1}function i(b){return a.getComponents(a.COMP_TYPE.JET_CHART_SERIES,{parentId:_(b).parentId}).length>1}function j(b){return f.inArray(_(b).getParent().getProperty(a.PROP.CHART_TYPE).getValue(),["DOUGHNUT","PIE","DIAL","CANDLESTICK","PROJECT_GANTT","RESOURCE_GANTT"])===-1}function k(b){return f.inArray(_(b).getParent().getProperty(a.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])===-1}function l(b){return a.getComponents(a.COMP_TYPE.MAP_CHART_SERIES,{parentId:_(b).parentId}).length>1}return{"default":{operations:{canAdd:!1,canDuplicate:!1,canDelete:!1,canRename:!1,canDrag:!1,canSearch:!1,canExtCreate:!1,canExtEdit:!1,canExtCopy:!1}},page:{icon:"icon-tree-page"},validations:{operations:{canAdd:!0},validChildren:["validation"]},validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canDrag:!0,canExtCopy:!0}},inline_validations:{validChildren:["inline_validation"]},inline_validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},pre_rendering:{},post_rendering:{},main_computations:{validChildren:["computations"]},computations:{operations:{canAdd:!0},validChildren:["computation"]},computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},inline_computations:{validChildren:["inline_computation"]},inline_computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},main_processes:{validChildren:["processes"]},processes:{operations:{canAdd:!0},validChildren:["process"]},process:{icon:"icon-tree-process",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},after_submit:{},processing:{},after_processing:{},validating:{},after_header:{},before_header:{},before_regions:{},after_regions:{},before_footer:{},after_footer:{},main_branches:{validChildren:["branches"]},branches:{operations:{canAdd:!0},validChildren:["branch"]},branch:{icon:"icon-tree-branch",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},main_regions:{validChildren:["regions"]},regions:{operations:{canAdd:!0},validChildren:["region"]},sub_regions:{operations:{canAdd:!0},validChildren:["region"]},region:{icon:"icon-tree-region",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["page_items","region_buttons","inline_da_events","region_columns","ig_columns","ir_attributes","ig_attributes","classic_report_attributes","classic_report_print","tabform_attributes","tabform_print","chart_series","map_chart_series","svg_chart_series","jet_chart_series","jet_chart_axes","region","page_item","region_button"]},main_page_items:{validChildren:["page_items"]},page_items:{operations:{canAdd:!0},validChildren:["page_item","region_button","form_button"]},page_item:{icon:"icon-tree-item",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canExtCopy:!0,canSearch:!0},validChildren:["computations","inline_validations","inline_da_events","computation"]},form_button:{icon:"icon-tree-button",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canExtCopy:!0}},region_columns:{operations:{canAdd:!0},validChildren:["classic_report_column","ir_report_column","tabform_column","region_column"]},classic_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDuplicate:!1,canDelete:b,canDrag:d,drag:{normal:"move"}}},classic_report_attributes:{},tabform_attributes:{},region_plugin_attributes:{},ir_attributes:{validChildren:["ir_column_groups","ir_saved_reports"]},ir_column_groups:{operations:{canAdd:!0},validChildren:["ir_column_group"]},ir_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ir_saved_reports:{validChildren:["ir_saved_report"]},ir_saved_report:{icon:"icon-tree-saved-report"},ir_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDelete:b,canDrag:!0}},ig_attributes:{validChildren:["ig_column_groups","ig_saved_reports"]},ig_column_groups:{operations:{canAdd:!0},validChildren:["ig_column_group"]},ig_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ig_saved_reports:{validChildren:["ig_saved_report"]},ig_saved_report:{icon:"icon-tree-saved-report"},ig_columns:{operations:{canAdd:!0},validChildren:["ig_column"]},ig_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:b}},tabform_column:{icon:"icon-tree-item",operations:{canRename:!1,canDrag:d,canDelete:c}},region_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:b}},chart_attributes:{validChildren:["chart_series"]},chart_series:{operations:{canAdd:e},validChildren:["chart_serie"]},chart_serie:{icon:"icon-tree-chart-series",operations:{canAdd:e,canDuplicate:j,canDelete:h,canRename:!0,canDrag:!0,drag:{normal:"move"}}},jet_chart_attributes:{validChildren:["jet_chart_series","jet_chart_axes"]},jet_chart_series:{operations:{canAdd:g},validChildren:["jet_chart_serie"]},jet_chart_serie:{icon:"icon-tree-chart-series",operations:{canAdd:g,canDuplicate:k,canDelete:i,canRename:!0,canDrag:!0,drag:{normal:"move"}}},jet_chart_axes:{validChildren:["jet_chart_axis"]},jet_chart_axis:{},map_chart_attributes:{validChildren:["map_chart_series"]},map_chart_series:{operations:{canAdd:!0},validChildren:["map_chart_serie"]},map_chart_serie:{icon:"icon-tree-map-series",operations:{canDuplicate:!0,canDelete:l,canRename:!0,canDrag:!0,drag:{normal:"move"}}},region_web_src_params:{validChildren:["region_web_src_param"]},jet_chart_web_src_params:{validChildren:["jet_chart_web_src_param"]},main_buttons:{validChildren:["region_buttons"]},region_buttons:{operations:{canAdd:!0},validChildren:["region_button","form_button"]},region_button:{icon:"icon-tree-button",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},main_da_events:{validChildren:["da_events"]},da_events:{validChildren:["da_event"]},da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},da_actions_true:{operations:{canAdd:!0},validChildren:["da_action"]},da_actions_false:{operations:{canAdd:!0},validChildren:["da_action"]},da_action:{icon:"icon-tree-da-action",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0}},inline_da_events:{validChildren:["inline_da_event"]},inline_da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},page_load_da_events:{operations:{canAdd:!0},validChildren:["page_load_da_event"]},page_load_da_event:{icon:"icon-tree-da-event",operations:{canDrag:!0,drag:{normal:"move"}}},tab_sets:{},tab_set:{icon:"icon-tree-tabs",operations:{canExtEdit:!0}},lovs:{operations:{canExtCreate:!0}},lov:{icon:"icon-tree-lov",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumbs:{operations:{canExtCreate:!0}},breadcrumb:{icon:"icon-tree-breadcrumb",operations:{canExtCreate:!0,canExtEdit:!0}},lists:{operations:{canExtCreate:!0}},list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_menu_lists:{operations:{canExtCreate:!0}},navigation_menu_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_bar_lists:{operations:{canExtCreate:!0}},navigation_bar_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},templates:{},page_templates:{operations:{canExtCreate:!0}},page_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},field_templates:{operations:{canExtCreate:!0}},field_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},button_templates:{operations:{canExtCreate:!0}},button_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},region_templates:{operations:{canExtCreate:!0}},region_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},list_templates:{operations:{canExtCreate:!0}},list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},nav_list_templates:{operations:{canExtCreate:!0}},nav_list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumb_templates:{operations:{canExtCreate:!0}},breadcrumb_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},calendar_templates:{operations:{canExtCreate:!0}},calendar_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},report_templates:{operations:{canExtCreate:!0}},report_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},authorizations:{operations:{canExtCreate:!0}},authorization:{icon:"icon-tree-authorization",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},plugins:{},plugin:{icon:"icon-tree-plugin"},build_options:{operations:{canExtCreate:!0}},build_option:{icon:"icon-tree-build-option",operations:{canExtCreate:!0,canExtEdit:!0}},data_load_tables:{},data_load_table:{icon:"icon-tree-data-load-table",operations:{canExtEdit:!0}},web_services:{operations:{canExtCreate:!0}},web_service:{icon:"icon-tree-web-service",operations:{canExtCreate:!0}},references:{},referenced_by:{operations:{canRename:!0}}}}function ga(c,d){function e(a){function b(a){return!(!d||d[a.id]!==!0)||!(!a.state||!a.state.opened||d&&d[a.id]===!1)}function c(a){for(var d=0;d<a.length;d++)b(a[d])&&e.push(a[d].id),a[d].children&&c(a[d].children)}var e=[];return b(a)&&e.push(a.id),c(a.children),e}var g=c(),h=f.apex.treeView.makeDefaultNodeAdapter(g,fa(),!0,e(g));return h.sortCompare=null,h.defaultGetIcon=h.getIcon,h.getIcon=function(c){var d;if(c.data){if(c.data.typeId===a.COMP_TYPE.REGION)return b.getComponentIconClass("region",_(c).getProperty(a.PROP.REGION_TYPE).getValue());if(c.data.typeId===a.COMP_TYPE.PAGE_ITEM)return b.getComponentIconClass("item",_(c).getProperty(a.PROP.ITEM_TYPE).getValue());if(c.data.typeId===a.COMP_TYPE.BUTTON)return b.getComponentIconClass("button","Y"===_(c).getProperty(a.PROP.BUTTON_IS_HOT).getValue()?"hot":"normal");if(c.data.typeId===a.COMP_TYPE.IG_COLUMN){if(d=_(c).getParent().getChilds(a.COMP_TYPE.IG_ATTRIBUTES,{})[0],"Y"===d.getProperty(a.PROP.IS_EDITABLE).getValue())return b.getComponentIconClass("item",_(c).getProperty(a.PROP.ITEM_TYPE).getValue())}else if(c.data.typeId===a.COMP_TYPE.JET_CHART_AXES)return"icon-"+_(c).getProperty(a.PROP.NAME).getValue().toLowerCase()+"-axis"}return this.defaultGetIcon(c)},h.extraCheck=function(b,c,d,e,g){var h,i;if(b){if(f.inArray(c,["canDelete","canRename","canDrag","canDuplicate"])!==-1)return h=_(d),h&&!h.isReadOnly()&&!a.isPageReadOnly();if("canAdd"===c&&a.isPageReadOnly())return!1;if("canAdd"===c&&"move"===e&&f.inArray(d.type,["region_columns","ig_columns","ir_column_groups","ig_column_groups","chart_series","map_chart_series","jet_chart_series","jet_chart_axes"])!==-1&&g)for(i=0;i<g.length;i++)if(g[i]._parent&&g[i]._parent!==d)return!1}return b},h.renderNodeContent=function(a,c,d,e){var f,g,h;d.nodeSelector>0&&c.markup('<span class="u-selector"></span>'),f=this.getIcon(a),null!==f&&c.markup("<span").attr("class","a-Icon "+f).markup("></span>"),g=this.getClasses(a),g&&(g.indexOf(b.CSS.IS_ERROR)>=0?h="icon-error":g.indexOf(b.CSS.IS_WARNING)>=0&&(h="icon-warning")),c.markup("<span role='treeitem' class='a-TreeView-label' tabIndex='-1'").attr("aria-level",e.level).optionalAttr("aria-selected",e.selected?"true":"false").optionalAttr("aria-disabled",e.disabled?"true":null).optionalAttr("aria-expanded",e.hasChildren===!1?null:e.expanded?"true":"false").markup(">"),h&&c.markup("<span class='a-Icon ").attr(h).markup("'></span>"),c.content(this.getLabel(a)).markup("</span>")},function(){return h}}function ha(a,c,e){a.treeView({getNodeAdapter:ga(c),showRoot:e,collapsibleRoot:!1,expandRoot:!1,contextMenu:ka(a),contextMenuId:a[0].id+"Menu",multiple:!0,doubleClick:"toggle",clickToRename:!1,keyboardRename:!1,keyboardAdd:!1,keyboardDelete:!0,tooltip:{show:apex.tooltipManager.defaultShowOption(),content:function(a,c){var d=_(c);if(d)return b.tooltipContentForComponent(d)}},dragAndDrop:!0,dragMultiple:!0,dragReorder:!0,delay:10,distance:5,dragAppendTo:document.body,dragCursor:"move",dragOpacity:.6,dragCursorAt:{left:10,bottom:10},dragAnimate:!1,dragContainment:"document",selectionChange:function(){var a,b=this.id;a=Y(f(this)),d.trace("%s: trigger event selectionChanged",b,a),f(document).trigger("selectionChanged",[b,a])},added:function(a,b){},moved:function(b,c){P(c,a)},copied:function(b,c){Q(c,a)},deleted:function(b,c){R(c,a)}}),a.on("refresh",function(){var b=a.treeView("getExpandedState");d.trace("%s: refresh tree",a[0].id),a.treeView("option","getNodeAdapter",ga(c,b))}),ja(a,c)}function ia(b){var c=b[0].id;a.unobserver(c,{}),f(document).off("selectionChanged."+c),b.off("refresh"),b.treeView("destroy")}function ja(c){function e(a){for(var b,c=0;c<a.length;c++){if(a[c].hasOwnProperty("typeId")){g[a[c].typeId]=!0,b=N(a[c].typeId);for(var d=0;d<b.length;d++)i.push({typeId:b[d].typeId}),j.push(b[d].propertyId)}a[c].children&&e(a[c].children)}}var g,h=c[0].id,i=null,j=[];if("PDrenderingTree"===h?(i=null,g=null):"PDdynamicActionTree"===h?i=[{typeId:a.COMP_TYPE.DA_EVENT},{typeId:a.COMP_TYPE.DA_ACTION}]:"PDprocessingTree"===h?i=[{typeId:a.COMP_TYPE.BRANCH},{typeId:a.COMP_TYPE.PAGE_COMPUTATION},{typeId:a.COMP_TYPE.PAGE_PROCESS},{typeId:a.COMP_TYPE.VALIDATION},{typeId:a.COMP_TYPE.PAGE_PROC_WS_P_I},{typeId:a.COMP_TYPE.PAGE_PROC_WS_P_O},{typeId:a.COMP_TYPE.PAGE_PROC_WS_P_A}]:"PDsharedCompTree"===h&&(i=[],g={},e(pa)),void 0===g){g={};for(var k=0;k<i.length;k++)g[i[k].typeId]=!0}a.observer(h,{components:i,events:[a.EVENT.DISPLAY_TITLE]},function(a){d.trace("%s: DISPLAY_TITLE component notification received",h,a),ca(a.component,c,function(){this.label=a.component.getDisplayTitle()})}),a.observer(h,{components:i,events:[a.EVENT.CREATE,a.EVENT.DELETE]},function(a){d.trace("%s: CREATE/DELETE component notification received",h,a),c.trigger("refresh")},!0),"PDsharedCompTree"===h?a.observer(h,{components:i,events:[a.EVENT.CHANGE,a.EVENT.ADD_PROP,a.EVENT.REMOVE_PROP],properties:j},function(a){d.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for shared component reference properties",h,a),c.trigger("refresh")},!0):(a.observer(h,{components:i,events:[a.EVENT.CHANGE,a.EVENT.ADD_PROP,a.EVENT.REMOVE_PROP],properties:[a.PROP.PAGE_TEMPLATE,a.PROP.DIALOG_TEMPLATE,a.PROP.EXECUTION_SEQUENCE,a.PROP.DISPLAY_SEQUENCE,a.PROP.BRANCH_POINT,a.PROP.PROCESS_POINT,a.PROP.COMPUTATION_POINT,a.PROP.BUTTON_POSITION,a.PROP.REGION_POSITION,a.PROP.PARENT_REGION,a.PROP.REGION,a.PROP.VALIDATION_REGION,a.PROP.VAL_ITEM,a.PROP.REGION_VAL_COLUMN,a.PROP.REGION_TYPE,a.PROP.ASSOCIATED_ITEM,a.PROP.ASSOCIATED_COLUMN,a.PROP.COMPUTATION_ITEM_NAME,a.PROP.EVENT,a.PROP.DA_EVENT,a.PROP.DA_ACTION_TYPE,a.PROP.FIRE_WHEN_EVENT_RESULT_IS,a.PROP.FIRE_ON_PAGE_LOAD,a.PROP.WHEN_REGION,a.PROP.WHEN_ITEMS,a.PROP.WHEN_COLUMNS,a.PROP.WHEN_BUTTON]},function(a){d.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for display relevant properties",h,a),c.trigger("refresh")},!0),a.observer(h,{components:i,events:[a.EVENT.CHANGE]},function(a){a.component.hasChanged()?da(a.component,b.CSS.IS_CHANGED,c):ea(a.component,b.CSS.IS_CHANGED,c)}),a.observer(h,{components:i,events:[a.EVENT.ERRORS,a.EVENT.NO_ERRORS]},function(a){a.component.hasErrors()?da(a.component,b.CSS.IS_ERROR,c):ea(a.component,b.CSS.IS_ERROR,c)}),a.observer(h,{components:i,events:[a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS]},function(a){a.component.hasWarnings()?da(a.component,b.CSS.IS_WARNING,c):ea(a.component,b.CSS.IS_WARNING,c)}),b.observerIsConditional(h,i,function(a){ea(a.component,b.CSS.IS_CONDITIONAL,c),ea(a.component,b.CSS.IS_NEVER,c),b.isNever(a.component)?da(a.component,b.CSS.IS_NEVER,c):b.isConditional(a.component)&&da(a.component,b.CSS.IS_CONDITIONAL,c)})),f(document).on("selectionChanged."+h,function(a,b,e){b!==h&&(d.trace("%s: selectionChanged event received from %s",h,b,e),(0===e.length||null===g||g.hasOwnProperty(e[0].typeId))&&U(e,c,null,!1))})}function ka(c){function d(b){return h("CREATE",a.getComponentType(b).title.singular)}function e(a){return a.call(c.treeView("getSelectedNodes"))}function i(b,c){return 1===b.length&&f.inArray(b[0].type,c)!==-1&&!a.isPageReadOnly()}function j(b,c){return!a.isGlobalPage()&&i(b,c)}function k(b,c){var d=aa(a.COMP_TYPE.REGION,b);return f.inArray(d.getProperty(a.PROP.REGION_TYPE).getValue(),c)!==-1}function l(b,c){var d;return f.inArray(b.type,["region","ig_column"])!==-1&&(d=aa(a.COMP_TYPE.REGION,b),"NATIVE_IG"===d.getProperty(a.PROP.REGION_TYPE).getValue())?"Y"===d.getChilds(a.COMP_TYPE.IG_ATTRIBUTES)[0].getProperty(a.PROP.IS_EDITABLE).getValue():c}function m(b,c){apex.navigation.redirect(b.replace(/\\u002525/g,"%").replace(/%25/g,"%").replace(/%session%/g,$v("pInstance")).replace(/%pk_value%/g,c).replace(/%application_id%/g,a.getCurrentAppId()).replace(/%page_id%/g,a.getCurrentPageId()))}function n(b,c){var d=_(b,c);m(a.getComponentType(d.typeId).editUrl,d.id)}function o(b,c){var d=_(b,c);m(a.getComponentType(d.typeId).copyUrl,d.id)}function p(b,c){var d;d=_(b,c)?_(b,c).typeId:b.data.typeId,m(a.getComponentType(d).createUrl)}function q(b,c){var d,e,g=_(b,c),h=g.getProperty(a.PROP.BRANCH_TYPE).getValue(),i=null;return"REDIRECT_URL"===h?(d=g.getProperty(a.PROP.TARGET).getValue(),/f\?p=([^:]*):([^:]*)/i.test(d)&&(e=RegExp.$1,"&FLOW_ID."!==e&&"&APP_ID."!==e&&e!==a.getCurrentAppId()||(i=RegExp.$2))):f.inArray(h,["BRANCH_TO_STEP","BRANCH_TO_PAGE_ACCEPT"])!==-1&&(i=g.getProperty(a.PROP.BRANCH_PAGE_NUMBER).getValue()),i}function r(a){var b,g,h={label:a.label,accelerator:a.accelerator,type:a.type};t++,h.id=c[0].id+"_ctx_"+t,h.type||(h.type="action",b=a.action),a.typeId&&(a.label||(h.label=d(a.typeId)),b||(b=function(){W(this[0],c,a.typeId)})),h.action=function(){return e(b)},a.visible&&(g=f.isFunction(a.visible)?a.visible:f.isArray(a.visible)?function(){return i(this,a.visible)}:a.visible.global===!1?function(){return j(this,a.visible.types)}:function(){return i(this,a.visible.types)},h.hide=function(){return!e(g)}),a.disabled&&(h.disabled=function(){return e(a.disabled)}),s.push(h)}var s=[],t=0;return r({typeId:a.COMP_TYPE.REGION,visible:["main_regions","regions","region","before_footer"]}),r({label:h("CREATE",g("SUB_REGION")),action:function(){W(this[0],c,a.COMP_TYPE.REGION,"SUB_REGION")},visible:function(){var a=_(this[0],c);return!(a&&(!a||a.isOnGlobalPage()))&&i(this,["region","sub_regions"])}}),r({typeId:a.COMP_TYPE.PAGE_ITEM,visible:["main_page_items","page_items","page_item","form_button","region"]}),r({typeId:a.COMP_TYPE.BUTTON,visible:["main_buttons","region_buttons","region_button","region","page_items","page_item","form_button"]}),r({typeId:a.COMP_TYPE.BRANCH,visible:{global:!1,types:["main_branches","branches","branch","before_header","after_submit","validating","processing","after_processing"]}}),r({typeId:a.COMP_TYPE.PAGE_COMPUTATION,visible:{global:!1,types:["main_computations","computations","computation","inline_computations","inline_computation","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","page_item"]}}),r({typeId:a.COMP_TYPE.PAGE_PROCESS,visible:{global:!1,types:["main_processes","processes","process","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","processing"]}}),r({typeId:a.COMP_TYPE.VALIDATION,visible:function(){return!!j(this,["validation","validations","validating","inline_validations","inline_validation","page_item"])||j(this,["region","tabform_column","ig_column"])&&(k(this[0],["NATIVE_TABFORM"])||l(this[0],!1))}}),r({typeId:a.COMP_TYPE.DA_EVENT,visible:function(){return!!i(this,["main_da_events","da_events","da_event","inline_da_events","inline_da_event","region","page_item","ig_column","region_button","form_button"])&&("ig_column"!==this[0].type||l(this[0],!1))}}),r({typeId:a.COMP_TYPE.DA_ACTION,visible:["da_action"]}),r({label:h("CREATE",g("TRUE_ACTION")),typeId:a.COMP_TYPE.DA_ACTION,action:function(){W(this[0],c,a.COMP_TYPE.DA_ACTION,"TRUE")},visible:["da_actions_true","da_event","inline_da_event"]}),r({label:h("CREATE",g("FALSE_ACTION")),typeId:a.COMP_TYPE.DA_ACTION,action:function(){W(this[0],c,a.COMP_TYPE.DA_ACTION,"FALSE")},visible:["da_actions_false","da_event","inline_da_event"]}),r({label:h("CREATE",g("OPPOSITE_DYNAMIC_ACTION")),typeId:a.COMP_TYPE.DA_ACTION,action:function(){V(this,c)},visible:function(){for(var a=0;a<this.length;a++)if("da_action"!==this[a].type||!c.treeView("getNodeAdapter").check("canDuplicate",this[a]))return!1;return!0}}),r({label:h("CREATE",g("VIRTUAL_COLUMN")),action:function(){k(this[0],["NATIVE_TABFORM"])?W(this[0],c,a.COMP_TYPE.TAB_FORM_COLUMN,"VIRTUAL"):W(this[0],c,a.COMP_TYPE.CLASSIC_RPT_COLUMN,"VIRTUAL")},visible:function(){return i(this,["region_columns","classic_report_column","tabform_column"])&&k(this[0],["NATIVE_SQL_REPORT","NATIVE_FNC_REPORT","NATIVE_TABFORM"])}}),r({label:h("CREATE",g("ROW_SELECTOR")),action:function(){W(this[0],c,a.COMP_TYPE.TAB_FORM_COLUMN,"ROW_SELECTOR")},visible:function(){var b;return!(!i(this,["region_columns","tabform_column"])||(b=aa(a.COMP_TYPE.REGION,this[0],c),"NATIVE_TABFORM"!==b.getProperty(a.PROP.REGION_TYPE).getValue()))&&0===b.getChilds(a.COMP_TYPE.TAB_FORM_COLUMN,{properties:[{id:a.PROP.COLUMN_NAME,value:ma}]}).length}}),r({typeId:a.COMP_TYPE.IG_COLUMN,visible:["ig_columns","ig_column"]}),r({typeId:a.COMP_TYPE.CHART_SERIES,visible:function(){return!!i(this,["chart_series","chart_serie"])&&c.treeView("getNodeAdapter").check("canAdd",this[0])}}),r({typeId:a.COMP_TYPE.JET_CHART_SERIES,visible:function(){return!!i(this,["jet_chart_series","jet_chart_serie"])&&c.treeView("getNodeAdapter").check("canAdd",this[0])}}),r({typeId:a.COMP_TYPE.MAP_CHART_SERIES,visible:["map_chart","map_chart_series","map_chart_serie"]}),r({typeId:a.COMP_TYPE.IR_COLUMN_GROUP,visible:["ir_attributes","ir_column_groups","ir_column_group"]}),r({typeId:a.COMP_TYPE.IG_COLUMN_GROUP,visible:["ig_attributes","ig_column_groups","ig_column_group"]}),r({label:g("DUPLICATE"),action:function(){S(this,c)},visible:function(){for(var a=0;a<this.length;a++)if(!c.treeView("getNodeAdapter").check("canDuplicate",this[a]))return!1;return!0}}),r({type:"separator"}),r({label:g("SYNCHRONIZE_COLUMNS"),action:function(){var b,d,e,f;b=aa(a.COMP_TYPE.REGION,this[0],c),d=a.getSourceLocationProperty(b),e=a.transaction.message({action:a.MESSAGE_ACTION.CHANGE,component:b,property:d}),f=a.transaction.start("",e),d.setValue(d.getValue(),!0),apex.commandHistory.execute(f)},visible:function(){var b;return!(a.isPageReadOnly()||!j(this,["region","ig_columns","region_columns"]))&&(b=aa(a.COMP_TYPE.REGION,this[0],c),a.getSourceLocationProperty(b))}}),r({type:"separator"}),r({label:g("DELETE"),accelerator:"Del",action:function(){return T(this,c),!0},visible:function(){for(var a=0;a<this.length;a++)if(!c.treeView("getNodeAdapter").allowDelete(this[a]))return!1;return!0}}),r({type:"separator"}),r({label:g("COPY_TO_PAGE"),action:function(){o(this[0])},visible:function(){return 1===this.length&&c.treeView("getNodeAdapter").check("canExtCopy",this[0])&&a.getComponentType(_(this[0]).typeId).isPageComponent&&!_(this[0]).isOnGlobalPage()}}),r({label:g("EDIT_SHARED_COMPONENT"),action:function(){n(this[0])},visible:function(){return 1===this.length&&c.treeView("getNodeAdapter").check("canExtEdit",this[0])&&!a.getComponentType(_(this[0],c).typeId).isPageComponent;
}}),r({label:g("COPY_SHARED_COMPONENT"),action:function(){o(this[0])},visible:function(){return 1===this.length&&c.treeView("getNodeAdapter").check("canExtCopy",this[0])&&!a.getComponentType(_(this[0],c).typeId).isPageComponent}}),r({label:g("CREATE_SHARED_COMPONENT"),action:function(){p(this[0])},visible:function(){return 1===this.length&&c.treeView("getNodeAdapter").check("canExtCreate",this[0])}}),r({label:g("PAGE_SEARCH"),action:function(){f(document).trigger("pageSearch",[_(this[0],c).getDisplayTitle()])},visible:function(){return 1===this.length&&c.treeView("getNodeAdapter").check("canSearch",this[0])}}),r({label:g("GOTO_TARGET_PAGE"),action:function(){b.goToPage(q(this[0],c))},visible:function(){return 1===this.length&&"branch"===this[0].type},disabled:function(){return null===q(this[0],c)}}),r({type:"separator"}),r({label:g("EXPAND_ALL_BELOW"),action:function(){c.treeView("expandAll",c.treeView("getSelection"))}}),r({label:g("COLLAPSE_ALL_BELOW"),action:function(){c.treeView("collapseAll",c.treeView("getSelection"))}}),{items:s}}var la={IS_HEADER:"is-header",IS_COMPONENT_VIEW:"is-component-view",IS_EVENT_VIEW:"is-event-view",IS_NOT_IMPORTANT:"is-not-important",IS_POPULATED:"is-populated"},ma="CHECK$01",na="is-active",oa=15,pa=[{title:g("NAVIGATION_MENU_LIST"),typeId:a.COMP_TYPE.LIST,type:"navigation_menu_list"},{title:g("NAVIGATION_BAR_LIST"),typeId:a.COMP_TYPE.LIST,type:"navigation_bar_list"},{title:g("TAB_SET"),typeId:a.COMP_TYPE.TAB_SET,type:"tab_set"},{typeId:a.COMP_TYPE.LOV,type:"lov"},{typeId:a.COMP_TYPE.LIST,type:"list"},{typeId:a.COMP_TYPE.AUTHORIZATION,type:"authorization"},{typeId:a.COMP_TYPE.BUILD_OPTION,type:"build_option"},{typeId:a.COMP_TYPE.DATA_LOAD_TABLE,type:"data_load_table"},{typeId:a.COMP_TYPE.WS_REF,type:"web_service"},{typeId:a.COMP_TYPE.BREADCRUMB,type:"breadcrumb"},{title:g("TEMPLATES"),type:"template",children:[{titleTypeId:a.COMP_TYPE.PAGE,typeId:a.COMP_TYPE.PAGE_TEMPLATE,type:"page_template"},{titleTypeId:a.COMP_TYPE.PAGE_ITEM,typeId:a.COMP_TYPE.FIELD_TEMPLATE,type:"field_template"},{titleTypeId:a.COMP_TYPE.BUTTON,typeId:a.COMP_TYPE.BUTTON_TEMPLATE,type:"button_template"},{titleTypeId:a.COMP_TYPE.REGION,typeId:a.COMP_TYPE.REGION_TEMPLATE,type:"region_template"},{titleTypeId:a.COMP_TYPE.LIST,typeId:a.COMP_TYPE.LIST_TEMPLATE,type:"list_template"},{title:g("CLASSIC_REPORT"),typeId:a.COMP_TYPE.REPORT_TEMPLATE,type:"report_template"},{title:g("NAVIGATION_MENU_LIST"),typeId:a.COMP_TYPE.LIST_TEMPLATE,type:"nav_list_template"},{titleTypeId:a.COMP_TYPE.BREADCRUMB,typeId:a.COMP_TYPE.BREADCRUMB_TEMPLATE,type:"breadcrumb_template"},{title:g("LEGACY_CALENDAR"),typeId:a.COMP_TYPE.CALENDAR_TEMPLATE,type:"calendar_template"}]}];f(function(){function a(){b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)?(c.removeClass(la.IS_EVENT_VIEW),c.addClass(la.IS_COMPONENT_VIEW),j.removeClass(na),k.addClass(na)):(c.removeClass(la.IS_COMPONENT_VIEW),c.addClass(la.IS_EVENT_VIEW),j.addClass(na),k.removeClass(na))}var c=f("#trees"),e=f("#PDrenderingTree"),g=f("#PDdynamicActionTree"),h=f("#PDprocessingTree"),i=f("#PDsharedCompTree"),j=f("#r_event_view, #p_event_view"),k=f("#r_comp_view, #p_comp_view");j.click(function(){b.saveBoolPref("GROUP_BY_COMPONENT_TYPE",!1),f(document).trigger("settingsStateChanged",["view"])}),k.click(function(){b.saveBoolPref("GROUP_BY_COMPONENT_TYPE",!0),f(document).trigger("settingsStateChanged",["view"])}),a(),c.on("tabsactivate",function(a,b){var c,e=b.newPanel.find(".a-TreeView");e.length>0&&(c=Y(e),c.length>0&&(d.trace("%s: trigger event selectionChanged",e.id,c),f(document).trigger("selectionChanged",[e.id,c])))}),f(document).on("settingsStateChanged",function(b,c){"view"===c?(a(),e.trigger("refresh"),h.trigger("refresh")):"componentTitle"===c&&alert("Not yet implemented!")}),f(document).on("modelReady",function(){ha(e,F,!0),ha(g,I,!1),ha(h,J,!1),ha(i,M,!1),f(document).one("modelCleared",function(){ia(e),ia(g),ia(h),ia(i)})})})}(pe,window.pageDesigner,apex.util,apex.debug,apex.lang,apex.jQuery);