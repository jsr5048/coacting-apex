!function(a,b,c,d,e,f,g,h){"use strict";function i(){return document.documentElement.clientWidth}function j(){return document.documentElement.clientHeight}function k(a,c,d){var e=5,f=0,g=function(){b.universalThemeRoller?(b.universalThemeRoller({filePaths:{utrScript:C+"utr.js",utrStylesheet:C+"utr.css",lessCompilerScript:C+"less.js",jQueryUiComponentsScript:C+"jquery-ui.utr.js",codeMirrorScript:D+"lib/codemirror.js",codeMirrorCSSModeScript:D+"mode/css/css.js",codeMirrorStylesheet:D+"lib/codemirror.css",codeMirrorThemeStylesheet:D+"theme/mbo.css",d3Script:G+"d3.min.js",d3ColorPickerScript:E+"d3.oracle.colorpicker.js",d3ColorPickerStylesheet:E+"d3.oracle.colorpicker.css",d3PaletteScript:F+"d3.oracle.palette.js",d3PaletteStylesheet:F+"d3.oracle.palette.css"},config:{themeId:a,builderSessionId:c}}),d&&"function"==typeof d&&d()):f<e&&(setTimeout(g,100),f++)};return g}function l(a){return a.attr("data-link")}function m(a){if(n(a))return null;try{if(a.opener&&!a.opener.closed&&a.opener.apex&&a.opener.apex.jQuery)return a.opener.location.href.match(/f?p=4\d\d\d:/)||a.opener.document.getElementById("pFlowId").value.match(/^4\d\d\d$/)?a.opener:m(a.opener)}catch(b){return null}return null}function n(a){return a.name&&a.name.match("^"+x)}function o(){var a=m(window);return a?a.document.getElementById("pInstance").value:null}function p(a){var b,c;return b=o(),b&&(c=a.split(":"),c[2]=b,a=c.join(":")),a}function q(){var a,c,d,e=b(N),f="rtl"===e.css("direction")?"right":"left";a={width:""},e.hasClass("a-DevToolbar--top")||e.hasClass("a-DevToolbar--bottom")?(d=i(),a.whiteSpace="nowrap",e.css(a),c=e.children("ul")[0].clientWidth+4,c>d&&(c=d),a.whiteSpace="wrap",a.width=c,a[f]=(d-c)/2):a[f]="",e.css(a)}function r(a){b(P).attr(S,a.appTitle).find(J).text(a.appTitle),b(Q).attr(S,a.pageTitle).find(J).text(a.pageTitle),b(R).attr(S,a.debugTitle).find(J).text(a.debugTitle),q()}function s(){$.push({})}function t(a,b,c,d,e,f){var g=Object.create(ha),h=p(l(a.find(Q))),i=h.split(":")[7].split(",");g.currentApp=i[0],g.currentPage=i[1],g.builderSessionId=h.split(":")[2],g.document=a[0].ownerDocument,g.window=b,g.actions={home:l(a.find("#apexDevToolbarHome")),app:l(a.find(P)),page:l(a.find(Q)),session:l(a.find("#apexDevToolbarSession")),viewDebug:l(a.find("#apexDevToolbarViewDebug")),debug:l(a.find(R)),quickEdit:l(a.find(O))},g.components=c,g.windowMgmtMode=d,g.themeId=f,g.text=e,g.appTitle=a.find(P).attr(S),g.pageTitle=a.find(Q).attr(S),g.debugTitle=a.find(R).attr(S),$[$.length-1]=g,r(v())}function u(){$.pop(),r(v())}function v(){var a;for(a=$.length-1;a>=0;a--)if(void 0!==$[a].currentApp)return $[a];return null}function w(){return!o()&&(v().builderWindow("page"),!0)}var x="APEX_BUILDER",y="ORA_WWV_apex.builder.devToolbar",z="ORA_WWV_apex.builder.themeRoller",A="crosshair",B=window.apex_img_dir,C=B+"apex_ui/theme_roller/",D=B+"libraries/codemirror/5.16/",E=B+"libraries/d3.oracle.colorpicker/0.1/",F=B+"libraries/d3.oracle.palette/0.1/",G=B+"libraries/d3/3.3.11/",H="DEVELOPER_TOOLBAR_ERRORS",I="DEVELOPER_TOOLBAR_ERRORS_BTN",J=".a-DevToolbar-buttonLabel",K="a-DevToolbar--top a-DevToolbar--left a-DevToolbar--bottom a-DevToolbar--right",L="is-active",M="apexDevToolbarErrors",N="#apexDevToolbar",O="#apexDevToolbarQuickEdit",P="#apexDevToolbarApp",Q="#apexDevToolbarPage",R="#apexDevToolbarDebug",S="title",T=e.getScopedSessionStorage({prefix:y,useAppId:!1}),U=e.getScopedLocalStorage({prefix:y,useAppId:!1}),V=e.getScopedSessionStorage({prefix:z,useAppId:!0}),W=!1,X=window.performance&&window.performance.timing&&window.performance.navigation,Y=!1;b.ui.dialog&&b.widget("ui.dialog",b.ui.dialog,{_allowInteraction:function(a){return b(a.target).closest(".a-DevToolbar, #apexDevToolbarMenu, .u-Overlay--quickEdit").length>0||this._super(a)}}),a._dtNotifyErrors=function(){W||(W=!0,f.loadMessagesIfNeeded([H,I],function(){var a=c.getTopApex().jQuery,b=f.getMessage(H),d=f.getMessage(I);a(N+" .a-DevToolbar-list").prepend('<li role="alert"><button id="'+M+'" type="button" class="a-Button a-Button--devToolbar " title="'+d+'" aria-label="'+b+'"><span class="a-Icon icon-warning" aria-hidden="true"></span></button></li>'),a(N).addClass(L),q(),a("#"+M).click(function(){g.alert(b)})}))};var Z=b.ui.keyCode,$=[],_=null,aa=null,ba=null,ca=null,da=!1,ea=null,fa=null,ga=40,ha={navigateInPageDesigner:function(a,b,c,e,f){var g=m(window);g&&g.pageDesigner?(g.pageDesigner.setPageSelection(a,b,c,e,function(a){"OK"!==a&&"PAGE_CHANGE_ABORTED"!==a&&f()}),d.openInNewWindow("",x,{altSuffix:o()})):f()},builderWindow:function(a){this.builderWindowUrl(p(this.actions[a]))},builderWindowUrl:function(a){var b=o();n(window)||"NONE"===this.windowMgmtMode?d.redirect(a):b?d.openInNewWindow(a,x,{altSuffix:b}):g.confirm(this.text.noBuilderMessage,function(b){b&&(window.name="",d.redirect(a))})},popup:function(a){d.popup({url:p(this.actions[a]),name:"view_debug",width:1024,height:768})},sameWindow:function(a){var b,c=this.actions[a];this.window===window?d.redirect(c):(b=/apex.navigation.dialog\(['"]([^'"]*)['"]/.exec(c),b&&(c=b[1],c=c.replace(/\\u(\d\d\d\d)/g,function(a,b){return String.fromCharCode(parseInt(b,16))})),this.window.location.href=c)},initLocateBoxes:function(){var a,d,e,f,g,h,i,j=[];for(_=[],a=this.components.length-1;a>=0;a--)f=this.components[a],d=b("#"+c.escapeCSS(f.domId),this.document),d="5120"===f.typeId?d.closest(":visible"):d.filter(":visible"),d.length&&d[0]!==document.body&&(h=d.offsetParent(),"fixed"===h.css("position")?(i=h.position(),e=d.position(),e.top+=i.top,e.left+=i.left,g=!0):(e=d.offset(),g=!1),(g?j:_).push({node:d[0],pageId:f.pageId,typeId:f.typeId,componentId:f.id,fixed:g,top:e.top,bottom:e.top+d.outerHeight(),left:e.left,right:e.left+d.outerWidth()}));j.length&&(_=j.concat(_))},endDomLocate:function(){b(this.document).off(".locate"),b(document).off(".locate"),b(window).off(".locate"),b(this.document.body).css("cursor",fa),ea.remove(),aa.remove(),ba.remove(),ca.remove(),da=!1,b(O).focus()},beginDomLocate:function(c){var d=this,e=null,f=-1,g=b(this.document.body),h=function(a,b,c,d,e){return e.fixed&&(a=c,b=d),b>e.top&&b<e.bottom&&a>e.left&&a<e.right},j=function(a){var b={7040:!0,7320:!0,7420:!0,7940:!0};return!b[a]},k=function(c){var d,f,g,h,k,l,m;null===e?(ba.hide(),ca.hide()):(ba.show(),h=b(e.node),d=h.offset(),f=h.outerHeight(),g=h.outerWidth(),ba.css({top:d.top+"px",left:d.left+"px"}),j(e.typeId)?!function(){ca.show();var a=d.left+h.outerWidth()-ca.outerWidth()+2,b=i(),c=ca.outerWidth();a+c>b&&(a=b-c-10),ca.css({top:d.top+"px",left:a+"px"})}():ca.hide(),ba.height(f).width(g).focus(),c&&(k=h.scrollParent(),l=a.theme.defaultStickyTop(),m=k[0]===document?b(window).height():k.height(),d.top<k.scrollTop()+l?k.scrollTop(d.top-l-ga):d.top>k.scrollTop()+m&&k.scrollTop(d.top+m+ga)))};this.initLocateBoxes(),e=null,da=this.document!==document,aa=b("<div class='u-Overlay u-Overlay--quickEdit'></div>").appendTo(g),ba=b("<div class='a-DevToolbar-uiSelector'  tabindex='-1'></div>").appendTo(g),ca=b("<button class='a-DevToolbar-liveTemplateOptions'> <span class='a-Icon icon-util'></span></button>").appendTo(g),fa=g.css("cursor"),ea=b("<style> *{ cursor: "+A+" !important; }</style>").appendTo(g),g.css("cursor",A),ca.on("click",function(){return w()?(d.endDomLocate(),!1):(d.getTemplateOptions(e),d.endDomLocate(),!1)}),b(this.document).on("mousemove.locate",function(a){var b,c,d,g=a.clientX,i=a.clientY,j=a.pageX,l=a.pageY;for(da||(da=!0),d=null,b=0;b<_.length;b++)if(c=_[b],h(j,l,g,i,c)){d=c,f=b;break}e!==d&&(e=d,k())}).on("click.locate",function(){return da?(d.endDomLocate(),e&&c(e),!1):void(da=!0)}),b(document).on("keydown.locate",function(a){var b=a.which;b===Z.ESCAPE?d.endDomLocate():b===Z.DOWN?(f<=0?f=_.length-1:f-=1,e=_[f],k(!0),a.preventDefault()):b===Z.UP?(f<0||f>=_.length-1?f=0:f+=1,e=_[f],k(!0),a.preventDefault()):b===Z.TAB?f>0&&(document.activeElement===ba[0]&&ca.is(":visible")?ca.focus():ba.focus(),a.preventDefault()):b!==Z.SPACE&&b!==Z.ENTER||document.activeElement!==ba[0]||(d.endDomLocate(),e&&c(e),a.preventDefault())})},getTemplateOptions:function(d){var e,g=d.typeId,i=d.componentId;this.deferredTemplateOptionsInit||(this.deferredTemplateOptionsInit=[]);var j=this.deferredTemplateOptionsInit;c.delayLinger.start("templateOptions",function(){e=c.showSpinner(b(d.node))});var k=function(f){return jQuery().liveTemplateOptions?(c.delayLinger.finish("templateOptions",function(){e.remove()}),void b(d.node).liveTemplateOptions({data:JSON.parse(JSON.stringify(f)),componentId:i,onSave:function(f,h,j){return!w()&&(c.delayLinger.start("templateOptions",function(){e=c.showSpinner(b(d.node))}),void a.server.process("developerToolbar",{p_flow_id:4e3,p_flow_step_id:0,p_instance:o(),x01:"setTemplateOptions",x02:$v("pFlowId"),x03:$v("pFlowStepId"),x04:g,x05:i,f01:f},{success:function(){c.delayLinger.finish("templateOptions",function(){e.remove()}),h()},error:function(a,b){c.delayLinger.finish("templateOptions",function(){e.remove()}),j(a,b)}}))}})):void j.push(f)};jQuery().liveTemplateOptions?b.apex.liveTemplateOptions.preload():b.getScript(B+"apex_ui/js/"+(0===h.getLevel()?"minified/widget.liveTemplateOptions.min.js":"widget.liveTemplateOptions.js"),function(a,c,d){for(b.apex.liveTemplateOptions.preload();j.length>0;)k(j.pop())}),a.server.process("developerToolbar",{p_flow_id:4e3,p_flow_step_id:0,p_instance:this.builderSessionId,x01:"getTemplateOptions",x02:$v("pFlowId"),x03:$v("pFlowStepId"),x04:g,x05:i},{success:k,error:function(a,b,d){h(a),c.delayLinger.finish("templateOptions",function(){e.remove()}),alert(f.getMessage("APEX.LTO.NO_OPTIONS_FOUND"))}})},quickEdit:function(){var a=this;da?this.endDomLocate():this.beginDomLocate(function(b){var c,d,e=p(a.actions.quickEdit);a.navigateInPageDesigner(a.currentApp,b.pageId,b.typeId,b.componentId,function(){b.pageId!==a.currentPage&&(d=e.split(":"),c=d[d.length-1].split(","),c[1]=c[3]=c[4]=b.pageId,d[d.length-1]=c.join(","),e=d.join(":")),e+="#"+b.typeId+":"+b.componentId,a.builderWindowUrl(e)})})},themeRoller:function(){var c=this;h.info("ThemeId: %s, BuilderSessionId: %s",c.themeId,c.builderSessionId);var d=function(){a.utr&&a.utr.opened?b.universalThemeRoller("close"):b.universalThemeRoller("open")};if(b.universalThemeRoller)d();else{var e=k(c.themeId,c.builderSessionId,d);b.getScript(C+"jquery.universalThemeRoller.js",e)}}};a.initNestedDevToolbar=function(a,b,c,d,e,f){t(a,b,c,d,e,f)},a.initDevToolbar=function(d,g,h,l){function m(){e.hasLocalStorageSupport()&&U.setItem("options",'{"autoHide":'+D+',"iconsOnly":'+E+',"displayPosition":"'+F+'"}')}function n(){var a;if(a=U.getItem("options"))try{a=JSON.parse(a),D=a.autoHide?a.autoHide:D,E=a.iconsOnly?a.iconsOnly:E,F=/^(top|left|right|bottom)$/.test(a.displayPosition)?a.displayPosition:F}catch(b){}}function p(d){function e(b){return b.toLocaleString(a.locale.getLanguage(),{useGrouping:!0,maximumFractionDigits:2})+"ms"}var g,k,l,m,n="",o="",p=b("<div id='apex-timeline'><ul class='apex-timeline' tabindex='-1'></ul><div class='apex-timeline-rule'></div><div class='apex-timeline-time'></div></div>"),q=i()-40,r=Math.min(480,j()-40);d=d||window,g=d.performance.timing,b("body").append(p),k=p.find(".apex-timeline-rule"),l=p.find(".apex-timeline-time"),p.dialog({title:h.perfTitle+": "+d.document.title,dialogClass:"apex-timeline-dlg ui-dialog--hud",modal:!0,height:r,width:q,resizable:!1,create:function(){jQuery(this).closest(".ui-dialog").css("position","fixed")},open:function(){var f,h,i,j,l,q,r,s,t,u,v,w,x,y,z,A=[],B=g.navigationStart,C=B+1e3,D=p.innerWidth()-200,E=p.children().eq(0);if(Y=!0,a.navigation.beginFreezeScroll(),!d.apex._dtPerfSkipNavigation)for(C=Math.max(g.loadEventEnd,g.domContentLoadedEventEnd,g.loadEventEnd,g.responseEnd),A.push({begin:B,end:C,duration:C-B,name:H[d.performance.navigation.type],color:"c-tl-page"}),f=0;f<G.length;f++)s=G[f],t={name:s[0],begin:g[s[1]]},s[2]&&(t.end=g[s[2]],t.duration=t.end-t.begin),0!==t.end&&0!==t.begin&&0!==t.duration&&(s[3]&&(t.color=s[3]),A.push(t));if(d.performance.getEntries)for(x=d.performance.getEntries(),f=0;f<x.length;f++){if(w=x[f],"resource"===w.entryType)t={name:w.name.replace(/\?.*$/,"").match(/[^\/]+$/)[0],begin:g.navigationStart+w.startTime,duration:w.duration,color:"c-tl-res"};else if("measure"===w.entryType)t={name:w.name,begin:g.navigationStart+w.startTime,duration:w.duration,color:"c-tl-measure"};else{if("mark"!==w.entryType||/_end$|_begin$/.test(w.name))continue;t={name:w.name,begin:g.navigationStart+w.startTime,color:"c-tl-mark"}}y=w.duration?t.end=t.begin+w.duration:t.begin,y>C&&(C=y),A.push(t)}for(A.sort(function(a,b){return a.begin-b.begin}),d.apex._dtPerfSkipNavigation&&A.length&&(B=A[0].begin,E.append("<li>Time base: "+e(B-g.navigationStart)+"</li>")),m=D/Math.min(C-B,1e4),n+="Measure\tBegin\tEnd\tDuration\r\n",o+="<table><thead><tr><th>Measure</th><th>Begin</th><th>End</th><th>Duration</th></tr></thead><tbody>",f=0;f<A.length;f++)r=A[f],u=r.name,q=r.duration||0,q&&(u+=" "+e(q)),j=r.begin-B,l=r.end?r.end-B:0,v=r.name,v+=q?",\r\nBegin "+e(j)+",\r\nEnd "+e(l)+",\r\nDuration "+e(q):",\r\nAt "+e(j),z="c-tl-res"===r.color?" tl-resource":"",h=b("<li class='apex-timeline-entry"+z+"'><span class='apex-timeline-box "+r.color+"' title='"+v+"'></span><span class='apex-timeline-label' title='"+v+"' tabindex='0'>"+u+"</span></li>"),i=m*(r.begin-B),h.children().eq(0).css({marginLeft:i,width:r.duration?Math.max(2,m*r.duration):2}),E.append(h),n+=r.name+"\t"+j+"\t"+l+"\t"+q+"\r\n",o+="<tr><td>"+c.escapeHTML(r.name)+"</td><td>"+j+"</td><td>"+l+"</td><td>"+q+"</td></tr>";o+="</tbody></table>",k.height(Math.max(E.height(),p.height())),a.clipboard.addHandler(p[0],function(a){return a.setData("text/plain",n),a.setData("text/html",o),!0})},close:function(){Y=!1,a.navigation.endFreezeScroll(),a.clipboard.removeHandler(p[0]),p.remove()},buttons:[{text:h.clear,click:function(){var a=d.performance;p.children().eq(0).empty(),d.apex._dtPerfSkipNavigation=!0,a.getEntries&&(a.clearResourceTimings(),a.clearMeasures(),a.clearMarks())}},{id:"apex-timeline-btn-copy",text:h.copy,click:function(){p.children().eq(0).focus(),a.clipboard.copy()}},{"class":"ui-button--hot",text:f.getMessage("APEX.DIALOG.CLOSE"),click:function(){jQuery(this).dialog("close")}}]}).on("mousemove",function(a){var b,d,f=p.width()-4-c.getScrollbarSize().width,g=p.height()-c.getScrollbarSize().width,h=p.offset(),i=a.pageX-h.left+p[0].scrollLeft,j=a.pageY-h.top-28+p[0].scrollTop;j<0&&(j=0),i>f+p[0].scrollLeft&&(i=f+p[0].scrollLeft),k.css("left",i+2),l.text(e(i/m)),d=l.height(),b=l.width(),j+d>g+p[0].scrollTop&&(j=g+p[0].scrollTop-d),i+b+40>f?i-=b+10:i+=10,l.css({left:i,top:j})}).on("mouseenter",function(){k.show(),l.show()}).on("mouseleave",function(){k.hide(),l.hide()})}function r(a){var c=a?"on":"off";B=a,b(document).trigger("apex-devbar-grid-debug-"+c),T.setItem("grid",c)}var w=!1,x=!1,y=b("#apexDevToolbarOptionsMenu"),z=b("#apexDevToolbarInfoMenu"),A=null,B=!1,D=!1,E=!1,F="bottom",G=[["Redirect","redirectStart","redirectEnd","c-tl-redir"],["Unload","unloadEventStart","unloadEventEnd","c-tl-unload"],["Cache","fetchStart","domainLookupStart","c-tl-cache"],["DNS","domainLookupStart","domainLookupEnd","c-tl-dns"],["Connect","connectStart","connectEnd","c-tl-conn"],["Request","requestStart","responseStart","c-tl-req"],["Response","responseStart","responseEnd","c-tl-resp"],["Processing","responseEnd","loadEventStart","c-tl-proc"],["DOM Loading","domLoading","domInteractive","c-tl-d1"],["DOM Interactive","domInteractive","domComplete","c-tl-d2"],["DOM Content Loaded","domContentLoadedEventStart","c-tl-d3"],["On Load","loadEventStart","loadEventEnd","c-tl-load"]],H={0:"Page Navigate",1:"Page Reload",2:"Page Forward or Back"};if(r("on"===T.getItem("grid")),a._pageHasErrors&&a._dtNotifyErrors(),self.apex===c.getTopApex()){var I=k(l,o(),function(){b.universalThemeRoller("open")});b.getScript(C+"utr-base.js",function(){"true"===V.getItem("OPENED")&&b.getScript(C+"jquery.universalThemeRoller.js",I)}),b("#apexDevToolbarHome").click(function(){v().builderWindow("home")}),b(P).click(function(){v().builderWindow("app")}),b(Q).click(function(){var a=v();a.navigateInPageDesigner(a.currentApp,a.currentPage,null,null,function(){a.builderWindow("page")})}),b("#apexDevToolbarSession").click(function(){v().popup("session")}),b("#apexDevToolbarViewDebug").click(function(){v().popup("viewDebug")}),b(R).click(function(){v().sameWindow("debug")}),b(O).off("click").click(function(){v().quickEdit()}),b("#apexDevToolbarThemeRoller").off("click").click(function(){v().themeRoller()}),z.menu({items:[{type:"toggle",onLabel:h.gridDebugOff,offLabel:h.gridDebugOn,get:function(){return B},set:function(a){r(a)}},{type:"action",label:h.showPerf,hide:!X,disabled:function(){return Y},action:function(){p(v().window)}}],beforeOpen:function(){x=!0}}),y.menu({items:[{type:"toggle",label:h.autoHide,get:function(){return D},set:function(a){D=a,m(),b(N).toggleClass("a-DevToolbar--autoHide",D)}},{type:"toggle",label:h.iconsOnly,get:function(){return E},set:function(a){E=a,m(),b(N).toggleClass("a-DevToolbar--iconsOnly",E),q()}},{type:"subMenu",label:h.display,menu:{items:[{type:"radioGroup",get:function(){return F},set:function(a){F=a,m(),b(N).removeClass(K).addClass("a-DevToolbar--"+F),q()},choices:[{label:h.displayTop,value:"top"},{label:h.displayLeft,value:"left"},{label:h.displayBottom,value:"bottom"},{label:h.displayRight,value:"right"}]}]}}],beforeOpen:function(){x=!0}}),n(),b(N).toggleClass("a-DevToolbar--iconsOnly",E).toggleClass("a-DevToolbar--autoHide",D).removeClass(K).addClass("a-DevToolbar--"+F).on("focusin",function(){w=!0,x=!1,b(this).addClass(L)}).on("focusout",function(){w=!1,x||b(this).removeClass(L)}).on("mouseenter",function(){null!==A&&(clearTimeout(A),A=null),b(this).addClass(L)}).on("mouseleave",function(){var a=this;A=setTimeout(function(){A=null,w||x||b(a).removeClass(L)},1e3)}).show(),s(),t(b(N),window,d,g,h,l),b(window).on("apexwindowresized",function(){q()}),b(document.body).on("dialogopen",function(){s()}).on("dialogclose",function(){u()})}else if(c.getTopApex().initNestedDevToolbar&&c.getTopApex().initNestedDevToolbar(b(N),window,d,g,h,l),c.getTopApex().utr){window.apex.utr={nested:!0};var J=function(){window.apex.utr.nest?c.getTopApex().utr.nest&&c.getTopApex().utr.nest(window.apex.utr):setTimeout(J,100)};b.getScript(C+"utr-base.js",J)}}}(apex,apex.jQuery,apex.util,apex.navigation,apex.storage,apex.lang,apex.message,apex.debug);