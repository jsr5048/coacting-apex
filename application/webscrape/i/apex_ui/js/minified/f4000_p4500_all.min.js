/*! jQuery UI - v1.12.0 - 2018-02-26
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed  */
!function(a){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../keycode","../safe-active-element","../unique-id","../version","../widget"],a):a(jQuery)}(function(a){return a.widget("ui.tabs",{version:"1.12.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var c,d;c=b.href.replace(a,""),d=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(e){}try{d=decodeURIComponent(d)}catch(e){}return b.hash.length>1&&c===d}}(),_create:function(){var b=this,c=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,c.collapsible),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(c.active):this.active=a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){if(a(e).attr("aria-controls")===d)return b=c,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==b&&b!==-1||(b=!!this.tabs.length&&0)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),b===-1&&(b=!c&&0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(a.ui.safeActiveElement(this.document[0])).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d!==this.options.active&&d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||b.metaKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),b<0&&(b=e),b}for(var e=this.tabs.length-1;a.inArray(d(),this.options.disabled)!==-1;)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).trigger("focus"),a},_setOption:function(a,b){return"active"===a?void this._activate(b):(this._super(a,b),"collapsible"===a&&(this._toggleClass("ui-tabs-collapsible",null,b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this,c=this.tabs,d=this.anchors,e=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=a(),this.anchors.each(function(c,d){var e,f,g,h=a(d).uniqueId().attr("id"),i=a(d).closest("li"),j=i.attr("aria-controls");b._isLocal(d)?(e=d.hash,g=e.substring(1),f=b.element.find(b._sanitizeSelector(e))):(g=i.attr("aria-controls")||a({}).uniqueId()[0].id,e="#"+g,f=b.element.find(e),f.length||(f=b._createPanel(g),f.insertAfter(b.panels[c-1]||b.tablist)),f.attr("aria-live","polite")),f.length&&(b.panels=b.panels.add(f)),j&&i.data("ui-tabs-aria-controls",j),i.attr({"aria-controls":g,"aria-labelledby":h}),f.attr("aria-labelledby",h)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),c&&(this._off(c.not(this.tabs)),this._off(d.not(this.anchors)),this._off(e.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(b){var c,d,e;for(a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1),e=0;d=this.tabs[e];e++)c=a(d),b===!0||a.inArray(e,b)!==-1?(c.attr("aria-disabled","true"),this._addClass(c,null,"ui-state-disabled")):(c.removeAttr("aria-disabled"),this._removeClass(c,null,"ui-state-disabled"));this.options.disabled=b,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,b===!0)},_setupEvents:function(b){var c={};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(a){a.preventDefault()}}),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=!h&&this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){f._addClass(c.newTab.closest("li"),"ui-tabs-active","ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){f._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),e()}):(this._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),h.hide(),e()),h.attr("aria-hidden","true"),c.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr("aria-hidden","false"),c.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(b){return"string"==typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+a.ui.escapeSelector(b)+"']"))),b},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var c=this.options.disabled;c!==!1&&(void 0===b?c=!1:(b=this._getIndex(b),c=a.isArray(c)?a.map(c,function(a){return a!==b?a:null}):a.map(this.tabs,function(a,c){return c!==b?c:null})),this._setOptionDisabled(c))},disable:function(b){var c=this.options.disabled;if(c!==!0){if(void 0===b)c=!0;else{if(b=this._getIndex(b),a.inArray(b,c)!==-1)return;c=a.isArray(c)?a.merge([b],c).sort():[b]}this._setOptionDisabled(c)}},load:function(b,c){b=this._getIndex(b);var d=this,e=this.tabs.eq(b),f=e.find(".ui-tabs-anchor"),g=this._getPanelForTab(e),h={tab:e,panel:g},i=function(a,b){"abort"===b&&d.panels.stop(!1,!0),d._removeClass(e,"ui-tabs-loading"),g.removeAttr("aria-busy"),a===d.xhr&&delete d.xhr};this._isLocal(f[0])||(this.xhr=a.ajax(this._ajaxSettings(f,c,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(e,"ui-tabs-loading"),g.attr("aria-busy","true"),this.xhr.done(function(a,b,e){setTimeout(function(){g.html(a),d._trigger("load",c,h),i(e,b)},1)}).fail(function(a,b){setTimeout(function(){i(a,b)},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}}),a.uiBackCompat!==!1&&a.widget("ui.tabs",a.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),a.ui.tabs});
!function(a,b,c){"use strict";function d(){return new Error("Unsupported by model")}function e(){return new Error("Parent node required")}function f(a,b){var d,e,f="",g=a.className.split(" ");for(d=0;d<g.length;d++)e=g[d],c.inArray(e,b)>=0&&(f+=" "+e);a.className=f.substr(1)}function g(a){return a.parent().children(":visible").index(a)}function h(a){var b=a.get(0).id;return b.substring(b.lastIndexOf("_")+1)}function i(a,b){return parseInt(a.children(z).find(b).attr($),10)}function j(a,b){return parseInt(a.find(b).attr($),10)}function k(a,b,c,d,e){var f,g,h,i;c.renderNodeContent?c.renderNodeContent(b,a,d,e):(d.nodeSelector>0&&(i=G,1===d.nodeSelector&&(i+=" u-selector--single"),a.markup('<span class="'+i+'"></span>')),c.getIcon&&(f=c.getIcon(b),null!==f&&a.markup("<span").attr("class",d.iconType+" "+f).markup("></span>")),g=d.useLinks&&c.getLink&&c.getLink(b),h=g?"a":"span",a.markup("<"+h+" tabIndex='-1' role='treeitem'").attr("class",d.labelClass).optionalAttr("href",g).attr($,e.level).attr(X,e.selected?ba:ca).optionalAttr(Z,e.disabled?ba:null).optionalAttr(W,e.hasChildren===!1?null:e.expanded?ba:ca).markup(">").content(c.getLabel(b)).markup("</"+h+">"))}function l(a){a.tabIndex=0,a.focus()}function m(a){var b;return a.hasClass(P)?b=a.children("ul").children("li").first():(b=a.next(),0===b.length&&(b=a.parent().parents("li").next("li").first())),b}function n(a){var b;return b=a.prev(),b.length>0?b.hasClass(P)&&(b=b.find("li").filter(":visible").last()):b=a.parent().parent("li"),b}function o(){var a={};window.getSelection?a=window.getSelection():document.selection&&(a=document.selection.createRange()),a.rangeCount?a.removeAllRanges():a.text>""&&document.selection.empty()}function p(a){var b=a.scrollTop(),d=a,e=null;a[0]===document&&(d=c(window)),d.on("scroll.treeTemp",function(){a.scrollTop(b),d.off(".treeTemp"),clearTimeout(e)}),e=setTimeout(function(){d.off(".treeTemp")},20)}function q(a,b,d,e,f){var g=a.val(b).width(d).keydown(function(a){var b=a.which;a.shiftKey||a.ctrlKey||a.altKey||(b===fa.ENTER?(e(c(this).val(),!0),a.preventDefault()):b===fa.ESCAPE&&(setTimeout(function(){f(!0)},10),a.preventDefault()))}).blur(function(a){e(c(this).val(),!1)})[0];return l(g),g.select(),g}var r="a-TreeView",s="a-TreeView-node",t="a-TreeView--noCollapse",u="."+s,v="a-TreeView-node--topLevel",w="a-TreeView-row",x="."+w,y="a-TreeView-content",z="."+y,A=z+", "+x,B="a-TreeView-label",C="a-TreeView-toggle",D="."+C,E="a-TreeView-dragHelper",F="a-TreeView-placeholder",G="u-selector",H="."+G,I="is-selected",J="."+I,K="is-disabled",L="."+K,M="is-focused",N="is-hover",O="is-expandable",P="is-collapsible",Q="is-processing",R="a-TreeView-node--leaf",S="a-Icon",T="u-RTL",U="a-TreeView-input",V="."+U,W="aria-expanded",X="aria-selected",Y="is-active",Z="aria-disabled",$="aria-level",_="<ul role='group'>",aa="</ul>",ba="true",ca="false",da="selectionChange",ea="expansionStateChange",fa=c.ui.keyCode,ga=function(a,b){a._trigger(da,b)},ha=a.debounce(ga,1),ia=a.debounce(ga,350),ja={begin:function(a,b){this.text=""},node:function(a,b,c){b>0&&(this.text+="\r\n"),this.text+=c},end:function(){},toString:function(){return this.text}},ka={begin:function(a,b){this.text="<ul>\r\n"},node:function(b,c,d){this.text+="<li>"+a.escapeHTML(d)+"</li>\r\n"},end:function(){this.text+="</ul>\r\n"},toString:function(){return this.text}};c.widget("apex.treeView",c.ui.mouse,c.extend(!0,{version:"18.1",widgetEventPrefix:"treeview",options:{getNodeAdapter:null,adapterTypesMap:null,showRoot:!0,expandRoot:!0,collapsibleRoot:!0,autoCollapse:!1,useLinks:!0,multiple:!1,nodeSelector:!1,allowCopy:!0,dataTransferFormats:[{format:"text/plain",writer:Object.create(ja)},{format:"text/html",writer:Object.create(ka)}],idPrefix:null,iconType:S,labelClass:B,doubleClick:!1,clickToRename:!1,keyboardRename:!1,keyboardAdd:!1,keyboardDelete:!1,tooltip:null,navigation:!1,dragAndDrop:!1,dragMultiple:!1,dragReorder:!1,dragAppendTo:"parent",dragContainment:!1,dragCursor:"auto",dragCursorAt:!1,dragHelper:null,dragOpacity:!1,dragAnimate:!1,dragExpandDelay:1200,dragScroll:!0,dragScrollSensitivity:20,dragScrollSpeed:10,dragZIndex:1e3,scope:"default",activate:null,deactivate:null,out:null,over:null,start:null,drag:null,beforeStop:null,stop:null,selectionChange:null,expansionStateChange:null,activateNode:null,beginEdit:null,endEdit:null,added:null,renamed:null,deleted:null,moved:null,copied:null},scrollTimerId:null,delayExpandTimer:null,hasCurrent:!1,tooltipOptions:null,triggerTimerId:null,forwardKey:fa.RIGHT,backwardKey:fa.LEFT,scrollParent:null,animating:!1,dragging:!1,dragItems:null,currentItem:null,_create:function(){var a=this,b=this.element,d=this.options;if(d.getNodeAdapter||(d.getNodeAdapter=this._parseTreeMarkup(b,d.adapterTypesMap||null)),!d.getNodeAdapter)throw new Error("Missing required option getNodeAdapter");this.nodeAdapter=d.getNodeAdapter(),this.containerCache={},d.collapsibleRoot===!1&&(d.expandRoot=!0),b.addClass(r).attr("role","tree"),this.baseId=(d.idPrefix||b[0].id||"tree")+"_",this.labelSelector="."+d.labelClass,this.editMode=!1,d.multiple&&b.attr("aria-multiselectable",ba),this.rtlFactor=1,"rtl"===b.css("direction")&&(b.addClass(T),this.forwardKey=fa.LEFT,this.backwardKey=fa.RIGHT,this.rtlFactor=-1),d.disabled&&b.attr(Z,ba),d.tooltip&&this._initTooltips(d.tooltip),this._initContextMenu(z,function(b){return c(b.target).closest("a").length>0||a.editMode},function(b){var d="keydown"===b.type&&a.lastFocused?a.lastFocused:b.target,e=c(d).closest(z);return!!e.length&&(!!e.hasClass(I)||e)},function(b){b.selectedNodes=a.getNodes(b.selection),b.treeNodeAdapter=a.nodeAdapter}),this.scrollParent=b.scrollParent(),this.offset=this.element.offset(),this._mouseInit(),this._on(this._eventHandlers),d.allowCopy&&apex.clipboard.addHandler(b[0],function(b){return!a.editMode&&(a._copy(b),!0)}),this._setOption("disabled",d.disabled),this.refresh()},_eventHandlers:{click:function(a){var b,d,e=this,f=this.options,g=c(a.target);if(!f.multiple&&"A"===a.target.nodeName&&(a.shiftKey||a.ctrlKey))return void(this.keyboardActivate=!1);if(g.hasClass(G))b=g.closest(u),a.ctrlKey=!0,a.shiftKey=!1,e._select(b.children(z),a,!0),a.preventDefault();else if(g.hasClass(C))this._toggleNode(g.parent()),this.scrollParent&&p(this.scrollParent),this.lastFocused.focus(),a.preventDefault();else if(b=g.closest(u),b.length>0){if(d=b.children(z),this.editMode&&d.hasClass(I))return;f.clickToRename&&d.find(this.labelSelector).attr(X)===ba&&!a.ctrlKey&&!a.altKey&&1===this.getSelection().length&&g.closest(this.labelSelector).length?this.renameNodeInPlace(d):(this._select(d,a,!0),f.navigation&&(this.keyboardActivate||"activate"!==f.doubleClick)&&this._activate(a)),a.preventDefault()}this.keyboardActivate=!1,o()},dblclick:function(a){var b,d=this.options.doubleClick;d&&!this.editMode&&(b=c(a.target).closest(u),b.length>0&&("toggle"===d?(this._toggleNode(b),a.preventDefault()):"activate"===d&&this._activate(a)))},keydown:function(a){var b,d,e,f,g,h=this,i=this.options,j=this.element,k=a.which;a.altKey||"INPUT"===a.target.nodeName||this.dragging||(k!==fa.PAGE_UP&&k!==fa.PAGE_DOWN||(this.scrollParent?(e=j.find(x).filter(":visible").first().outerHeight()||24,b=j.find("li").filter(":visible").first(),e+=parseInt(b.css("margin-top"),10)+parseInt(b.css("margin-bottom"),10),f=this.scrollParent[0]===document?c(window).height():this.scrollParent[0].clientHeight,g=Math.floor(f/e)-1):g=10),k===fa.HOME?(j.find(z).filter(":visible").first().each(function(){h._select(c(this),a,!0,!0)}),a.preventDefault()):k===fa.END?(j.find(z).filter(":visible").last().each(function(){h._select(c(this),a,!0,!0)}),a.preventDefault()):k===fa.SPACE?(this.lastFocused&&this._select(c(h.lastFocused).closest(z),a,!0,!0),a.preventDefault()):k===fa.DOWN?(this._traverseDown(a,1),a.preventDefault()):k===fa.UP?(this._traverseUp(a,1),a.preventDefault(),a.stopPropagation()):k===fa.PAGE_DOWN?(this._traverseDown(a,g),a.preventDefault()):k===fa.PAGE_UP?(this._traverseUp(a,g),a.preventDefault()):k===this.backwardKey?(this.lastFocused&&(b=c(this.lastFocused).closest(u),b.hasClass(P)?this._collapseNode(b):b.parent().prevAll(z).each(function(){h._select(c(this),a,!0,!0)})),a.preventDefault()):k===this.forwardKey?(this.lastFocused&&(b=c(this.lastFocused).closest(u),b.hasClass(O)?this._expandNode(b):b.hasClass(P)&&b.children("ul").children("li").first().children(z).each(function(){h._select(c(this),a,!0,!0)})),a.preventDefault()):k===fa.ENTER?"A"===a.target.nodeName||a.shiftKey||a.ctrlKey?this.keyboardActivate=!0:(this._activate(a),a.preventDefault()):113===k&&i.keyboardRename?(d=this.lastFocused&&c(this.lastFocused).closest(z+J).length>0?c(this.lastFocused).closest(z):this.getSelection().first(),d.length>0&&this.renameNodeInPlace(d)):45===k&&i.keyboardAdd?(d=this.lastFocused&&c(this.lastFocused).closest(z+J).length>0?c(this.lastFocused).closest(z):this.getSelection().first(),d.length>0&&this.addNodeInPlace(d)):k===fa.DELETE&&i.keyboardDelete&&this.deleteNodes(this.getSelection()))},keypress:function(a){function b(a){function b(){e=m(e),0===e.length&&(e=f.element.find(u).filter(":visible").first())}var d,e,g,h=a.length;for(e=d=c(f.lastFocused).closest(u),1===h&&b();;){if(g=e.children(z).find(f.labelSelector).first(),g.text().substring(0,h).toLowerCase()===a)return g.closest(z);if(b(),e[0]===d[0])break}return null}var d,e,f=this;if(!(0===a.which||a.ctrlKey||a.altKey||"INPUT"===a.target.nodeName||this.dragging)){if(d=String.fromCharCode(a.which).toLowerCase(),this.searchTimerId)d!==this.searchString&&(this.searchString+=d),clearTimeout(this.searchTimerId),this.searchTimerId=null;else{if(" "===d)return;this.searchString=d}this.searchTimerId=setTimeout(function(){f.searchTimerId=null},500),e=b(this.searchString),e&&this._select(e,a,!0,!0)}},focusin:function(a){var b=c(a.target).closest(this.labelSelector);b.length&&(b.addClass(M).closest(u).children(x).addClass(M),this._setFocusable(b))},focusout:function(a){var b=c(a.target).closest(this.labelSelector);b.removeClass(M).closest(u).children(x).removeClass(M)},mousemove:function(a){var b;this.dragging||(b=c(a.target).closest(u),b.length&&this.lastHover!==b[0]&&(c(this.lastHover).children(A).removeClass(N),b.children(A).addClass(N),this.lastHover=b[0]))},mouseleave:function(a){this.dragging||this.lastHover&&(c(this.lastHover).children(A).removeClass(N),this.lastHover=null)}},_setOption:function(a,d){var e,f=this.options;if(this._checkContextMenuOptions(a,d),"disabled"===a)f[a]=d,this.widget().toggleClass(K,!!d),d?(this.element.attr(Z,ba),this.lastFocused&&(this.lastFocused.tabIndex=-1),this.lastFocused=null):(this.element.removeAttr(Z),e=this.getSelection().first().find(this.labelSelector),e.length||(e=this.element.find(this.labelSelector).first()),this._setFocusable(e));else{if("allowCopy"===a)throw new Error("TreeView "+a+" cannot be set");if("dragMultiple"===a&&d&&!f.multiple)throw new Error("TreeView dragMultiple cannot be true when the multiple option is false");if("multiple"===a&&!d&&f.dragMultiple)throw new Error("TreeView multiple cannot be false when the dragMultiple option is true");if("collapsibleRoot"===a)throw new Error("TreeView collapsibleRoot option cannot be set");this._super(a,d)}f=this.options,f.multiple&&!f.nodeSelector&&apex.userHasTouched()&&(f.nodeSelector=!0),this.renderNodeOptions={iconType:f.iconType,labelClass:f.labelClass,useLinks:f.useLinks,nodeSelector:f.nodeSelector?f.multiple?2:1:0},"showRoot"===a||"useLinks"===a?this.refresh():"getNodeAdapter"===a?(this.nodeAdapter=f.getNodeAdapter(),this.refresh()):"multiple"===a?(this.element.attr("aria-multiselectable",d?ba:ca),d===!1&&this.getSelection().length>0&&this._select(c(this.lastFocused).closest(z),null,!1,!1)):"expandRoot"===a&&d===!1?f.collapsibleRoot===!1&&(f.expandRoot=!0,b.warn("ExpandRoot option cannot be false when collapsibleRoot is false")):"tooltip"===a&&this._initTooltips(d)},_initTooltips:function(a){var d,e=this;return c.ui.tooltip?(this.tooltipOptions&&(this.element.tooltip("destroy"),this.tooltipOptions=null),void(a&&(d=this.tooltipOptions=c.extend(!0,{},a),d.items=this.labelSelector,d.content&&c.isFunction(d.content)&&(d._originalContent=d.content,d.content=function(a){var b=e.getNodes(c(this).closest(z))[0];return d._originalContent.call(this,a,b)}),this.element.tooltip(d)))):void b.warn("tooltip option ignored because missing tooltip widget dependency")},_destroy:function(){var a=this.element;a.empty().removeClass(r+" "+T).removeAttr("role").removeAttr("aria-multiselectable"),apex.clipboard.removeHandler(a[0]),this._destroyContextMenu(),this.options.tooltip&&c.ui.tooltip&&a.tooltip("destroy"),this._mouseDestroy()},refresh:function(b){var d,e,f,g=this,j=this.options,k=this.nodeAdapter,l=null,m=this.element,n=a.htmlBuilder();k.getViewId&&(l=this.getSelectedNodes()),b?b.each(function(){var a=c(this).parent(),b=g.treeMap[h(a)];a.find(u).addBack().each(function(){delete g.treeMap[h(c(this))]}),n.clear(),g._renderNode(b,i(a,g.labelSelector),n),a.replaceWith(n.toString())}):(this.treeMap={},this.nextNodeId=0,k.clearViewId&&k.clearViewId(this.baseId),d=k.root(),d?(n.markup(_),j.showRoot?this._renderNode(d,1,n):k.hasChildren(d)&&this._renderChildren(d,1,n),n.markup(aa),m.html(n.toString())):(n.markup(_),n.markup(aa),m.html(n.toString())),j.expandRoot&&j.showRoot&&(e=this._getRoots(),e.length>0&&this._expandNode(e))),this.hasCurrent?(f=this.find({depth:-1,match:function(a){return a.current===!0}}),this.hasCurrent=!1,this.setSelection(f)):l&&l.length>0?this.setSelectedNodes(l,!1,!0):(this.selectAnchor=this.lastFocused,this._setFocusable(m.find(this.labelSelector).first()))},getNodeAdapter:function(){return this.nodeAdapter},focus:function(){this.lastFocused&&this.lastFocused.focus()},getTreeNode:function(a){var b,e=this.nodeAdapter;if(!e.getViewId)throw d();return b=e.getViewId(this.baseId,a),c("#"+this.baseId+b).children(z)},getSelection:function(){return this.element.find(z+J)},getNodes:function(a){var b=this,d=[];return a.each(function(){var a=h(c(this).closest("li"));"new"!==a&&d.push(b.treeMap[a])}),d},getSelectedNodes:function(){return this.getNodes(this.getSelection())},setSelection:function(a,b,c){b=!!b,this.options.multiple||(a=a.first()),this._select(a,null,b,!1,c)},setSelectedNodes:function(a,e,f){var g,h,i,j=[],k=this.nodeAdapter;if(!k.getViewId)throw d();for(e=!!e,this.options.multiple||(a=[a[0]]),g=0;g<a.length;g++)h=k.getViewId(this.baseId,a[g]),i=c("#"+this.baseId+h).children(z)[0],i?j.push(i):b.warn("TreeView: Ignoring bad node in setSelectedNodes");this._select(c(j),null,e,!1,f)},getExpandedNodeIds:function(){var a=this.nodeAdapter;if(!a.getExpandedNodeIds)throw d();return a.getExpandedNodeIds(this.baseId)},getExpandedState:function(){var a=this.nodeAdapter;if(!a.getExpandedState)throw d();return a.getExpandedState(this.baseId)},find:function(a){return c(this._find(a.parentNodeContent$||null,a.match,a.depth||1,a.findAll||!1))},expand:function(a){var b=this;a||(a=this._getRoots().children(z)),a.each(function(){var a=c(this).closest(u);a.hasClass(O)&&b._expandNode(a)})},expandAll:function(a){var b=this;a||(a=this._getRoots().children(z)),a.each(function(){var a=c(this).closest(u);a.hasClass(O)?b._expandNode(a,function(){b.expandAll(a.children("ul").children("li").children(z))}):b.expandAll(a.children("ul").children("li").children(z))})},collapse:function(a){var b=this;a||(a=this._getRoots().children(z)),a.each(function(){var a=c(this).closest(u);a.hasClass(P)&&b._collapseNode(a)})},collapseAll:function(a){var b=this;a||(a=this._getRoots().children(z)),a.each(function(){var a=c(this).closest(u);b.collapseAll(a.children("ul").children("li").children(z)),a.hasClass(P)&&b._collapseNode(a)})},addNodeInPlace:function(b,e,f){function g(a){n.remove(),r._makeLeafIfNeeded(b),r._select(b,null,a),r._endEdit({action:"add",status:"cancel"})}function i(c,d){var h;if(!x){if(0===c.length)return void g(d);x=!0,v.addNode(o,m.children().length-1,c,f,function(c,f){var i,j;return c===!1?(x=!1,h=n.find(V).val(e).get(0),l(h),void h.select()):void(c?(n.remove(),j=a.htmlBuilder(),r._renderNode(c,p,j),f>=m.children("li").length?m.append(j.toString()):m.children("li").eq(f).before(j.toString()),i=m.children("li").eq(f),0===r.getSelection().length&&r._select(i.children(z),null,d),r._endEdit({action:"add",status:"complete"}),r._trigger("added",{},{parentNode:o,parent$:b,index:f,node:c,node$:i.children(z)})):g(d))})}}function k(){var b,d,h,j=a.htmlBuilder(),k=r.baseId+"new";j.markup("<li").attr("id",k).attr("class",s+" "+R).markup("><div").attr("class",w+" "+I).markup("></div><div").attr("class",y+" "+I).markup(">"),v.getIcon&&j.markup("<span").attr("class",u.iconType).markup("></span>"),j.markup("<span role='treeitem'").attr("class",u.labelClass).attr($,p).attr(X,ba).markup("><input class='"+U+"' type='text'></span></div></li>"),r._select(c(),null,!1),m.append(j.toString()),n=m.find("#"+k),d=n.children(z),b=1===r.rtlFactor?d.width()-d.find(r.labelSelector)[0].offsetLeft-16:d.find(r.labelSelector)[0].offsetLeft+d.find(r.labelSelector).width()-16,h=d.find(V),q(h,e,b,i,g),r._beginEdit({action:"add",context:f,input:h[0]})}var m,n,o,p,r=this,t=this.element,u=this.options,v=this.nodeAdapter,x=!1;if(!v.addNode||!v.allowAdd)throw d();if(null===b){if(o=v.root(),!u.showRoot){if(!v.allowAdd(o,"add",f?[f]:void 0))return;return p=1,m=t.find("ul:first"),void k()}b=t.find("ul:first > li")}else o=this.treeMap[h(b.parent())];v.allowAdd(o,"add",f?[f]:void 0)&&(p=j(b,r.labelSelector)+1,r._makeParentIfNeeded(b),this._expandNode(b.parent(),function(){m=b.next("ul"),k()}))},renameNodeInPlace:function(b){function e(a){o.selected=b.hasClass(I),v.clear(),k(v,g,r,p.renderNodeOptions,o),b.html(v.toString()),o.selected&&p._select(b,null,a),p._endEdit({action:"rename",status:"cancel"})}function f(a,c){var d;if(!u)return u=!0,a===j||0===a.length?void e(c):void r.renameNode(g,a,function(a,f){var g,h,i;return a===!1?(u=!1,d=b.find(V).val(j)[0],l(d),void d.select()):void(a?(v.clear(),o.selected=b.hasClass(I),k(v,a,r,p.renderNodeOptions,o),b.html(v.toString()),p.treeMap[t]=a,h=s.parent(),i=h.children("li"),g=i.index(s),g!==f&&(f>g&&(f+=1),f>=i.length?h.append(s):i.eq(f).before(s)),o.selected&&p._select(b,null,c),p._endEdit({action:"rename",status:"complete"}),p._trigger("renamed",{},{prevLabel:j,index:f,node:a,node$:b}),p._trigger(da,0)):e(c))})}var g,i,j,m,n,o,p=this,r=this.nodeAdapter,s=b.parent(),t=h(s),u=!1,v=a.htmlBuilder();if(!r.renameNode||!r.allowRename)throw d();g=this.treeMap[t],r.allowRename(g)&&(n=b.find(this.labelSelector),o={level:parseInt(n.attr($),10),selected:n.attr(X)===ba,disabled:n.attr(Z)===ba,hasChildren:void 0!==n.attr(W),expanded:n.attr(W)===ba},j=r.getLabel(g),m=1===p.rtlFactor?b.width()-n[0].offsetLeft-16:n[0].offsetLeft+n.width()-16,i=c("<input class='"+U+"' type='text'>"),n.empty().append(i),q(i,j,m,f,e),p._beginEdit({action:"rename",node:g,input:i[0]}))},deleteNodes:function(a){function b(a){function b(a){i+=1,a&&(l.push(d.element),m.push({node:d.node,parent$:d.parent$,index:d.index}),n.clearViewId&&n.clearViewId(j.baseId,d.node)),i>=f&&(j.deleteTreeNodes(c(l)),j._trigger("deleted",{},{items:m}))}var d=k[a];n.deleteNode(d.node,b,a<f-1)}var e,f,i,j=this,k=[],l=[],m=[],n=this.nodeAdapter;if(!n.deleteNode||!n.allowDelete)throw d();for(a.each(function(){var a=c(this),b=j.treeMap[h(a.parent())];n.allowDelete(b)&&k.push({node:b,element:a[0],parent$:a.parent().parent().parent().children(z),index:g(a.parent())})}),f=k.length,i=0,e=0;e<f;e++)b(e)},deleteTreeNodes:function(a){var b,c=this,d=a.closest("ul").prev(),e=a.parent(),f=a.children(this.labelSelector).filter(this.lastFocused).length>0,g=a.hasClass(I);(g||f)&&(b=n(e.eq(0)),0===b.length&&(b=this._getRoots().first()),b.length>0?g?this._select(b.children(z),null,f):this._setFocusable(b.children(z).find(this.labelSelector)):f&&(this.lastFocused=null)),e.remove().each(function(){delete c.treeMap[h(e)]}),this._makeLeafIfNeeded(d)},addNode:function(a,b,c){var f,g,i=this.nodeAdapter;if(!i.addNode||!i.allowAdd)throw d();if(a&&a.length)g=this.treeMap[h(a.parent())];else{if(this.options.showRoot)throw e();g=i.root()}i.allowAdd(g,"add",c?[c]:void 0)&&(f=this.element.find("."+M).length>0,this._add({},a,b,c,f))},moveNodes:function(a,b,c){var f,g,i,j=this.getNodes(c),k=!0,l=this.nodeAdapter;if(!l.moveNodes||!l.allowDelete||!l.allowAdd)throw d();if(a&&a.length)i=this.treeMap[h(a.parent())];else{if(this.options.showRoot)throw e();i=l.root()}for(f=0;f<j.length;f++)if(!l.allowDelete(j[f])){k=!1;break}k&&l.allowAdd(i,"move",j)&&(g=this.element.find("."+M).length>0,this._moveOrCopy({},a,b,c,!1,g))},copyNodes:function(a,b,c){var f,g,i=this.getNodes(c),j=this.nodeAdapter;if(!j.copyNodes||!j.allowAdd)throw d();if(a&&a.length)g=this.treeMap[h(a.parent())];else{if(this.options.showRoot)throw e();g=j.root()}j.allowAdd(g,"copy",i)&&(f=this.element.find("."+M).length>0,this._moveOrCopy({},a,b,c,!0,f))},update:function(b){var c,d,e,g,i,j,l=this.treeMap[h(b.parent())],m=this.nodeAdapter,n=a.htmlBuilder();g=b.find(this.labelSelector),c=g[0]===this.lastFocused,(m.getClasses||m.isDisabled)&&(e=b.prevAll(x),f(b[0],[y,K,M,I,N]),f(e[0],[w,K,M,I,N]),m.getClasses&&(d=m.getClasses(l),d&&(b.addClass(d),e.addClass(d))),m.isDisabled&&m.isDisabled(l)&&(b.addClass(K),e.addClass(K),j=!0)),i={level:parseInt(g.attr($),10),selected:g.attr(X)===ba,disabled:j,hasChildren:void 0!==g.attr(W),expanded:g.attr(W)===ba},k(n,l,m,this.renderNodeOptions,i),b.html(n.toString()),c&&this._setFocusable(b.find(this.labelSelector))},_copy:function(a){var b,c,d=this.nodeAdapter,e=this.getSelectedNodes(),f=this.options.dataTransferFormats;if(e.length){for(f.forEach(function(a){a.writer.begin(d,e)}),b=0;b<e.length;b++)c=e[b],f.forEach(function(a){a.writer.node(c,b,d.getLabel(c))});f.forEach(function(b){b.writer.end(),a.setData(b.format,b.writer.toString())})}},_parseTreeMarkup:function(a,b){function d(a){var b=[];return a.children("ul").children("li").each(function(){var a,e,f,g,j,k=c(this),l=k.children("a").first(),m=k.children("span").first();a={},l.length>0?(a.label=l.text(),a.link=l.attr("href")):m.length>0&&(a.label=m.text()),f=k.attr("data-id"),f?a.id=f:h=!1,k.attr("data-current")===ba&&(a.current=!0,i.hasCurrent=!0),g=k.attr("class"),g&&(a.classes=g),k.attr("data-disabled")===ba&&(a.isDisabled=!0),e=k.attr("data-icon"),e&&(a.icon=e),j=k.attr("data-type"),j&&(a.type=j),k.children("ul").length>0&&(a.children=d(k)),b.push(a)}),b}var e,f,g,h=!0,i=this;return f=d(a),g=f.length>=1?1===f.length&&this.options.showRoot?f[0]:{children:f}:null,b||(b={"default":{operations:{canAdd:!1,canDelete:!1,canRename:!1,canDrag:!1}}}),e=c.apex.treeView.makeDefaultNodeAdapter(g,b,h),function(){return e}},_renderNode:function(a,b,c){var d,e,f,g,h,i,j,l,m=!1,n=this.options,o=this.nodeAdapter;e=this.nextNodeId,this.treeMap[e]=a,o.setViewId&&o.setViewId(this.baseId,a,e),this.nextNodeId+=1,f=s+" ",d=o.hasChildren(a),null===d&&(d=!0),d?(i=!1,o.isExpanded&&(i=o.isExpanded(this.baseId,a)),f+=i?P:O):f+=R,h=0===e&&n.showRoot&&!n.collapsibleRoot,h&&(f+=" "+t),1===b&&(f+=" "+v),g=y,o.isDisabled&&o.isDisabled(a)&&(g+=" "+K,m=!0),j=w,c.markup("<li").attr("id",this.baseId+e).attr("class",f).markup(">"),o.getClasses&&(l=o.getClasses(a),l&&(g+=" "+l,j+=" "+l)),c.markup("<div").attr("class",j).markup("></div>"),d&&!h&&c.markup("<span class='"+C+"'></span>"),c.markup("<div").attr("class",g).markup(">"),k(c,a,o,this.renderNodeOptions,{level:b,selected:!1,disabled:m,hasChildren:d,expanded:i}),c.markup("</div>"),i&&(c.markup(_),this._renderChildren(a,b+1,c),c.markup(aa)),c.markup("</li>")},_renderChildren:function(b,c,d,e,f){function g(){var a;for(a=0;a<h;a++)i._renderNode(j.child(b,a),c,d);e&&e(!0)}var h,i=this,j=this.nodeAdapter;h=j.childCount(b),null===h?e&&(a.delayLinger.start(f[0].id,function(){f.addClass(Q)}),j.fetchChildNodes(b,function(c){if(a.delayLinger.finish(f[0].id,function(){f.removeClass(Q),0===c&&e(c)}),c){if(h=j.childCount(b),h>0)return void g();c=0}c===!1&&e(c)})):h>0?g():e&&e(0)},_getRoots:function(){return this.element.children("ul").children("li")},_find:function(a,b,d,e){var f,g,i,j=this,k=[];return a?(i=a.parent(),this._addChildrenIfNeeded(i),g=i.children("ul").children("li")):g=this._getRoots(),g.each(function(){if(f=j.treeMap[h(c(this))],b(f)&&(k.push(c(this).children(z)[0]),!e))return!1}),(e||0===k.length)&&(d>1||d===-1)&&g.each(function(){if(k=k.concat(j._find(c(this).children(z),b,d===-1?d:d-1,e)),k.length>0&&!e)return!1}),k},_makeParentIfNeeded:function(a){a&&0===a.prev(D).length&&(a.parent().removeClass(R).addClass(O),a.before("<span class='"+C+"'></span>"),a.after(_+aa),a.parent().children("ul").hide())},_makeLeafIfNeeded:function(a){var b=this,d=this.nodeAdapter;a.each(function(){var a,e,f=c(this);0===f.next("ul").find("li").length&&(e=f.parent(),e.hasClass(P)&&d.setExpanded&&(a=b.treeMap[h(e)],d.setExpanded(b.baseId,a,!1)),f.parent().removeClass(O+" "+P).addClass(R),f.find(b.labelSelector).removeAttr(W),f.prev(D).remove(),f.next("ul").remove())})},_addChildrenIfNeeded:function(b){var c,d,e=this.treeMap[h(b)];c=b.children("ul"),c.length>0||b.hasClass(R)||(d=a.htmlBuilder(),d.markup(_),this._renderChildren(e,i(b,this.labelSelector)+1,d),d.markup(aa),b.append(d.toString()).children("ul").hide())},_toggleNode:function(a){a.hasClass(O)?this._expandNode(a):this._collapseNode(a)},_persistExpansionState:function(a,b,c){var d=this.nodeAdapter;d.setExpanded&&d.setExpanded(this.baseId,a,c),this._trigger(ea,{},{node:a,nodeContent$:b.children(z),expanded:c})},_expandNode:function(b,d){var e,f,g=this,j=this.nodeAdapter,k=this.treeMap[h(b)];this.options.autoCollapse&&b.parent().children("."+P).each(function(){g._collapseNode(c(this))}),b.removeClass(O),e=b.children("ul"),e.length>0&&null!==j.childCount(k)?(e.show(),b.addClass(P).children(z).find(this.labelSelector).attr(W,ba),this._persistExpansionState(k,b,!0),d&&d()):(e.remove(),f=a.htmlBuilder(),f.markup(_),this._renderChildren(k,i(b,this.labelSelector)+1,f,function(a){a?(b.addClass(P).children(z).find(g.labelSelector).attr(W,ba),f.markup(aa),b.append(f.toString()),g._persistExpansionState(k,b,!0)):0===a?(b.children(D).remove(),b.addClass(R).children(z).find(g.labelSelector).removeAttr(W)):(b.addClass(O).children(z).find(g.labelSelector).attr(W,ca),g._persistExpansionState(k,b,!1)),d&&d()},b))},_collapseNode:function(a){var b=this.options;b.showRoot&&!b.collapsibleRoot&&a.parent().parent().hasClass(r)||(a.removeClass(P).addClass(O).children(z).find(this.labelSelector).attr(W,ca),a.find(J).length>0&&this._select(a.children(z),null,!0),a.children("ul").hide(),this._persistExpansionState(this.treeMap[h(a)],a,!1))},_traverseDown:function(a,b){var d,e,f;if(this.lastFocused){for(d=c(this.lastFocused).closest(u),f=0;f<b&&(e=m(d),0!==e.length);f++)d=e;d.length>0&&this._select(d.children(z),a,!0,!0)}},_traverseUp:function(a,b){var d,e,f;if(this.lastFocused){for(d=c(this.lastFocused).closest(u),f=0;f<b&&(e=n(d),0!==e.length);f++)d=e;d.length>0&&this._select(d.children(z),a,!0,!0)}},_activate:function(a){var b,c=this.options,d=this.nodeAdapter,e=this.getSelectedNodes();0!==e.length&&(this._trigger("activateNode",a,{nodes:e}),c.navigation&&d.getLink&&!a.isDefaultPrevented()&&(b=d.getLink(e[0]),b&&apex.navigation.redirect(b)))},_select:function(b,d,e,f,g){var h,i,j,k,n,o,p,q,r=b,s="set",t=this,v=this.element,w=v.find(z+J);if(d&&this.options.multiple&&("click"===d.type?d.ctrlKey||d.metaKey?s="toggle":d.shiftKey&&(s="range"):"keydown"===d.type&&(d.keyCode===c.ui.keyCode.SPACE?s=d.ctrlKey?"toggle":d.shiftKey?"range":"add":d.ctrlKey?s="none":d.shiftKey&&(s="range"))),"range"!==s||this.selectAnchor||(s="set"),"set"!==s&&"range"!==s||(w.prevAll(x).addBack().find(H).addBack().removeClass(I),w.find(this.labelSelector).attr(X,ca)),i=b.eq(0).find(this.labelSelector),b=b.not(L),k=b.hasClass(I),"set"===s||"add"===s||"toggle"===s&&!k)b.prevAll(x).addBack().find(H).addBack().addClass(I),b.find(this.labelSelector).attr(X,ba),b.parent().parents(u).each(function(){h=c(this),h.hasClass(O)&&t._expandNode(h)}),this.selectAnchor=b[0];else if("range"===s){for(j=c("#"+this.selectAnchor.parentNode.id+", #"+r[0].parentNode.id),h=j.first();;)if(h.children(z).hasClass(K)||(h.children(z).prevAll(x).addBack().find(H).addBack().addClass(I),h.children(z).find(this.labelSelector).attr(X,ba)),h=m(h),0===h.length||1===j.length||h[0]===j[1])break;h.length>0&&2===j.length&&!h.children(z).hasClass(K)&&(h.children(z).prevAll(x).addBack().find(H).addBack().addClass(I),h.children(z).find(this.labelSelector).attr(X,ba))}else"toggle"===s&&k&&(b.prevAll(x).addBack().find(H).addBack().removeClass(I),b.find(this.labelSelector).attr(X,ca),this.selectAnchor=b[0]);i.length&&(e?l(i[0]):this._setFocusable(i),this.scrollParent&&(n=this.scrollParent[0],q=i.parent().offset(),q&&(p=v.offset(),n===document?(o={top:c(document).scrollTop(),left:c(document).scrollLeft()},(q.top<o.top||q.top>o.top+c(window).height())&&c(document).scrollTop(q.top-p.top),(q.left+i.parent()[0].offsetWidth<o.left||q.left>o.left+c(window).width())&&c(document).scrollLeft(q.left-p.left)):(o=this.scrollParent.offset(),p=v.offset(),(q.top<o.top||q.top>o.top+n.offsetHeight)&&(n.scrollTop=q.top-p.top),(q.left+i.parent()[0].offsetWidth<o.left||q.left>o.left+n.offsetWidth)&&(n.scrollLeft=q.left-p.left))))),g||("toggle"===s||"range"===s&&!k||"add"===s&&!k||"set"===s&&!a.arrayEqual(w,b))&&(f?ia(t,d):ha(t,d))},_setFocusable:function(a){var b=a[0];b&&(this.lastFocused&&this.lastFocused!==b&&(this.lastFocused.tabIndex=-1),b.tabIndex=0,this.lastFocused=b)},_beginEdit:function(a){this.editMode=!0,apex.tooltipManager&&apex.tooltipManager.disableTooltips(),this._trigger("beginEdit",{},a)},_endEdit:function(a){this.editMode=!1,apex.tooltipManager&&apex.tooltipManager.enableTooltips(),this._trigger("endEdit",{},a)},_mouseCapture:function(a,b){var d,e,f,g=!0,h=this.options;if(a.preventDefault(),this.animating||h.disabled||!h.dragAndDrop||c(a.target).hasClass(C))return!1;if(e=c(a.target).closest(u).children(z),0===e.length)return!1;if(h.dragMultiple&&(e.hasClass(I)?e=this.getSelection():a.ctrlKey&&(e=e.add(this.getSelection()))),b!==!0){for(f=this.getNodes(e),d=0;d<f.length;d++)if(!this.nodeAdapter.allowDrag||!this.nodeAdapter.allowDrag(f[d])){g=!1;break}if(!g)return!1}return this.dragItems=e,!0},_mouseStart:function(a,b,d){var e,f,g=null,h=this.options,i=this;return d||(c("body").on("keydown.treeview",function(a){return a.keyCode===c.ui.keyCode.ESCAPE?void i._cancel(a):void i._dragCopyOrMove(a,!0)}),c("body").on("keyup.treeview",function(a){i._dragCopyOrMove(a,!0)}),this._select(this.dragItems,null,!0,!1)),this.helper||(this.helper=this._createHelper(b)),this.margins={left:parseInt(this.dragItems.css("marginLeft"),10)||0,top:parseInt(this.dragItems.css("marginTop"),10)||0},this.offset=this.dragItems.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},c.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset()}),this.helper.css("position","absolute"),this._cacheHelperProportions(),c.ui.ddmanager&&!d&&(this.currentItem=this.dragItems.first(),c.ui.ddmanager.current=this,c.ui.ddmanager.prepareOffsets(this,a)),this.originalPosition=this._generatePosition(b),h.dragCursorAt&&this._adjustOffsetFromHelper(h.dragCursorAt),this.dragItems&&this.dragItems.length>0&&!this.isOver&&(g=this.getNodes(this.dragItems),g[0]||(g=null)),this.nodeAdapter.dragOperations?this.dragOperations=this.nodeAdapter.dragOperations(g):this.dragOperations=g?{normal:"move",ctrl:"copy"}:{normal:"add"},this.dragOperation=this.dragOperations.normal,this.dragging=!0,this.lastHover&&(c(this.lastHover).children(A).removeClass(N),this.lastHover=null),h.dragReorder&&(f=this.dragItems.first().outerHeight(),"move"===this.dragOperation&&this.dragItems.parent().hide(),this._createPlaceholder(f),this.initialPlaceholderPos=null),this._initPositions(),this._refreshPositions(),h.dragContainment&&this._setContainment(),d||h.dragCursor&&"auto"!==h.dragCursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),
e.css("cursor",h.dragCursor),this.storedStylesheet=c("<style>*{ cursor: "+h.dragCursor+" !important; }</style>").appendTo(e)),h.dragOpacity&&this.helper.css("opacity",h.dragOpacity),h.dragZIndex&&this.helper.css("zIndex",h.dragZIndex),this.helper.addClass(E),this.scrollParent&&this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset(),this.originalScroll={top:this.scrollParent[0].scrollTop,left:this.scrollParent[0].scrollLeft}),apex.tooltipManager&&apex.tooltipManager.disableTooltips(),this._trigger("start",b,this._uiHashDnD()),this._mouseDrag(b),c.ui.ddmanager&&!d&&c.ui.ddmanager.dragStart(this,b),!0},_mouseDrag:function(a){var b={pageX:a.pageX,pageY:a.pageY};return this.position=this._generatePosition(a),this.positionAbs=this._adjustPositionForScroll(),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.dragEventTarget=a.target,this.options.dragScroll&&(this._scrollCheck(b)?this.scrollTimerId||this._scrollStart(b):this.scrollTimerId&&this._scrollStop()),this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",this._dragCopyOrMove(a),this._dragHitCheck(),c.ui.ddmanager&&!this.isOver&&c.ui.ddmanager.drag(this,a),this._trigger("drag",a,this._uiHashDnD()),this.lastPositionAbs=this.positionAbs,!1},_dragHitCheck:function(){function a(){var a=l.positionAbs.top-l.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")}function b(){l.delayExpandTimer&&(clearTimeout(l.delayExpandTimer),l.delayExpandTimer=null)}var d,e,f,g,h,i,j,k,l=this,m=0,n=null,o=this.dropTargetNode?this.dropTargetNode[0].id:null,p=this.options;if(this.scrollParent[0]!==document&&(m=this.scrollParent[0].scrollTop-this.dropPositionsOrigin),f=this.positionAbs.left+this.offset.click.left,f>this.containerCache.left&&f<this.containerCache.left+this.containerCache.width)if(this.placeholder&&c(this.dragEventTarget).closest("."+F).length)null===this.initialPlaceholderPos&&(this.initialPlaceholderPos=f),k=(f-this.initialPlaceholderPos)*this.rtlFactor,k>(this.options.dragScrollSensitivity||10)?(this.initialPlaceholderPos=f,this._movePlaceholder({element:this.placeholder.children(z)},"below")):k<(-this.options.dragScrollSensitivity||-10)&&(this.initialPlaceholderPos=f,this._movePlaceholder({element:this.placeholder.children(z)},"above"));else for(this.initialPlaceholderPos=null,g=this.positionAbs.top+this.offset.click.top+m,d=0;d<this.dropPositions.length;d++)if(e=this.dropPositions[d],g>=e.top&&g<=e.bottom){n=e.nodeId,i=g>e.top+(e.bottom-e.top)/2?"bottom":"top";break}o===n&&i===this.lastLocation||(b(),this.element.find("."+Y).removeClass(Y),n?(h=c("#"+n),p.dragExpandDelay>=0&&h.hasClass(O)&&(this.delayExpandTimer=setTimeout(function(){l.delayExpandTimer=null,l._expandNode(h,function(){l._initPositions(h),l._refreshPositions()})},p.dragExpandDelay)),e.canAdd?(this.dropTargetNode=h,this.placeholder?(j=a(),"top"===i&&"up"===j?this._movePlaceholder(e,"before"):"bottom"===i&&"down"===j&&this._movePlaceholder(e,"after")):this.dropTargetNode.children(z+","+x).addClass(Y)):e.canAddChild&&this.placeholder&&(this.initialPlaceholderPos=f,this._movePlaceholder(e,"after"),this._movePlaceholder({element:this.placeholder.children(z)},"below"))):this.dropTargetNode=null),this.lastLocation=i},_mouseStop:function(a,b){var d,e,f=this;return this.delayExpandTimer&&(clearTimeout(this.delayExpandTimer),this.delayExpandTimer=null),this._scrollStop(),c.ui.ddmanager&&!b&&c.ui.ddmanager.dragStop(this,a),b||c("body").off(".treeview"),this._deactivate(),this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),c.ui.ddmanager&&!b&&(d=c.ui.ddmanager.drop(this,a))?(this.placeholder&&(this.dragItems.parent().show(),this._removePlaceholder()),this.dragging=!1,this.dragItems=null,this.currentItem=null,this.helper.remove(),this.helper=null,void this._stop(a)):a.target?void(this.options.dragAnimate?(e=this._getAnimation(),this.animating=!0,this.helper.animate(e,parseInt(this.options.dragAnimate,10)||500,function(){f._finishDrag(a)})):this._finishDrag(a)):(this.fromOutside=!1,void(this.dragging=!1))},_scrollCheck:function(a,b){var d,e,f,g=0,h=0,i=this.options,j=this.scrollParent[0];return j&&j!==document&&"HTML"!==j.tagName?(this.overflowOffset.top+j.offsetHeight-a.pageY<i.dragScrollSensitivity?g=i.dragScrollSpeed:a.pageY-this.overflowOffset.top<i.dragScrollSensitivity&&(g=-i.dragScrollSpeed),b&&g&&(d=j.scrollTop+g,d<0?(j.scrollTop=0,g=0):d>j.scrollHeight-j.clientHeight?(j.scrollTop=j.scrollHeight-j.clientHeight,g=0):j.scrollTop=d),this.overflowOffset.left+j.offsetWidth-a.pageX<i.dragScrollSensitivity?h=i.dragScrollSpeed:a.pageX-this.overflowOffset.left<i.dragScrollSensitivity&&(h=-i.dragScrollSpeed),b&&h&&(e=j.scrollLeft+h,e<0?(j.scrollLeft=0,h=0):e>j.scrollWidth-j.clientWidth?(j.scrollLeft=j.scrollWidth-j.clientWidth,h=0):j.scrollLeft=e),f=!(!h&&!g)):(d=c(document).scrollTop(),e=c(document).scrollLeft(),a.pageY-d<i.dragScrollSensitivity?g=-i.dragScrollSpeed:c(window).height()-(a.pageY-d)<i.dragScrollSensitivity&&(g=i.dragScrollSpeed),b&&g&&(d+=g,d<0?(c(document).scrollTop(0),g=0):d>c(document).height()-c(window).height()?(c(document).scrollTop(c(document).height()-c(window).height()),g=0):(a.pageY+=g,c(document).scrollTop(d))),a.pageX-e<i.dragScrollSensitivity?h=-i.dragScrollSpeed:c(window).width()-(a.pageX-e)<i.dragScrollSensitivity&&(h=i.dragScrollSpeed),b&&h&&(e+=h,e<0?(c(document).scrollLeft(0),h=0):e+this.helper.width()>c(document).width()-c(window).width()?(c(document).scrollLeft(c(document).width()-c(window).width()-this.helper.width()),h=0):(a.pageX+=h,c(document).scrollLeft(e))),f=!(!h&&!g),f&&b&&(this.position=this._generatePosition(a),this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",c.ui.ddmanager&&c.ui.ddmanager.prepareOffsets(this,a))),f},_scrollStart:function(a){function b(){c.scrollTimerId=setTimeout(function(){c._scrollCheck(a,!0)?(c._dragHitCheck(),b()):c._scrollStop()},e[d]),d<e.length-1&&(d+=1)}var c=this,d=0,e=[150,125,100,99,96,91,84,75,64,51,36];this.scrollTimerId&&this._scrollStop(),b()},_scrollStop:function(){clearTimeout(this.scrollTimerId),this.scrollTimerId=null},_getAnimation:function(){var a,b,c={};return this.placeholder||this.dropTargetNode?(this.placeholder?(b=this.placeholder,a=b.offset()):(b=this.dropTargetNode,a=b.offset()),c.left=a.left-this.offset.parent.left-this.margins.left,c.top=a.top-this.offset.parent.top-this.margins.top):(b=this.dragItems.eq(0),a=this.originalPosition,c.left=a.left-this.margins.left,c.top=a.top-this.margins.top,this.scrollParent[0]!==document&&(c.left+=this.originalScroll.left-this.scrollParent[0].scrollLeft,c.top+=this.originalScroll.top-this.scrollParent[0].scrollTop)),this.rtlFactor===-1&&(c.left+=b.width()-this.helper.width()),c},_initPositions:function(a){var b,d,e,f,g,i=this,j=[],k=this.options.dragReorder,l=this.nodeAdapter;if(this.dragItems&&this.dragItems.length>0?(g=this.getNodes(this.dragItems),g[0]||(g=[])):g=[],a&&this.dropPositions)for(d=[],f=a[0].id,e=0;e<this.dropPositions.length&&f!==this.dropPositions[e].nodeId;e++);else d=this.dropPositions=[],a=this.element;if(a.find(u).each(function(){var a,b,e,f=!1,m=c(this);if(m.is(":visible")&&!m.is("."+F)){if(k?(b=m.parent().closest(u),a=b.length?i.treeMap[h(b)]:i.options.showRoot?null:l.root()):a=i.treeMap[h(m)],!k&&"move"===i.dragOperation&&(g.indexOf(a)>=0||j.indexOf(m.parent().closest(u)[0])>=0))return void j.push(this);e=a&&l.allowAdd(a,i.dragOperation,g),k&&(f=l.allowAdd(i.treeMap[h(m)],i.dragOperation,g)),(e||f||m.hasClass(O))&&d.push({canAdd:e,canAddChild:f,element:c(this).children(x),nodeId:this.id,top:0,bottom:0})}}),void 0!==e&&d.length)for(b=0;b<d.length;b++)this.dropPositions.splice(e+b,0,d[b])},_refreshPositions:function(){var a,b,c,d,e;for(a=0;a<this.dropPositions.length;a++)b=this.dropPositions[a],d=b.element.outerHeight(),c=b.element.offset(),b.top=c.top,b.bottom=c.top+d;this.dropPositionsOrigin=0,e=this.scrollParent,e&&e[0]!==document?this.dropPositionsOrigin=e[0].scrollTop:e=this.element,c=e.offset(),this.containerCache.left=c.left,this.containerCache.top=c.top,this.containerCache.width=e.outerWidth(),this.containerCache.height=e.outerHeight()},_makeTempDragItem:function(){var b,d,e,f=a.htmlBuilder();for(f.markup("<li").attr("class",s).markup("><div").attr("class",w).markup("></div><div").attr("class",y).markup(">unseen content</div></li>"),d=c(f.toString()),b=0;b<this.dropPositions.length;b++)if(this.dropPositions[b].canAdd){e=c(this.dropPositions[b].nodeId).parent();break}e||(e=this.element.children("ul")),e.append(d),this.dragItems=d.children(z)},_createPlaceholder:function(a){this.placeholder=c("<li class='"+s+" "+F+"'><div class='"+w+"'></div><div class='"+y+"'>&nbsp;</div></li>"),this.dragItems.first().parent().before(this.placeholder),a&&this.placeholder.height(a)},_movePlaceholder:function(a,b){var d,e,f,g,i,j=this,k=this.placeholder.parent(),l=this.nodeAdapter,m=a.element.parent(),n=m[0];if("after"===b&&m.hasClass(P)&&l.allowAdd(j.treeMap[h(m)],j.dragOperation)&&(n=m.children("ul").children()[0],b="before"),"above"===b){if(m.next(":visible").length)return;if(n=m.parent().parent()[0],m=c(n),e=m.parent().closest(u),i=e.length?j.treeMap[h(e)]:j.options.showRoot?null:l.root(),m.hasClass(r)||null===i)return;if(f=l.allowAdd(i,j.dragOperation),!f)return;b="after"}if("below"===b){if(d=m.prevAll(":visible").first(),g=!1,d.hasClass(P)&&(d=d.children("ul").children().last(),g=!0),0===d.length)return;if(f=l.allowAdd(j.treeMap[h(d)],j.dragOperation),!g&&d.hasClass(R)&&f&&this._makeParentIfNeeded(d.children(z)),d.hasClass(O))return void this._expandNode(d,function(){j._initPositions(d),j._refreshPositions(),f&&d.children("ul")[0].appendChild(j.placeholder[0])});f&&d[0].parentNode.appendChild(this.placeholder[0])}else"after"!==b||n.nextSibling?n.parentNode.insertBefore(this.placeholder[0],"before"===b?n:n.nextSibling):n.parentNode.appendChild(this.placeholder[0]);0===k.children().length&&this._makeLeafIfNeeded(k.parent().find(z)),this._refreshPositions()},_removePlaceholder:function(){var a=this.placeholder.parent();this.placeholder.remove(),this.placeholder=null,0===a.children().length&&this._makeLeafIfNeeded(a.parent().find(z))},_createHelper:function(a){var b,d=this.options;return c.isFunction(d.dragHelper)?b=c(d.dragHelper.apply(this.element[0],[a,this.dragItems])):1===this.dragItems.length?b=this.dragItems.clone().removeAttr("id").removeClass(I):(b=c("<div></div>"),b.html(this.dragItems.clone().removeClass(I))),b.parents("body").length||b.appendTo("parent"===d.dragAppendTo?this.element[0].parentNode:d.dragAppendTo),/(fixed|absolute)/.test(b.css("position"))||b.css("position","absolute"),b},_adjustOffsetFromHelper:function(a){"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){var a;return this.offsetParent=this.helper.offsetParent(),a=this.offsetParent[0]===document||this.offsetParent[0]===document.firstElementChild?{left:0,top:0}:this.offsetParent.offset(),this.scrollParent&&this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&c.ui.ie)&&(a={top:0,left:0}),{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_generatePosition:function(a){var b=a.pageX,d=a.pageY,e=this.scrollParent&&this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return this.dragging||this.containment&&(a.pageX-this.offset.click.left<this.containment[0]&&(b=this.containment[0]+this.offset.click.left),a.pageY-this.offset.click.top<this.containment[1]&&(d=this.containment[1]+this.offset.click.top),a.pageX-this.offset.click.left>this.containment[2]&&(b=this.containment[2]+this.offset.click.left),a.pageY-this.offset.click.top>this.containment[3]&&(d=this.containment[3]+this.offset.click.top)),{top:d-this.offset.click.top-this.offset.parent.top+(f?0:e.scrollTop()),left:b-this.offset.click.left-this.offset.parent.left+(f?0:e.scrollLeft())}},_adjustPositionForScroll:function(){var a=this.position,b=this.scrollParent&&this.scrollParent[0]!==document&&c.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(b[0].tagName);return{top:a.top+this.offset.parent.top-(d?0:b.scrollTop()),left:a.left+this.offset.parent.left-(d?0:b.scrollLeft())}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a,b,d,e=this.options;"parent"===e.dragContainment&&(e.dragContainment=this.helper[0].parentNode),"document"!==e.dragContainment&&"window"!==e.dragContainment||(this.containment=[0-this.offset.parent.left,0-this.offset.parent.top,c("document"===e.dragContainment?document:window).width()-this.helperProportions.width-this.margins.left,(c("document"===e.dragContainment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.dragContainment)||(a=c(e.dragContainment)[0],b=c(e.dragContainment).offset(),d="hidden"!==c(a).css("overflow"),this.containment=[b.left+(parseInt(c(a).css("borderLeftWidth"),10)||0)+(parseInt(c(a).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(c(a).css("borderTopWidth"),10)||0)+(parseInt(c(a).css("paddingTop"),10)||0)-this.margins.top,b.left+(d?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(c(a).css("borderLeftWidth"),10)||0)-(parseInt(c(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(d?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(c(a).css("borderTopWidth"),10)||0)-(parseInt(c(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_intersectsWith:function(a){var b=this.positionAbs.left,c=this.positionAbs.top,d=a.left,e=d+a.width,f=a.top,g=f+a.height,h=this.offset.click.top,i=this.offset.click.left,j=c+h>f&&c+h<g,k=b+i>d&&b+i<e;return j&&k},_dragCopyOrMove:function(a,b){var c,d;a.ctrlKey?c="ctrl":a.altKey?c="alt":a.shiftKey?c="shift":a.metaKey&&(c="meta"),d=this.dragOperations[c]||this.dragOperations.normal,this.dragOperation!==d&&(this.dragOperation=d,this.placeholder&&this.dragItems.parent().toggle("move"!==d),this._initPositions(),this._refreshPositions(),b&&this._trigger("drag",a,this._uiHashDnD()))},_cancel:function(a,b){function d(){f.animating=!1,f.helper&&f.helper[0].parentNode&&f.helper.remove(),f.helper=null,f.dragging=!1,f.dragItems=null,f.currentItem=null,f._stop(a)}var e,f=this;this.dragging&&(this.positionAbs.top=-99999,this._mouseUp(c.Event("mouseup",{target:null})),this.placeholder&&this.dragItems.parent().show()),this.dropTargetNode=null,this.placeholder&&this._removePlaceholder(),this.options.dragAnimate&&!b?(e=this._getAnimation(),this.animating=!0,this.helper.animate(e,parseInt(this.options.dragAnimate,10)||500,function(){d()})):d()},_deactivate:function(){this.element.find("."+Y).removeClass(Y)},_finishDrag:function(a){var c,d,e,f,i,j=!0,k=this.nodeAdapter;if(this.animating=!1,this.placeholder?(d=this.placeholder.parent().closest(u),this.dragItems.parent().show(),e=g(this.placeholder),"move"===this.dragOperation&&this.dragItems.parent().hide()):(d=this.dropTargetNode,e=0),this.fromOutside){if(this.dragItems.parent().remove(),"add"===this.dragOperation&&k.addNode)try{this.placeholder&&this._removePlaceholder(),this._add(a,d.children(z),e,null,!0)}catch(l){b.error("Error in drop add action.",l)}}else if(("copy"===this.dragOperation||"move"===this.dragOperation)&&k.allowAdd&&k["copy"===this.dragOperation?"copyNodes":"moveNodes"]&&("copy"===this.dragOperation||k.allowDelete))try{if(f=d.length||this.options.showRoot?this.treeMap[h(d)]:k.root(),k.allowAdd(f,this.dragOperation,this.dragItems)&&"move"===this.dragOperation)for(i=this.getNodes(this.dragItems),c=0;c<i.length;c++)if(!k.allowDelete(i[c])){j=!1;break}if(j&&"move"===this.dragOperation)if(this.placeholder){if(this.dragItems.last().closest(u).next()[0]===this.placeholder[0]){for(j=!1,c=0;c<this.dragItems.length-1;c++)if(this.dragItems.eq(c).closest(u).next()[0]!==this.dragItems.eq(c+1).closest(u)[0]){j=!0;break}}else if(this.dragItems.first().closest(u).prev()[0]===this.placeholder[0])for(j=!1,c=1;c<this.dragItems.length;c++)if(this.dragItems.eq(c).closest(u).prev()[0]!==this.dragItems.eq(c-1).closest(u)[0]){j=!0;break}}else for(j=!1,c=0;c<this.dragItems.length;c++)if(this.dragItems.eq(c).closest(u).parent().closest(u)[0]!==d[0]){j=!0;break}j?(this.placeholder&&this._removePlaceholder(),this._moveOrCopy(a,d.children(z),e,this.dragItems,"copy"===this.dragOperation,!0)):this.dragItems.parent().show()}catch(l){this.dragItems.parent().show(),b.error("Error in drop "+this.dragOperation+" action.",l)}this.dragging=!1,this._trigger("beforeStop",a,this._uiHashDnD()),this.dragItems=null,this.currentItem=null,this.placeholder&&this._removePlaceholder(),this.helper.remove(),this.helper=null,this.fromOutside&&this._trigger("deactivate",a,this._uiHashDnD(this)),this._stop(a),this.fromOutside=!1},_stop:function(a){apex.tooltipManager&&apex.tooltipManager.enableTooltips(),this._trigger("stop",a,this._uiHashDnD())},_add:function(b,d,e,f,g){var i,k,l=this,m=this.nodeAdapter;d&&d.length?(i=this.treeMap[h(d.parent())],k=j(d,this.labelSelector)+1):(d=null,i=m.root(),k=1),m.addNode(i,e,null,f,function(f,h){function j(){l._select(q.node$,b,g),l._trigger("added",b,q)}var m,n,o,p=a.htmlBuilder(),q={parentNode:i,parent$:d,node:f,index:h};if(!(f===!1||null===f||h<0)){if(d){if(l._makeParentIfNeeded(d),n=d.parent().children("ul"),0===n.length)return void l._expandNode(d.parent(),function(){n=d.parent().children("ul"),q.node$=n.children().eq(e).children(z),j()})}else n=l.element.children("ul");l._renderNode(f,k,p),m=c(p.toString()),q.node$=m.children(z),o=n.children(),h>=o.length?n.append(m):o.eq(h).before(m),j()}})},_moveOrCopy:function(b,d,e,f,g,i){var k,l,m=this,n=this.getNodes(f),o=g?"copyNodes":"moveNodes",p=this.nodeAdapter;d&&d.length?(k=this.treeMap[h(d.parent())],l=j(d,this.labelSelector)+1):(d=null,k=p.root(),l=1),p[o](k,e,n,function(e){function h(){for(j=0;j<x.length;j++)s=x[j],o=p.child(k,s.toIndex),s.toNode=o,w.clear(),m._renderNode(o,l,w),q=c(w.toString()),s.toNode$=q.children(z),v=t.children(":visible"),s.toIndex>=v.length?t.append(q):v.eq(s.toIndex).before(q),y.push(s.toNode$[0]),g||(r=s.fromNode$.parent().parent().closest(u).children(z),s.fromParent$=r,s.fromIndex=s.fromNode$.parent().parent().children().index(s.fromNode$.parent()),s.fromNode$.parent().remove(),m._makeLeafIfNeeded(r));m._select(c(y),b,i),m._trigger(g?"copied":"moved",b,A)}var j,n,o,q,r,s,t,v,w=a.htmlBuilder(),x=[],y=[],A={parentNode:k,parent$:d,items:x};if(e){for(j=0;j<e.length;j++)n=e[j],n>=0&&x.push({fromNode$:f.eq(j),toIndex:n});if(x.sort(function(a,b){return a.toIndex-b.toIndex}),d)return m._makeParentIfNeeded(d),t=d.parent().children("ul"),void m._expandNode(d.parent(),function(){h()});t=m.element.children("ul"),h()}})},_uiHashDnD:function(a){var b=a||this;return{helper:b.helper,placeholder:b.dropTargetNode||b.placeholder||c([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,items:b.dragItems,operation:b.dragOperation,sender:a?a.element:null}}},apex.widget.contextMenuMixin));var la={root:function(){return this.data},getLabel:function(a){return a.label},getIcon:function(a){var b=this.getType(a),c=null;return a.icon||null===a.icon?c=a.icon:b.icon||null===b.icon?c=b.icon:void 0!==this.types["default"].icon&&(c=this.types["default"].icon),c},getClasses:function(a){var b=this.getType(a),c=null;return b.classes?c=b.classes:this.types["default"].classes&&(c=this.types["default"].classes),a.classes&&(c?c+=" "+a.classes:c=a.classes),c},getLink:function(a){return a.link},isDisabled:function(a){var b=this.getType(a),c=!1;return void 0!==a.isDisabled?c=a.isDisabled:void 0!==b.isDisabled?c=b.isDisabled:void 0!==this.types["default"].isDisabled&&(c=this.types["default"].isDisabled),c},child:function(a,b){if(a.children)return a.children[b]},childCount:function(a){return a.children?a.children.length:0},hasChildren:function(a){return!!a.children&&a.children.length>0},allowAdd:function(a,b,c){var d,e,f=this.getType(a),g=!!a.children&&this.check("canAdd",a,b,c);if(g&&c&&(void 0!==f.validChildren?e=f.validChildren:void 0!==this.types["default"].validChildren&&(e=this.types["default"].validChildren),e!==!0))for(d=0;d<c.length;d++)if(e.indexOf(c[d].type)<0){g=!1;break}return g},allowRename:function(a){return this.check("canRename",a)},allowDelete:function(a){return a!==this.data&&this.check("canDelete",a)},allowDrag:function(a){return this.check("canDrag",a)},dragOperations:function(a){var b,c,d;if(a){if(a.length>0){for(d=a[0].type||"default",b=1;b<a.length;b++)if(a[b].type!==d){d="default";break}}else d="default";c=this.types[d].operations&&void 0!==this.types[d].operations.drag?this.types[d].operations.drag:this.types["default"].operations.drag}else c=this.types["default"].operations.externalDrag;return c},addNode:function(a,b,d,e,f){var g,h=c.extend(!0,{},e||this.newNode(a));d&&(h.label=d),this.sortCompare?a.children.push(h):a.children.splice(b,0,h),h._parent=a,void 0!==this._nextId&&(void 0===h.id?h.id=this.nextId():this._nextId+=1),this.sortCompare&&a.children.sort(this.sortCompare),g=a.children.indexOf(h),this.validateAdd(h,g,function(b){"string"==typeof b||b===!1?(a.children.splice(g,1),f(b===!1&&null)):b&&f(h,g)})},renameNode:function(a,b,c){var d,e=a.label;a.label=b,a._parent?(this.sortCompare&&a._parent.children.sort(this.sortCompare),d=a._parent.children.indexOf(a)):d=0,this.validateRename(a,d,function(b){"string"==typeof b||b===!1?(a.label=e,c(b===!1&&null)):b&&c(a,d)})},deleteNode:function(a,b,c){var d=a._parent,e=a._parent.children.indexOf(a);d.children.splice(e,1),delete a._parent,this.validateDelete(a,c,function(c){c||(a._parent=d,d.children.splice(e,0,a)),b(c)})},moveNodes:function(a,b,c,d){var e,f,g,h,i=[];for(e=0;e<c.length;e++)f=c[e],g=f._parent,h=g.children.indexOf(f),g.children.splice(h,1),a===g&&h<b&&(b-=1),this.sortCompare?a.children.push(f):(a.children.splice(b,0,f),b+=1),f._parent=a;for(this.sortCompare&&a.children.sort(this.sortCompare),e=0;e<c.length;e++)i[e]=a.children.indexOf(c[e]);this.validateMove(a,c,i,function(a){d(!!a&&i)})},copyNodes:function(a,b,d,e){function f(a,b){var d,e=c.extend({},a);if(e._parent=b,void 0!==j._nextId&&(e.id=j.nextId()),a.children)for(e.children=[],d=0;d<a.children.length;d++)e.children.push(f(a.children[d],e));return e}var g,h,i,j=this,k=[],l=[];for(g=0;g<d.length;g++)h=d[g],i=f(h,a),k[g]=i,this.sortCompare?a.children.push(i):(a.children.splice(b,0,i),l[g]=b,b+=1);if(this.sortCompare)for(a.children.sort(this.sortCompare),g=0;g<k.length;g++)l[g]=a.children.indexOf(k[g]);this.validateCopy(a,k,l,function(a){e(!!a&&l)})},sortCompare:function(a,b){return a.label>b.label?1:a.label<b.label?-1:0},nextId:function(){var a=this._nextId;return this._nextId+=1,"tn"+a},newNode:function(a){var b,d={},e=!0,f=this.getType(a);return void 0!==this._nextId&&(d.id=this.nextId()),c.isArray(f.validChildren)?(d.type=f.validChildren[0],b=this.types[d.type],b&&b.operations&&void 0!==b.operations.canAdd?e=f.operations.canAdd:void 0!==this.types["default"].operations.canAdd&&(e=this.types["default"].operations.canAdd),b&&void 0!==b.defaultLabel?d.label=b.defaultLabel:void 0!==this.types["default"].defaultLabel&&(d.label=this.types["default"].defaultLabel)):void 0!==this.types["default"].defaultLabel&&(d.label=this.types["default"].defaultLabel),e&&(d.children=[]),d},extraCheck:function(a,b,c,d,e){return a},validateAdd:function(a,b,c){c(!0)},validateRename:function(a,b,c){c(!0)},validateDelete:function(a,b,c){c(!0)},validateMove:function(a,b,c,d){d(!0)},validateCopy:function(a,b,c,d){d(!0)},getType:function(a){var b="default";return a.type&&(b=a.type),this.types[b]||this.types["default"]},check:function(a,b,d,e){var f=!1,g=this.getType(b);return b.operations&&void 0!==b.operations[a]?f=b.operations[a]:g.operations&&void 0!==g.operations[a]?f=g.operations[a]:void 0!==this.types["default"].operations[a]&&(f=this.types["default"].operations[a]),c.isFunction(f)&&(f=f.call(this,b,d,e)),this.extraCheck(f,a,b,d,e)}};if(c.apex.treeView.makeDefaultNodeAdapter=function(a,b,d,e){function f(a,b){var c;if(a._parent=b,d&&(g._nextId+=1),a.children)for(c=0;c<a.children.length;c++)f(a.children[c],a)}var g=Object.create(la);return c.isArray(d)&&(e=d,d=!0),null!==d&&void 0!==d||(d=!0),d&&(c.apex.treeView.addViewStateMixin(g,"id",e),g._nextId=1),g.data=a,g.types=c.extend(!0,{},{"default":{isDisabled:!1,validChildren:!0,operations:{canAdd:!0,canRename:!0,canDelete:!0,canDrag:!0,drag:{normal:"move",ctrl:"copy"},externalDrag:{normal:"add"}}}},b),g.data&&f(g.data,null),g},c.apex.treeView.makeModelNodeAdapter=function(a,b,d){var e,f;if(!apex.model)throw new Error("Missing module apex.model");return b.shape="tree",e=apex.model.create(a,b,d),f=b.labelField||"label",e._labelKey=e.getFieldKey(f),e._iconKey=e.getFieldKey(b.iconField||"icon"),e._classesKey=e.getFieldKey(b.classesField||"classes"),e._linkKey=e.getFieldKey(b.linkField||"link"),e._disabledKey=e.getFieldKey(b.disabledField||"isDisabled"),b.hasIdentity&&c.apex.treeView.addViewStateMixin(e,function(a){return e.getRecordId(a)},b.initialExpandedNodeIds),e.getType=e._getType,e.getLabel=function(a){return a[this._labelKey]},e.getIcon=function(a){var b=this.getType(a),c=this._options,d=null;return this._iconKey&&(a[this._iconKey]||null===a[this._iconKey])?d=a[this._iconKey]:b.icon||null===b.icon?d=b.icon:void 0!==c.types["default"].icon&&(d=c.types["default"].icon),d},e.getClasses=function(a){var b=this.getType(a),c=this._options,d=null;return b.classes?d=b.classes:c.types["default"].classes&&(d=c.types["default"].classes),this._classesKey&&a[this._classesKey]&&(d?d+=" "+a[this._classesKey]:d=a[this._classesKey]),d},e.getLink=function(a){return this._linkKey?a[this._linkKey]:null},e.isDisabled=function(a){var b=this.getType(a),c=this._options,d=!1;return this._disabledKey&&void 0!==a[this._disabledKey]?d=a[this._disabledKey]:void 0!==b.isDisabled?d=b.isDisabled:void 0!==c.types["default"].isDisabled&&(d=c.types["default"].isDisabled),d},e.allowRename=e.allowEdit,e.addNode=function(a,b,c,d,e){var f,g,h,i=null,j=this._initRecord(d,null,a);g=a[this._childrenKey],b>=0&&b<g.length&&(i=g[b]),c&&(j[this._labelKey]=c),h=this.insertNewRecord(a,i,j),j=this.getRecord(h),f=g.indexOf(j),e(j,f)},e.renameNode=function(a,b,c){var d,e;this.setValue(a,f,b),e=this.parent(a),d=e?e[this._childrenKey].indexOf(a):0,c(a,d)},e.deleteNode=function(a,b,c){var d=this.deleteRecords([a]);b(1===d)},e.moveNodes=function(a,b,c,d){var e,f,g,h,i,j=null;for(g=a[this._childrenKey],b-=1,b>=0&&b<g.length&&(j=g[b]),h=this.moveRecords(c,a,j),e=0;e<h.length;e++)f=this.getRecord(h[e]),i[e]=g.indexOf(f);d(i)},e.copyNodes=function(a,b,c,d){var e,f,g,h,i,j=null;for(g=a[this._childrenKey],b-=1,b>=0&&b<g.length&&(j=g[b]),h=this.copyRecords(c,a,j),e=0;e<h.length;e++)f=this.getRecord(h[e]),i[e]=g.indexOf(f);d(i)},e},c.apex.treeView.treeModelListener=function(a,b){function d(a,b){function d(a){var b,d,e=[];for(b=0;b<a.length;b++)d=h.getViewId(g.baseId,a[b]),e.push(c("#"+g.baseId+d).children(z)[0]);return c(e)}var e,f;if("refresh"===a)g.refresh();else if("refreshRecords"===a||"revert"===a);else if("move"===a);else if("copy"===a);else if("insert"===a)f=d([h.parent(b.record)]),g.refresh(f);else if("clearChanges"===a);else if("delete"===a){for(f=d(b.records),e=0;e<b.records.length;e++)h.clearViewId(g.baseId,b.records[e]);g.deleteTreeNodes(f)}else"set"!==a&&"metaChange"!==a||(f=d([b.record]),g.update(f))}var e,f,g=b.data("apex-treeView"),h=g.getNodeAdapter();if(f=g.option("treeModel"),f&&(f.unSubscribe(g.option("modelViewId")),g.option("modelName")!==a&&apex.model.release(this.modelName),g.option("treeModel",null),g.option("modelName",null),g.option("modelViewId",null)),a){if(g.option("treeModel",a),f=apex.model.get(a),g.option("modelName",f),!f)throw new Error("TreeView model not found: "+a);g.option("modelViewId",f.subscribe({onChange:d,progressView:this.element})),e=f.getOption("onlyMarkForDelete")}},c.apex.treeView.addViewStateMixin=function(a,b,d){c.extend(a,{_state:{},isExpanded:function(a,b){var c=this._getExpandedNodes(a);return c[this._getIdentity(b)]||!1},setExpanded:function(a,b,c){var d=this._getExpandedNodes(a);d[this._getIdentity(b)]=c},getExpandedNodeIds:function(a){var b,c=[],d=this._getExpandedNodes(a);for(b in d)d.hasOwnProperty(b)&&d[b]===!0&&c.push(b);return c},getExpandedState:function(a){var b=this._getExpandedNodes(a);return c.extend({},b)},getViewId:function(a,b){var c=this._state[a]&&this._state[a].nodeMap;return c&&c[this._getIdentity(b)]},setViewId:function(a,b,c){var d=this._state[a]&&this._state[a].nodeMap;d||(d={},this._state[a]||(this._state[a]={}),this._state[a].nodeMap=d),d[this._getIdentity(b)]=c},clearViewId:function(a,b){var c=this._state[a]&&this._state[a].nodeMap,d=this._state[a]&&this._state[a].expandedNodes;c&&(b?(delete c[this._getIdentity(b)],d&&delete d[this._getIdentity(b)]):(this._state[a].nodeMap={},delete this._state[a].expandedNodes))},_getExpandedNodes:function(a){var b,c=this._state[a]&&this._state[a].expandedNodes;if(!c&&(this._state[a]||(this._state[a]={}),c={},this._state[a].expandedNodes=c,d))for(b=0;b<d.length;b++)c[d[b]]=!0;return c}}),a._getIdentity||(a._getIdentity=c.isFunction(b)?b:function(a){return a[b]})},c.ui.draggable&&(c.ui.plugin.add("draggable","connectToTreeView",{start:function(a,d){var e=c(this).data("ui-draggable"),f=e.options,g=c.extend({},d,{item:e.element});c("body").on("keydown.treeviewplug",function(a){a.keyCode===c.ui.keyCode.ESCAPE&&(e.dropped=!1,e.cancel())}),e.trees=[],c(f.connectToTreeView).each(function(){var d=c.data(this,"apex-treeView");d&&!d.options.disabled&&d.options.dragAndDrop?(e.trees.push({instance:d}),d._initPositions(),d._refreshPositions(),d._trigger("activate",a,g)):b.warn("Draggable connectToTreeView matches an element that is not a treeView, is disabled, or doesn't support drag and drop.")})},stop:function(a,b){var d=c(this).data("ui-draggable");c("body").off(".treeviewplug"),c.each(d.trees,function(){this.instance.isOver&&!this.invalid?(this.instance.isOver=!1,d.cancelHelperRemoval=!0,this.instance._mouseStop(a,!0),a.target||(this.instance._trigger("deactivate",a,this.instance._uiHashDnD(this.instance)),this.instance.dragItems.parent().remove(),this.instance._cancel(a,!0))):(this.instance._deactivate(),this.instance._trigger("deactivate",a,this.instance._uiHashDnD(this.instance)),this.instance.dragItems&&(this.instance.dragItems.parent().remove(),this.instance._cancel(a,!0)))})},drag:function(a,b){var d=c(this).data("ui-draggable");c.each(d.trees,function(){var c=!1;if(!this.invalid)if(this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(c=!0),c){if(!this.instance.isOver){if(this.instance.isOver=!0,this.instance._makeTempDragItem(),this.instance.helper=b.helper,this.instance.helper.css("position","relative"),a.target=this.instance.dragItems.parent().children(x)[0],!this.instance._mouseCapture(a,!0))return this.instance.isOver=!1,void(this.invalid=!0);this.instance._trigger("over",a,this.instance._uiHashDnD(this.instance)),
this.instance._mouseStart(a,a,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d}this.instance.dragItems&&this.instance._mouseDrag(a)}else this.instance.isOver&&(this.instance.isOver=!1,this.instance._trigger("out",a,this.instance._uiHashDnD(this.instance)),a.target=null,this.instance._mouseStop(a,!0),this.instance.dragItems.parent().remove(),this.instance.placeholder&&this.instance._removePlaceholder(),d.dropped=!1)})}}),c.ui.plugin.add("draggable","cursor2",{start:function(){var a=c("body"),b=c(this).data("ui-draggable"),d=b.options;d.cursor2&&"auto"!==d.cursor2&&(b.storedCursor=a.css("cursor"),a.css("cursor",d.cursor2),b.storedStylesheet=c("<style>*{ cursor: "+d.cursor2+" !important; }</style>").appendTo(a))},stop:function(){var a=c(this).data("ui-draggable");a.storedCursor&&(c("body").css("cursor",a.storedCursor),a.storedStylesheet.remove())}})),apex.widget){var ma={"default":{operations:{canAdd:!1,canDelete:!1,canRename:!1,canDrag:!1}}};apex.widget.tree={init:function(d,e,f,g){var h,i=c.extend(!0,{},ma),j=c("#"+a.escapeCSS(d),apex.gPageContext$),k=g.initialSelectedNodeId,l=g.nodeHasTooltip;g.defaultIcon&&(i["default"].icon=g.defaultIcon),g=c.extend({getNodeAdapter:function(){return(g.makeNodeAdapter||c.apex.treeView.makeDefaultNodeAdapter)(e,i,f)},tooltip:l?{show:apex.tooltipManager.defaultShowOption(),content:function(a,b){return b?b.tooltip:null}}:null,navigation:!0},g),j.treeView(g),g.regionStaticId&&apex.region.create(g.regionStaticId,{type:"Tree",widgetName:"treeView",refresh:function(){b.warn("Refresh not supported.")},focus:function(){j.treeView("focus")},widget:function(){return j}}),k&&(h=j.treeView("find",{depth:-1,findAll:!1,match:function(a){return a.id===k}}),h.length&&j.treeView("setSelection",h))},expand_all:function(b){c("#"+a.escapeCSS(b),apex.gPageContext$).treeView("expandAll")},collapse_all:function(b){c("#"+a.escapeCSS(b),apex.gPageContext$).treeView("collapseAll")},reset:function(b){var d=c("#"+a.escapeCSS(b),apex.gPageContext$);d.treeView("collapseAll").treeView("expand",d.children().children("li").first())}}}}(apex.util,apex.debug,apex.jQuery);
!function(a,b,c){"use strict";var d=function(){function a(){if(f<0)throw"Command history nothing to undo"}function d(){if(f>=e.length-1)throw"Command history nothing to redo"}var e=[],f=-1,g=null,h={execute:function(){},undo:function(){},redo:function(){return this.execute()},label:function(){return""}};return{clear:function(){e=[],f=-1,c(document).trigger("commandHistoryChange")},execute:function(a){try{b.info("Execute command: "+a.label()),a.execute()}catch(d){return b.error("Exception during execute command.",d),void(g&&g("execute",a,d))}f+=1,f<e.length&&(e.length=f),e.push(a),c(document).trigger("commandHistoryChange")},undo:function(){a();try{b.info("Undo command: "+e[f].label()),e[f].undo()}catch(d){b.error("Exception during undo command.",d),g&&g("undo",e[f],d),e.length=f}f-=1,c(document).trigger("commandHistoryChange")},redo:function(){d(),f+=1;try{b.info("Redo command: "+e[f].label()),e[f].redo()}catch(a){b.error("Exception during redo command.",a),g&&g("redo",e[f],a),e.length=f,f-=1}c(document).trigger("commandHistoryChange")},canUndo:function(){return f>=0},canRedo:function(){return f<e.length-1},undoLabel:function(){return a(),e[f].label()},redoLabel:function(){return d(),e[f+1].label()},setErrorHandler:function(a){g=a},getErrorHandler:function(){return g},baseCommand:function(){return Object.create(h)}}};a.commandHistory=d(),a.commandHistory.newCommandHistory=d}(apex,apex.debug,apex.jQuery);
!function(a,b){"use strict";b.templateOptionsHelper={getValuesFromDialog:function(a,b){function c(a){for(var c=0;c<a.length;c++)d=b.propertyEditor("getPropertyValue",a[c].propertyName),""!==d&&e.push(d)}var d,e=[];return c(a.common),c(a.advanced),e},getProperties:function(c,d,e){var f,g,h,i,j=[],k={},l=[],m=[],n={common:[],advanced:[]};for(f=0;f<c.values.length;f++)c.values[f].groupId?(g=c.values[f].groupId,k.hasOwnProperty(g)?h=k[g]:(j.push({title:c.groups[g].title,seq:c.groups[g].seq,nullText:c.groups[g].nullText,isAdvanced:c.groups[g].isAdvanced,isRequired:!1,lovValues:[],value:""}),h=j.length-1,k[g]=h),a.inArray(c.values[f].r,c.presetValues)!==-1&&(j[h].isRequired=!0,""===j[h].value&&(j[h].value=c.values[f].r)),a.inArray(c.values[f].r,d)!==-1&&(j[h].value=c.values[f].r),j[h].lovValues.push({r:c.values[f].r,d:c.values[f].d})):(m.push(c.values[f]),a.inArray(c.values[f].r,d)!==-1&&l.push(c.values[f].r));j.sort(function(a,b){return a.seq===b.seq?a.title.localeCompare(b.title):a.seq-b.seq});var o=l.join(":");for(n.common[0]={propertyName:"general",value:o,oldValue:o,originalValue:o,metaData:{type:"TEMPLATE OPTIONS GENERAL",prompt:b.lang.getMessage("TEMPLATE_OPTIONS.GENERAL"),isReadOnly:!!e,isRequired:!1,lovValues:m,displayGroupId:"common",defaultTemplateOptions:c.defaultValues},errors:[],warnings:[]},f=0;f<j.length;f++)i=j[f].isAdvanced?"advanced":"common",n[i].push({propertyName:"grp"+f,value:j[f].value,oldValue:j[f].value,originalValue:j[f].value,metaData:{type:a.apex.propertyEditor.PROP_TYPE.SELECT_LIST,prompt:j[f].title,isReadOnly:!!e,isRequired:j[f].isRequired,nullText:j[f].nullText,lovValues:j[f].lovValues,displayGroupId:i},errors:[],warnings:[]});return n},addGeneralPropertyType:function(){a.apex.propertyEditor.addPropertyType("TEMPLATE OPTIONS GENERAL",{init:function(c,d){function e(){var b=a(this).prop("checked");b&&f.prop("checked",!0),f.prop("disabled",b)}var f=a();this["super"]("init",c,d);for(var g=c.find("input[type=checkbox]"),h=g.filter("[value='#DEFAULT#']"),i=0;i<d.metaData.defaultTemplateOptions.length;i++)f=f.add(g.filter("[value='"+b.util.escapeCSS(d.metaData.defaultTemplateOptions[i])+"']"));h.on("click setdefaultcheckboxes",e).trigger("setdefaultcheckboxes")},getValue:function(a){var b=[];return a.find("input[type=checkbox]").filter(":checked:not(:disabled)").each(function(){b.push(this.value)}),b.join(":")},setValue:function(a,b,c){this["super"]("setValue",a,b,c),a.find("input[type=checkbox]").filter("[value='#DEFAULT#']").trigger("setdefaultcheckboxes")}},"CHECKBOXES")}}}(jQuery,apex);
pe=function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){return b.p_arg_names=["FB_FLOW_ID"],b.p_arg_values=[ta],e.process(a,b,c)}function i(a){var b=d.getMessage("MODEL."+a),c=[b].concat(Array.prototype.slice.call(arguments,1));return d.format.apply(this,c)}function j(a){var b=d.getMessage("MODEL."+a),c=[b].concat(Array.prototype.slice.call(arguments,1));return d.formatNoEscape.apply(this,c)}function k(a,b,c){return c?j(a,b):b}function l(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function m(a,b){for(var c in b)b.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=b[c]);for(var c in a)a.hasOwnProperty(c)&&a[c]===g&&delete a[c]}function n(a){for(var b=a;b.length<36;)b="0"+b;return b}function o(a){return/^[ABCDEFGHIJKLMNOPQRSTUVWXYZ]+[ABCDEFGHIJKLMNOPQRSTUVWXYZ0-9_$]*$/.test(a)?a:'"'+a+'"'}function p(b,c){function e(b,c,e){var f,h,j,k,l=oa[e],n=l.pluginType;if(n.plugins=n.plugins||{},b!==g)for(var o=0;o<b.length;o++){if(n.plugins[b[o].name]={name:b[o].name,title:d.formatNoEscape(c,b[o].title),category:b[o].category,uiTypes:b[o].uiTypes,componentTypes:b[o].componentTypes,attributes:b[o].attributes,features:b[o].features,stdAttributes:b[o].stdAttributes||{},aboutUrl:b[o].aboutUrl,helpText:b[o].helpText||i("HELP.NO_TEXT"),isQuickPick:b[o].isQuickPick===!0,isDeprecated:b[o].isDeprecated===!0,isLegacy:b[o].isLegacy===!0,isRequired:a.inArray("SOURCE_REQUIRED",b[o].features)!==-1||a.inArray("LOV_REQUIRED",b[o].features)!==-1||a.inArray("REQUIRED",b[o].features)!==-1||a.inArray("REGION_REQUIRED",b[o].features)!==-1},b[o].hasOwnProperty("features")){for(var p=0;p<b[o].features.length;p++)if(f=b[o].features[p],n.features.hasOwnProperty(f))for(var q=0;q<n.features[f].length;q++)h=n.features[f][q],l.properties[h].dependingOn[0].values.push(b[o].name);e!==ca.PAGE_ITEM&&e!==ca.IG_COLUMN||a.inArray("FORMAT_MASK_DATE",b[o].features)!==-1||a.inArray("FORMAT_MASK_NUMBER",b[o].features)!==-1||l.properties[da.FORMAT_MASK].dependingOn[0].values.push(b[o].name)}if(e!==ca.REGION){for(var p=0;p<b[o].attributes.length;p++)m(b[o].attributes[p],{scope:"COMPONENT",defaultValue:"",helpText:""}),j=b[o].attributes[p],(e!==ca.REGION_COLUMN&&"COMPONENT"===j.scope||e===ca.REGION_COLUMN&&"COLUMN"===j.scope)&&(e!==ca.IG_COLUMN&&(na[j.id]={id:j.id,name:e+"_"+b[o].name+"_"+j.mappingNo,prompt:j.prompt,type:j.type,multiValueDelimiter:j.multiValueDelimiter,displayLen:j.displayLen,maxLen:j.maxLen,textCase:j.textCase,unit:j.unit,hasPlSqlCheck:!1,sqlMinColumns:j.sqlMinColumns,sqlMaxColumns:j.sqlMaxColumns,dataTypes:j.dataTypes||{},displayGroupId:j.displayGroupId,lovType:j.lovType,lovComponentTypeId:j.lovComponentTypeId,lovComponentScope:j.lovComponentScope,lovValues:j.lovValues,isSearchable:j.isSearchable,deprecatedValues:j.deprecatedValues,examples:j.examples,helpText:j.helpText,isCustomPluginAttribute:/^PLUGIN/.test(b[o].name)},j.hasOwnProperty("uiTypes")&&(na[j.id].uiTypes=j.uiTypes),j.hasOwnProperty("componentTypes")&&(na[j.id].componentTypes=j.componentTypes),na[j.id].type===ja.YES_NO&&(na[j.id].yesValue="Y",na[j.id].noValue="N")),k=j.referenceScope,j.type===ja.ITEM&&(e===ca.IG_COLUMN?k="ROW":e===ca.DA_ACTION&&(k="DEPENDS")),l.properties[j.id]={propertyId:j.id,displaySeq:n.attributesSeqOffset+j.displaySeq,isRequired:j.isRequired,isReadOnly:!1,isCommon:j.isCommon,nullText:j.nullText,referenceOnDelete:j.referenceOnDelete,referenceScope:k,supportsSubstitution:j.supportsSubstitution,defaultValue:j.defaultValue,dependingOn:[{id:n.typePropertyId,hasToExist:!0,type:"EQUALS",expression:b[o].name}]},j.parentAttribute&&(l.properties[j.id].parentProperty=j.parentAttribute),j.dependingOn&&l.properties[j.id].dependingOn.push(j.dependingOn));if(e!==ca.REGION_COLUMN&&e!=ca.IG_COLUMN)for(var p=0;p<b[o].events.length;p++)qa.component.push({r:b[o].events[p].r,d:b[o].events[p].d+" ["+b[o].title+"]",uiTypes:b[o].uiTypes})}}}for(var f in b)b.hasOwnProperty(f)&&(e(b[f],c,f),f===ca.REGION&&(e(b[f],c,ca.REGION_PLUGIN_ATTR),e(b[f],c,ca.REGION_COLUMN)))}function q(){function a(a){l(a,function(a,b){b.displayPointsMap={};for(var c=0;c<b.displayPoints.length;c++)b.displayPointsMap[b.displayPoints[c].id]=b.displayPoints[c]})}for(var b in oa)if(oa.hasOwnProperty(b)){oa[b].id=b,m(oa[b],{parentId:null,isOneToOneRelation:!1,isPageComponent:!1,isSharedComponent:!1,refByProperties:[],childComponentTypes:[]}),xa[b]={};for(var c in oa[b].properties)oa[b].properties.hasOwnProperty(c)&&(oa[b].properties[c].propertyId=c,m(oa[b].properties[c],{defaultValue:"",helpText:"",dependingOn:[],refByChilds:[],refByDependingOn:[]}))}for(var b in na)if(na.hasOwnProperty(b)&&(na[b].id=b,m(na[b],{helpText:"",hasPlSqlCheck:!1,isQueryOnly:!1,isInternal:!1,isSearchable:!0,dataTypes:{},refByComponentTypes:[]}),na[b].hasOwnProperty("uiTypes")||(na[b].uiTypes=[ia.DESKTOP,ia.JQM_SMARTPHONE]),na[b].hasOwnProperty("lovValues"))){na[b].lovValuesMap={};for(var c=0;c<na[b].lovValues.length;c++)na[b].lovValuesMap[na[b].lovValues[c].r]=c}l(qa,function(a,b){if("lookupMap"!==a)for(var c=0;c<b.length;c++)qa.lookupMap[b[c].r]=b[c]}),l(sa.themes,function(b,c){a(c.templates[ca.PAGE_TEMPLATE]),a(c.templates[ca.REGION_TEMPLATE])})}function r(){function a(a,b){oa[a].properties[b]&&oa[a].properties[b].refByChilds.push({typeId:c,id:d})}var b,c,d;for(var e in na)na.hasOwnProperty(e)&&("COMPONENT"===na[e].lovType?oa[na[e].lovComponentTypeId].refByProperties.push(e):"ITEM"===na[e].type&&oa[ca.PAGE_ITEM].refByProperties.push(e));for(c in oa)if(oa.hasOwnProperty(c)){null!==oa[c].parentId&&oa[oa[c].parentId].childComponentTypes.push(c);for(d in oa[c].properties)if(oa[c].properties.hasOwnProperty(d)){if(b=oa[c].properties[d],na[d].refByComponentTypes.push(c),b.parentProperty&&b.parentProperty.id){if(a(b.parentProperty.typeId,b.parentProperty.id),b.parentProperty.id===da.CHART_SOURCE_LOCATION)for(var e=0;e<ea.length;e++)a(ca.REGION,ea[e]),a(ca.JET_CHART_SERIES,ea[e]);if(b.parentProperty.id===da.REGION_SQL)for(var e=0;e<ea.length;e++)a(ca.REGION,ea[e])}for(var e=0;e<b.dependingOn.length;e++)oa[c].properties[b.dependingOn[e].id].refByDependingOn.push({propertyId:d,hasToExist:b.dependingOn[e].hasToExist})}}}function s(){var a,b,c="ORA_WWV_apex.builder.pageDesigner.model.componentIds";return a=localStorage[c],a=a===g?[]:a.split(","),0===a.length&&h("getNewComponentId",{x01:50},{success:function(b){a=b},async:!1}),b=a[0],a=a.slice(1),0===a.length?delete localStorage[c]:localStorage[c]=a.join(","),b}function t(){return sa.themes[va.themeId]}function u(){var a,b,c=xa[ca.PAGE][ua];return a=t(),b=A()?a.defaultTemplates.page:"NORMAL"===c.getProperty(da.PAGE_MODE).getValue()?c.getProperty(da.PAGE_TEMPLATE).getValue()||a.defaultTemplates.page:c.getProperty(da.DIALOG_TEMPLATE).getValue()||a.defaultTemplates.dialog,a.templates[ca.PAGE_TEMPLATE][b]}function v(a){var b=xa[ca.REGION][a].getProperty(da.REGION_TEMPLATE).getValue(),c=t().templates[ca.REGION_TEMPLATE];return c.hasOwnProperty(b)?c[b]:c[""]}function w(a){var b=t().templates[ca.FIELD_TEMPLATE];return b.hasOwnProperty(a)?b[a]:b[""]}function x(b){var c,d,e,f=b.component.typeId,h=t().options||[],j=[],k={};if(f===ca.PAGE&&a.inArray(oa[b.component.typeId].properties[b.id].parentProperty.id,[da.PAGE_TEMPLATE,da.DIALOG_TEMPLATE])!==-1)e="PAGE",d=u();else if(c=b.component.getProperty(oa[b.component.typeId].properties[b.id].parentProperty.id),c&&""!==c.getValue())switch(d=t().templates[na[c.id].lovComponentTypeId][c.getValue()],na[c.id].lovComponentTypeId){case ca.REGION_TEMPLATE:e="REGION";break;case ca.REPORT_TEMPLATE:e="REPORT";break;case ca.BREADCRUMB_TEMPLATE:e="BREADCRUMB";break;case ca.LIST_TEMPLATE:e="LIST";break;case ca.FIELD_TEMPLATE:e="FIELD";break;case ca.BUTTON_TEMPLATE:e="BUTTON"}if(d===g)return{values:[],valuesMap:{},defaultValues:[],presetValues:[],groups:{}};d&&d.hasOwnProperty("options")&&(j=j.concat(d.options));for(var l=0;l<h.length;l++)a.inArray(e,h[l].types)!==-1&&j.push(h[l]);j.unshift({r:"#DEFAULT#",d:i("LOV.TEMPLATE_OPTIONS.DEFAULT"),description:i("LOV.TEMPLATE_OPTIONS.DEFAULT.DESC")});for(var l=0;l<j.length;l++)k[j[l].r]=j[l];return{values:j,valuesMap:k,defaultValues:d.defaultOptions||[],presetValues:d.presetOptions||[],groups:t().optionGroups||[]}}function y(b,c){return("ROWID"!==b||a.inArray(b,c)!==-1)&&(0===c.length||b===g||a.inArray("VARCHAR2",c)>=0&&a.inArray(b,["BLOB","BFILE"])===-1||a.inArray("DATE",c)>=0&&a.inArray(b,["DATE","TIMESTAMP","TIMESTAMP_TZ","TIMESTAMP_LTZ"])>=0||a.inArray(b,c)>=0)}function z(b,c,d){return a.inArray(b._uiType,c)!==-1&&(!d||a.inArray(b.typeId,d)!==-1)}function A(){return ua===va.globalPageId}function B(b,c){function d(a,b){e.indexOf(a)!==-1&&(e=e.replace(a,b()))}var e=c;return e.indexOf("#")!==-1&&(d("#PAGE_ID#",function(){return ua}),d("#PLEASE_CHANGE#",function(){return i("PLACEHOLDER.PLEASE_CHANGE")}),d("#PRINT_LINK_TEXT#",function(){return i("PLACEHOLDER.PRINT_LINK_TEXT")}),d("#DEFAULT_REGION_TEMPLATE#",function(){return t().defaultTemplates.region}),d("#DEFAULT_FIELD_TEMPLATE#",function(){return t().defaultTemplates.field}),d("#DEFAULT_BUTTON_TEMPLATE#",function(){return t().defaultTemplates.button}),d("#DEFAULT_REPORT_TEMPLATE#",function(){return t().defaultTemplates.report}),d("#DEFAULT_LIST_TEMPLATE#",function(){return t().defaultTemplates.list}),d("#DEFAULT_NAV_LIST_TEMPLATE#",function(){return va.navList.templateId||""}),d("#DEFAULT_BREADCRUMB_TEMPLATE#",function(){return t().defaultTemplates.breadcrumb}),d("#DEFAULT_CALENDAR_TEMPLATE#",function(){return t().defaultTemplates.calendar}),d("#DEFAULT_NAV_LIST_POSITION#",function(){return va.navList.position||""}),d("#CURRENT_COLUMN_NAME#",function(){var c=b.component.getProperty(da.COLUMN_NAME).getValue();return a.inArray(b.component.typeId,[ca.IR_COLUMN,ca.CLASSIC_RPT_COLUMN,ca.TAB_FORM_COLUMN])!==-1?c:o(c)}),d("#PRESET_TEMPLATE_OPTIONS#",function(){var a=x(b).presetValues;return a.length>0?":"+a.join(":"):""})),e}function C(a,b,c){for(var d,e=[],f=0;f<a.length;f++)d=a[f].getProperty(b),e.push({name:a[f].getProperty(c).getValue(),label:d?d.getValue():""});return e}function D(a,b,c){var d,e,f=[];for(d=0;d<b.length;d++)if(e=a.getProperty(b[d])){f=e.getColumns(c);break}return f}function E(b,c){var d,e,f,g,h={NATIVE_TABFORM:ca.TAB_FORM_COLUMN,NATIVE_SQL_REPORT:ca.CLASSIC_RPT_COLUMN,NATIVE_IR:ca.IR_COLUMN,NATIVE_IG:ca.IG_COLUMN},i=[];return d=J(ca.REGION,{id:b}),d.length>0&&(e=d[0],f=e._properties[da.REGION_TYPE]._value,h.hasOwnProperty(f)?(g="NATIVE_IR"===f?e.getChilds(ca.IR_ATTRIBUTES)[0].id:e.id,d=J(h[f],{parentId:g}),i=C(d,da.COLUMN_HEADING,da.COLUMN_NAME)):a.inArray("COLUMNS",oa[ca.REGION].pluginType.plugins[f].features)!==-1?(d=J(ca.REGION_COLUMN,{parentId:e.id}),i=C(d,da.COLUMN_HEADING,da.COLUMN_NAME)):i=D(e,ea,c)),i}function F(a,b){var c,d=[];return c=J(ca.REGION,{id:a}),c.length>0&&(d=D(c[0],ea,b)),d}function G(b){var c=b.propertyId,d=na[c],e=oa[b.component.typeId].properties[c],f=c;if(this.component=b.component,f instanceof G){f=a.extend(!0,{},f);for(var g in f)f.hasOwnProperty(g)&&"component"!==g&&(this[g]=f[g])}else this.id=c,this._isRequired=e.isRequired,this._isReadOnly=e.isReadOnly,d.type!==ja.SQL&&d.type!==ja.PLSQL_FUNC_SQL||(this._sqlMinColumns=d.sqlMinColumns,this._sqlMaxColumns=d.sqlMaxColumns),this._setDynamicProperties(),this.hasChanged=!1,this.errors=[],this.warnings=[],this._columns=[],this._hasOrderBy=!1,b.hasOwnProperty("server")?"object"===a.type(b.server)?(this._value=b.server.value,this._columns=b.server.columns||[],this._hasOrderBy=b.server.hasOrderBy):this._value=b.server:(""===(b.defaultValue||this._defaultValue)?this._value="":this._value=B(this,this._defaultValue||b.defaultValue||e.defaultValue),this._columns=b.columns||[],this._hasOrderBy=b.hasOrderBy,"UPPER"===d.textCase?this._value=this._value.toUpperCase():"LOWER"===d.textCase&&(this._value=this._value.toLowerCase()),this._setDynamicDefaultValue(),this._isRequired&&""===this._value&&this.errors.push(i("VAL.IS_REQUIRED")))}function H(b){var c,d;if(b.component instanceof H){d=a.extend(!0,{},b.component);for(var e in d)if(d.hasOwnProperty(e))if("_properties"===e){this._properties={};for(var f in d._properties)d._properties.hasOwnProperty(f)&&(this._properties[f]=new G({component:this,propertyId:d._properties[f]}))}else this[e]=d[e];if(b.isDetached)return;c=oa[this.typeId],c.isOneToOneRelation?this.id=b.parentId:this.id=s(),this._status=ha.CREATED,this.seq=0,this._isReadOnly=!1}else if(c=oa[b.typeId],this.id="",this.parentId="",this._status=ha.UNCHANGED,this._uiType=ia.DESKTOP,this.typeId=b.typeId,this.seq=0,this._isReadOnly=!1,this._properties={},a.isPlainObject(b.component)){this.id=b.component.id,this.parentId=b.component.parentId,this.pageId=b.component.pageId,this._uiType=b.component.uiType||this._uiType,this._lock=b.component.lock||!1;for(var f in b.component.properties)b.component.properties.hasOwnProperty(f)&&(this._properties[f]=new G({component:this,propertyId:f,server:b.component.properties[f]}),f===c.seqPropertyId&&(this.seq=parseInt(b.component.properties[f],10)));for(var f in c.properties)c.properties.hasOwnProperty(f)&&!this._properties.hasOwnProperty(f)&&(this._properties[f]=new G({component:this,propertyId:f,server:""}));if(this._cleanProperties(),b.isDetached)return}else{c.isOneToOneRelation?this.id=b.parentId:this.id=s(),this._status=ha.CREATED,ua&&(this._uiType=xa[ca.PAGE][ua]._uiType),c.isPageComponent&&(this.pageId=ua);for(var f in c.properties)c.properties.hasOwnProperty(f)&&(this._properties[f]=new G({component:this,propertyId:f}));this._cleanProperties()}if(this._status===ha.CREATED){c=oa[this.typeId],b.parentId?(this.parentId=b.parentId,c.parentPropertyId&&this._properties[c.parentPropertyId]._setValue(this.parentId,{checkReadOnly:!1})):c.parentId===ca.PAGE?this.parentId=ua:c.parentId===ca.APPLICATION&&(this.parentId=ta);for(var f in this._properties)this._properties.hasOwnProperty(f)&&c.properties[f].hasOwnProperty("checkUniqueness")&&this._properties[f]._setUniqueValue();this._setGridProperties(),this._setProperties(b.values,{checkReadOnly:!1}),0===this.seq&&c.seqPropertyId&&this._move(b.previousComponent),R(this,Ca.CREATE),b.hasOwnProperty("component")?(this._callPluginCallback({properties:b.values}),this._callComponentTypeCallback({properties:b.values})):(this._callPluginCallback({action:ga.CREATED}),this._callComponentTypeCallback({action:ga.CREATED}))}xa[this.typeId][this.id]=this}function I(a){function b(b,c){for(var d=J(b,{properties:[{id:c,value:""}]},!1),e=0;e<d.length;e++)a!==g||d[e].isOnGlobalPage()||R(d[e],Ca.CHANGE),d[e]._setGridProperties(a)}b(ca.REGION,da.PARENT_REGION),b(ca.PAGE_ITEM,da.REGION),b(ca.BUTTON,da.REGION)}function J(b,c,d){var e,f,h=oa[b].isPageComponent,i=[];c=c||{};for(var j in xa[b])if(xa[b].hasOwnProperty(j)){if(e=xa[b][j],e._status===ha.DELETED)continue;if(c.hasOwnProperty("id")&&c.id!==g&&j!==c.id+"")continue;if(c.hasOwnProperty("parentId")&&c.parentId!==g&&e.parentId!==c.parentId+"")continue;if(c.hasOwnProperty("pageId")&&c.pageId!==g){if(e.pageId!==c.pageId)continue}else if(h&&e.pageId!==ua&&(c.excludeGlobalPage||!e.isOnGlobalPage()))continue;if(c.hasOwnProperty("hasChanged")&&c.hasChanged!==g&&e.hasChanged()!==c.hasChanged)continue;if(c.hasOwnProperty("hasErrors")&&c.hasErrors!==g&&e.hasErrors()!==c.hasErrors)continue;if(c.hasOwnProperty("hasWarnings")&&c.hasWarnings!==g&&e.hasWarnings()!==c.hasWarnings)continue;if(c.properties&&c.properties.length>0){f=!1;for(var k=0;k<c.properties.length&&(f=!1,e._properties.hasOwnProperty(c.properties[k].id)&&(f=c.properties[k].value instanceof RegExp?!!e._properties[c.properties[k].id]._value.match(c.properties[k].value):e._properties[c.properties[k].id]._value==c.properties[k].value),f);k++);if(!f)continue}if(a.isFunction(c.filterFunction)&&!c.filterFunction.apply(e))continue;i.push(e)}return d===!0||d===g?oa[b].seqPropertyId?i.sort(function(a,b){return a.seq===b.seq?n(a.id)>n(b.id)?1:-1:a.seq-b.seq}):i.sort(function(a,b){return a.getDisplayTitle().localeCompare(b.getDisplayTitle())}):a.isFunction(d)&&i.sort(d),i}function K(b,c){for(var d=[],e=0;e<b.length;e++)d=d.concat(J(b[e].typeId,b[e].filter,!1));return c===!0||c===g?d.sort(function(a,b){return oa[a.typeId].seqPropertyId&&oa[b.typeId].seqPropertyId?a.seq===b.seq?n(a.id)>n(b.id)?1:-1:a.seq-b.seq:a.getDisplayTitle().localeCompare(b.getDisplayTitle())}):a.isFunction(c)&&d.sort(c),d}function L(a,c){var d,e,f=[];if(a instanceof RegExp)e=a;else{if(""===a||a===g)return[];e=new RegExp(b.escapeRegExp(a),"i")}if(c.hasOwnProperty("typeId"))l(xa[c.typeId],function(a,b){b._status!==ha.DELETED&&l(b._properties,function(a,b){na[a].isSearchable&&b._value.match(e)&&f.push(b)})});else if(c.hasOwnProperty("properties"))for(var h=0;h<c.properties.length;h++)d=c.properties[h],na[d.id].isSearchable&&d._value.match(e)&&f.push(d);return f.sort(function(a,b){var c=a.component.getDisplayTitle(),d=b.component.getDisplayTitle();return c===d?oa[a.component.typeId].properties[a.id].displaySeq-oa[b.component.typeId].properties[b.id].displaySeq:c.localeCompare(d)}),f}function M(a,c){var d,e=[];if(a instanceof RegExp)d=a;else{if(""===a||a===g)return[];d=new RegExp(b.escapeRegExp(a),"i")}return l(xa[c],function(a,b){b._status!==ha.DELETED&&b.getDisplayTitle().match(d)&&e.push(b)}),e.sort(function(a,b){var c=a.getDisplayTitle(),d=b.getDisplayTitle();return c.localeCompare(d)}),e}function N(b,c){var d,e,f=[];if("application"===b.type){e=J(ca.APP_ITEM);for(var g=0;g<e.length;g++)f.push({name:e[g].getProperty(da.ITEM_NAME).getValue()})}else if("page"===b.type){if(b.pageId!==ua&&b.pageId!==va.globalPageId)return void h("getPageItems",{x01:b.pageId},{success:function(a){for(var b in a)f.push({name:b,label:a[b]});f.sort(function(a,b){return a.name.localeCompare(b.name)}),c(f)}});e=J(ca.PAGE_ITEM,{pageId:b.pageId}),f=C(e,da.ITEM_LABEL,da.ITEM_NAME)}else"columns"===b.type&&(d=b.component,a.inArray(d.typeId,[ca.REGION_PLUGIN_ATTR,ca.REGION_COLUMN,ca.IR_ATTRIBUTES,ca.IG_ATTRIBUTES,ca.CLASSIC_REPORT,ca.CLASSIC_RPT_COLUMN,ca.TABULAR_FORM,ca.TAB_FORM_COLUMN])!==-1?f=E(d.parentId):d.typeId===ca.IR_COLUMN?f=E(d.getParent().parentId):d.typeId===ca.IG_COLUMN?f=E(d.parentId):d.typeId===ca.VALIDATION?f=E(d.getProperty(da.VALIDATION_REGION).getValue()):d.typeId===ca.PAGE_PROCESS?f=E(d.getProperty(da.PROCESS_REGION).getValue()):d.typeId===ca.CHART_SERIES?f=D(d,[da.PROJECT_GANTT_SOURCE_QUERY,da.RESOURCE_GANTT_SOURCE_QUERY,da.PIE_DOUGHNUT_SOURCE_QUERY,da.DIAL_SOURCE_QUERY,da.SCATTER_SOURCE_QUERY,da.RANGE_SOURCE_QUERY,da.CANDLESTICK_SOURCE_QUERY,da.LINE_COL_BAR_STK_SOURCE_QUERY]):d.typeId===ca.JET_CHART_SERIES?f="REGION_SOURCE"===d._properties[da.CHART_SOURCE_LOCATION].getValue()?F(d.getParent().parentId,!0):D(d,ea,!0):d.typeId===ca.MAP_CHART_SERIES&&(f=D(d,[da.MAP_SOURCE_QUERY])));return c?void c(f):f}function O(a,b,c){h("getPages",{x01:c?"Y":"N",x02:a.show?a.show:"",x03:a.id?a.id:""},{success:b})}function P(){if(!Da)throw"Start a Transaction first!"}function Q(){if(Da)throw"Finish pending Transaction first!"}function R(a,b){var c;P(),c=Da.components,c.hasOwnProperty(a.typeId)&&c[a.typeId].hasOwnProperty(a.id)?b===Ca.DELETE&&(c[a.typeId][a.id].operation===Ca.CREATE?delete c[a.typeId][a.id]:c[a.typeId][a.id].operation=b):(c.hasOwnProperty(a.typeId)||(c[a.typeId]={}),c[a.typeId][a.id]={oldComponent:null,newComponent:null,operation:b},b!==Ca.CREATE&&(c[a.typeId][a.id].oldComponent=new H({component:a,isDetached:!0})))}function S(b,c,d){function e(a,b){(c._properties.hasOwnProperty(a)||b===fa.REMOVE_PROP)&&(l.properties.hasOwnProperty(a)||(l.properties[a]=[]),l.properties[a].push(b))}function f(a,b,d){if(c[b]()){l.events.push(a);for(var f in c._properties)c._properties.hasOwnProperty(f)&&c._properties[f][d].length>0&&e(f,a)}}function g(a,d,e){c._properties[n][e].join()!==b._properties[n][e].join()&&(0===c._properties[n][e].length?m.push(d):m.push(a))}function h(a,d,e){c[e]()!==b[e]()&&(c[e]()?l.events.push(a):l.events.push(d))}var i,j,k,l,m;if(l={component:{},events:[],properties:{},action:d||""},null===b||b._status===ha.DELETED)l.component=c,l.events.push(fa.CREATE),f(fa.ERRORS,"hasErrors","errors"),f(fa.WARNINGS,"hasWarnings","warnings");else if(null===c||c._status===ha.DELETED)l.component=b,l.events.push(fa.DELETE);else{l.component=c,l.events.push(fa.CHANGE),i=oa[c.typeId];for(var n in c._properties)if(c._properties.hasOwnProperty(n)){if(j=c._properties[n],m=l.properties[n]||[],b._properties.hasOwnProperty(n)){if(j._value!==b._properties[n]._value){if(m.push(fa.CHANGE),n===i.displayPropertyId?l.events.push(fa.DISPLAY_TITLE):(c.typeId!==ca.PAGE||n!==da.PAGE_TEMPLATE&&n!==da.DIALOG_TEMPLATE)&&(c.typeId!==ca.REGION||n!==da.REGION_TEMPLATE&&n!==da.REGION_TYPE)||l.events.push(fa.GRID),i.pluginType&&n===i.pluginType.typePropertyId){for(var o=0;o<i.pluginType.requiredProperties.length;o++)e(i.pluginType.requiredProperties[o],fa.META_DATA);e(da.LOV_SQL,fa.META_DATA)}a.inArray(c.typeId,[ca.REGION,ca.PAGE_ITEM,ca.BUTTON])!==-1&&a.inArray(n,[da.PARENT_REGION,da.REGION,da.REGION_POSITION,da.BUTTON_POSITION,da.GRID_COLUMN,da.GRID_COLUMN_SPAN])!==-1&&(e(da.GRID_COLUMN,fa.META_DATA),e(da.GRID_COLUMN_SPAN,fa.META_DATA),e(da.GRID_LABEL_COLUMN_SPAN,fa.META_DATA))}if(g(fa.ERRORS,fa.NO_ERRORS,"errors"),g(fa.WARNINGS,fa.NO_WARNINGS,"warnings"),i.properties[n].refByChilds.length>0&&(j._value!==b._properties[n]._value||j._columns.length>0))for(var o=0;o<i.properties[n].refByChilds.length;o++)i.properties[n].refByChilds[o].typeId===c.typeId&&(k=i.properties[n].refByChilds[o].id,e(k,fa.META_DATA))}else m.push(fa.ADD_PROP),j.errors.length>0&&m.push(fa.ERRORS),j.warnings.length>0&&m.push(fa.WARNINGS),c.typeId!==ca.PAGE||n!==da.PAGE_TEMPLATE&&n!==da.DIALOG_TEMPLATE||l.events.push(fa.GRID);m.length>0&&(l.properties[n]=m)}for(var n in b._properties)b._properties.hasOwnProperty(n)&&(c._properties.hasOwnProperty(n)||e(n,fa.REMOVE_PROP));h(fa.ERRORS,fa.NO_ERRORS,"hasErrors"),h(fa.WARNINGS,fa.NO_WARNINGS,"hasWarnings")}return l}function T(b){function c(){var c,d,e,f,g,h,i=za.slice();for(c=0;c<b.length;c++)for(g=b[c],d=0;d<i.length;d++){if(h=i[d].filter,f=!1,h.component)h.component instanceof H?h.component.typeId===g.component.typeId&&h.component.id===g.component.id&&(f=!0):h.component.typeId===g.component.typeId?f=!0:a.inArray(g.component.typeId,h.component.typeIds)!==-1&&(f=!0);else if(h.components){for(e=0;e<h.components.length;e++)if(h.components[e]instanceof H){if(h.components[e].typeId===g.component.typeId&&h.components[e].id===g.component.id){f=!0;break}}else if(h.components[e].typeId===g.component.typeId){f=!0;break}}else f=!0;if(f&&h.properties.length>0)for(f=!1,e=0;e<h.properties.length;e++)if(g.properties.hasOwnProperty(h.properties[e])){f=!0;break}if(f&&h.events.length>0)for(f=!1,e=0;e<h.events.length;e++){if(a.inArray(h.events[e],g.events)!==-1){f=!0;break}for(var j in g.properties)if(g.properties.hasOwnProperty(j)&&a.inArray(h.events[e],g.properties[j])!==-1){f=!0;break}if(f)break}f&&(i[d].sendInBulk?i[d].pendingNotifications.push(g):i[d].callback.call(this,g))}for(var c=0;c<i.length;c++)i[c].sendInBulk&&i[c].pendingNotifications.length>0&&(i[c].callback.call(this,i[c].pendingNotifications),i[c].pendingNotifications=[])}function d(){for(var a=0;a<za.length;a++)za[a].filter.component instanceof H&&za[a].filter.component._status===ha.DELETED&&(za.splice(a,1),a--)}c(),d()}function U(){for(var a in oa)if(oa.hasOwnProperty(a)&&(oa[a].isPageComponent&&ua!==g||a===ca.PAGE&&ua!==g||!oa[a].isPageComponent&&ua===g))for(var b in xa[a])if(xa[a].hasOwnProperty(b)&&xa[a][b].hasChanged())return!0;return!1}function V(a){function b(a,b,e){var f=[da.GRID_NEW_GRID,da.GRID_NEW_ROW,da.GRID_COLUMN,da.GRID_NEW_COLUMN,da.GRID_COLUMN_SPAN,da.GRID_ROW_SPAN,da.GRID_COLUMN_CSS_CLASSES,da.GRID_COLUMN_ATTRIBUTES,da.GRID_LABEL_COLUMN_SPAN,da.LABEL_ALIGNMENT,da.ELEMENT_FIELD_ALIGNMENT,da.READ_ONLY_HTML_ATTRIBUTES];if(d.hasOwnProperty("_grid")){c[e]=[];for(var g=0;g<f.length;g++)b.hasOwnProperty(f[g])&&a[e].push(f[g])}}var c,d,e={},j=!1;for(var k in oa)if(oa.hasOwnProperty(k)&&(oa[k].isPageComponent&&ua!==g||k===ca.PAGE&&ua!==g||!oa[k].isPageComponent&&ua===g))for(var l in xa[k])if(xa[k].hasOwnProperty(l)&&xa[k][l].hasChanged()){if(d=xa[k][l],d.hasErrors()&&d._status!==ha.DELETED)return void a({error:i("SAVE.FIX_ERRORS")});if(e.hasOwnProperty(k)||(e[k]={c:[],u:[],d:[]}),c={id:d.id,parentId:d.parentId,pageId:d.pageId},f.getLevel()!==f.LOG_LEVEL.OFF&&(c.displayTitle=d.getDisplayTitle()),b(c,d._properties,"gridProperties"),d._status===ha.CREATED){c.properties={};for(var m in d._properties)d._properties.hasOwnProperty(m)&&(c.properties[m]=d._properties[m]._value)}else if(d._status===ha.UPDATED){b(c,ya[k][l],"oldGridProperties"),c.properties={};for(var m in d._properties)d._properties.hasOwnProperty(m)&&(ya[k][l].hasOwnProperty(m)?ya[k][l][m]!==d._properties[m]._value&&(c.properties[m]={oldValue:ya[k][l][m],newValue:d._properties[m]._value}):c.properties[m]=d._properties[m]._value)}e[k][d._status].push(c),j=!0}j?(f.trace("saveChanges: modified components %0",e),h("writePageData",{x01:ta,x02:ua,f01:JSON.stringify(e)},{success:function(b){W(b,e,a)},error:function(b,c,d){a({error:d})}})):a({error:"NO_CHANGES"})}function W(a,b,c){function d(a){var b,c,d;d={},b=new H({component:xa[a.typeId][a.id],isDetached:!0});for(var e=0;e<a.errors.length;e++)c=a.errors[e].hasOwnProperty("propertyId")?a.errors[e].propertyId:oa[a.typeId].displayPropertyId,d.hasOwnProperty(c)||(d[c]=[]),d[c].push(a.errors[e].message);l(d,function(b,c){if(!xa[a.typeId][a.id]._properties.hasOwnProperty(b))throw"Error reported for property id "+b+" which doesn't exist for current component!";xa[a.typeId][a.id]._properties[b].errors=c}),xa[a.typeId][a.id]._status===ha.DELETED&&(xa[a.typeId][a.id]._status=ha.UNCHANGED),g.push(S(b,xa[a.typeId][a.id]))}function e(a,b){for(var c,d,e,f=0;f<b.length;f++)c=b[f],d=new H({component:xa[a][c.id],isDetached:!0}),e=new H({typeId:a,component:c,isDetached:!0}),e._setGridProperties(!0),e._copyToGlobal(),X(xa[a][c.id]),g.push(S(d,xa[a][c.id]))}function f(a,b){for(var c=0;c<b.length;c++)xa[a][b[c].id]._status===ha.DELETED&&delete xa[a][b[c].id]}var g=[];a.errors?d(a):(l(a,e),l(b,function(a,b){b.hasOwnProperty(ha.DELETED)&&f(a,b[ha.DELETED])})),T(g),c(a.errors?{error:i("SAVE.FAILED")}:{})}function X(a){function b(b,c){ya[a.typeId][a.id][b]=c._value}ya[a.typeId][a.id]={},l(xa[a.typeId][a.id]._properties,b)}function Y(){function a(a,b){X(b)}l(xa,function(b,c){ya[b]={},l(c,a)})}function Z(b){var c=a.Deferred();return h("lockPage",{x01:ta,x02:ua,x03:b},{success:function(a){xa[ca.PAGE][ua]._lock=a,a.isLockedByCurrentUser?(Ba=!1,c.resolve(a)):(Ba=!U(),c.reject(i("LOCKED.BY_OTHER_USER",a.owner)))}}),c.promise()}function $(){var b=a.Deferred(),c=_();return c?c.isLockedByCurrentUser?h("unlockPage",{x01:ta,x02:ua},{success:function(a){"OK"===a.status?(Ba=!1,xa[ca.PAGE][ua]._lock=!1,b.resolve()):(Ba=!U(),b.reject(a.reason))}}):b.reject("Page not locked by current user!"):b.reject("Page is already unlocked!"),b.promise()}function _(){return xa[ca.PAGE][ua]._lock}function aa(a){for(var b in a)a.hasOwnProperty(b)&&(oa[b].createUrl=a[b].createUrl,oa[b].editUrl=a[b].editUrl,oa[b].copyUrl=a[b].copyUrl)}function ba(a){for(var b in a)if(a.hasOwnProperty(b))for(var c=0;c<a[b].length;c++)new H({typeId:b,component:a[b][c]})}var ca={APPLICATION:"1000",THEME:"2000",PAGE_TEMPLATE:"2510",FIELD_TEMPLATE:"2520",BUTTON_TEMPLATE:"2530",REGION_TEMPLATE:"2540",LIST_TEMPLATE:"2550",BREADCRUMB_TEMPLATE:"2560",CALENDAR_TEMPLATE:"2570",REPORT_TEMPLATE:"2580",APP_ITEM:"3010",APP_COMPUTATION:"3020",APP_PROCESS:"3030",BUILD_OPTION:"3040",AUTHENTICATION:"3050",AUTHORIZATION:"3060",WEB_SRC_MODULE:"3080",WEB_SRC_OPERATION:"3081",WEB_SRC_MOD_PARAM:"3082",WEB_SRC_OPER_PARAM:"3083",WEB_SRC_QUERY:"3083",BREADCRUMB:"3510",LIST:"3520",LOV:"3530",WS_REF:"3540",WS_REF_OPER:"3541",WS_REF_OPER_P_I:"3545",WS_REF_OPER_P_O:"3546",WS_REF_OPER_P_A:"3547",WS_REF_OPER_P_H:"3548",DATA_LOAD_TABLE:"3550",TAB_SET:"3560",PAGE:"5000",REGION:"5110",PAGE_ITEM:"5120",BUTTON:"5130",DA_EVENT:"5140",DA_ACTION:"5150",VALIDATION:"5510",PAGE_COMPUTATION:"5520",PAGE_PROCESS:"5530",BRANCH:"5540",REGION_PLUGIN_ATTR:"7000",IR_ATTRIBUTES:"7010",IR_SAVED_REPORT:"7020",IR_COLUMN_GROUP:"7030",IR_COLUMN:"7040",IR_PRINT_ATTR:"7050",PAGE_PROC_WS_P_I:"7110",PAGE_PROC_WS_P_O:"7120",PAGE_PROC_WS_P_A:"7130",PAGE_WS_PARAM:"7150",REGION_WS_PARAM:"7160",MAP_CHART:"7210",MAP_CHART_SERIES:"7220",CLASSIC_REPORT:"7310",CLASSIC_RPT_COLUMN:"7320",CLASSIC_RPT_PRINT:"7330",TABULAR_FORM:"7410",TAB_FORM_COLUMN:"7420",TAB_FORM_PRINT:"7430",CHART:"7510",CHART_SERIES:"7520",CLASSIC_CALENDAR:"7610",REGION_COLUMN:"7710",JET_CHART:"7810",JET_CHART_SERIES:"7820",JET_CHART_AXES:"7830",JET_CHART_WS_PARAM:"7840",IG_ATTRIBUTES:"7910",IG_SAVED_REPORT:"7920",IG_COLUMN_GROUP:"7930",IG_COLUMN:"7940",IG_PRINT:"7950"},da={NAME:"1",ERROR_MESSAGE:"6",PAGE_GROUP:"9",PAGE_MODE:"10",PAGE_TEMPLATE:"11",STANDARD_TAB_SET:"12",TITLE:"13",AUTHORIZATION_SCHEME:"24",BUILD_OPTION:"38",COMPUTATION_ITEM_NAME:"51",COMPUTATION_TYPE:"52",COMPUTATION_STATIC_VALUE:"53",COMPUTATION_SQL_STATEMENT:"54",COMPUTATION_SQL_EXPRESSION:"55",COMPUTATION_PLSQL_EXPRESSION:"56",COMPUTATION_PLSQL_FUNCTION_BODY:"57",COMPUTATION_ITEM_VALUE:"58",COMPUTATION_PREFERENCE_VALUE:"59",EXECUTION_SEQUENCE:"60",COMPUTATION_POINT:"61",EVENT:"62",CUSTOM_EVENT:"63",WHEN_TYPE:"64",WHEN_REGION:"65",WHEN_BUTTON:"66",WHEN_ITEMS:"67",WHEN_DOM_OBJECT:"68",WHEN_JQUERY_SELECTOR:"69",JS_CONDITION:"70",DA_ACTION_TYPE:"82",FIRE_WHEN_EVENT_RESULT_IS:"83",FIRE_ON_PAGE_LOAD:"84",AFFECTED_TYPE:"85",AFFECTED_REGION:"86",AFFECTED_BUTTON:"87",AFFECTED_ITEMS:"88",AFFECTED_DOM_OBJECT:"89",AFFECTED_JQUERY_SELECTOR:"90",ITEM_TYPE:"93",REGION_TYPE:"94",PAGE_PROCESS_TYPE:"95",ITEM_NAME:"96",DISPLAY_SEQUENCE:"97",REGION:"98",ITEM_LABEL:"99",LABEL_ALIGNMENT:"100",FIELD_TEMPLATE:"101",VALUE_REQUIRED:"103",GRID_NEW_GRID:"104",GRID_NEW_ROW:"105",GRID_COLUMN:"106",GRID_NEW_COLUMN:"107",GRID_COLUMN_SPAN:"108",GRID_ROW_SPAN:"109",GRID_COLUMN_ATTRIBUTES:"110",FORMAT_MASK:"111",LOV_SQL:"122",ELEMENT_FIELD_ALIGNMENT:"123",ELEMENT_MAX_CHARACTERS:"125",ELEMENT_HEIGHT:"126",CUSTOM_ATTRIBUTES:"129",SOURCE_USED:"133",SOURCE_TYPE:"134",SOURCE_DB_COLUMN:"141",READ_ONLY_HTML_ATTRIBUTES:"171",BUTTON_NAME:"176",BUTTON_LABEL:"177",BUTTON_POSITION:"178",ALIGNMENT:"179",BUTTON_TEMPLATE:"182",BUTTON_IS_HOT:"183",BUTTON_TARGET:"187",PARENT_REGION:"190",REGION_POSITION:"191",PROCESS_POINT:"192",REGION_SQL:"193",REGION_PLUGIN_PLAIN:"194",PLSQL_CODE:"198",REGION_HTML_CODE:"214",REGION_TEMPLATE:"217",ITEM_DISPLAY_POSITION:"218",REGION_DISPLAY_SELECTOR:"219",REGION_FUNCTION_RETURNING_SQL:"225",BRANCH_TYPE:"226",BRANCH_POINT:"227",TARGET:"228",BRANCH_PAGE_NUMBER:"229",BRANCH_ITEM:"230",WHEN_BUTTON_PRESSED:"234",ALWAYS_EXECUTE:"245",ASSOCIATED_ITEM:"247",ASSOCIATED_COLUMN:"248",EXECUTE_CONDITION:"250",VALIDATION_REGION:"251",BUTTON_ACTION:"252",USER_INTERFACE:"253",DIALOG_TEMPLATE:"254",OVERWRITE_NAVIGATION_LIST:"255",NAVIGATION_LIST:"256",NAVIGATION_LIST_TEMPLATE:"257",COLUMN_NAME:"267",COLUMN_TYPE:"268",IR_COLUMN_DISPLAY_TYPE:"271",COLUMN_HEADING:"272",HEADING_ALIGNMENT:"275",COLUMN_ALIGNMENT:"276",ALLOW_USERS_TO_HIDE:"277",ALLOW_USERS_TO_SORT:"278",ALLOW_USERS_TO_FILTER:"279",ALLOW_USERS_TO_HIGHLIGHT:"280",ALLOW_USERS_TO_CONTROL_BREAK:"281",ALLOW_USERS_TO_AGGREGATE:"282",ALLOW_USERS_TO_COMPUTE:"283",ALLOW_USERS_TO_CHART:"284",ALLOW_USERS_TO_GROUP_BY:"285",IR_COLUMN_FILTER_TYPE:"286",HTML_EXPRESSION:"289",LINK_TEXT:"290",WHEN_NO_DATA_FOUND_MESSAGE:"297",DOWNLOAD_FORMATS:"308",LINK_ICON:"319",SHOW_DOWNLOAD:"352",PROCESS_REGION:"370",DA_EVENT:"371",LOV_TYPE:"373",TZ_DEPENDENT:"375",CHART_TITLE:"380",ALLOW_USERS_TO_PIVOT:"383",HAS_GENERIC_COLUMNS:"390",GENERIC_COLUMN_COUNT:"391",CLASSIC_REPORT_COLUMN_TYPE:"398",COLUMN_SORT_SEQUENCE:"406",DISABLE_SORT_COLUMN:"408",INCLUDE_IN_EXPORT_PRINT:"409",HEADINGS_TYPE:"427",HEADING_TYPE_PLSQL_FUNCTION_BODY:"428",NUMBER_OF_ROWS_TYPE:"433",NUMBER_OF_ROWS:"434",NUMBER_OF_ROWS_ITEM:"435",TAB_FORM_COLUMN_TYPE:"452",BRANCH_ACCEPT_REQUEST:"465",QUERY_COLUMN_ID:"466",DERIVED_COLUMN:"467",MAP_SERIES_SOURCE_TYPE:"469",MAP_SOURCE_QUERY:"470",
MAP_SOURCE_FUNC_RETURNING_SQL:"471",CHART_TYPE:"473",SERIES_CHART_TYPE:"474",PROJECT_GANTT_SERIES_SOURCE_TYPE:"475",PROJECT_GANTT_SOURCE_QUERY:"476",PROJECT_GANTT_SOURCE_FUNC_RETURNING_SQL:"477",RESOURCE_GANTT_SERIES_SOURCE_TYPE:"478",RESOURCE_GANTT_SOURCE_QUERY:"479",RESOURCE_GANTT_SOURCE_FUNC_RETURNING_SQL:"480",PIE_DOUGHNUT_SERIES_SOURCE_TYPE:"481",PIE_DOUGHNUT_SOURCE_QUERY:"482",PIE_DOUGHNUT_SOURCE_FUNC_RETURNING_SQL:"483",DIAL_SERIES_SOURCE_TYPE:"484",DIAL_SOURCE_QUERY:"485",DIAL_SOURCE_FUNC_RETURNING_SQL:"486",SCATTER_SERIES_SOURCE_TYPE:"487",SCATTER_SOURCE_QUERY:"488",SCATTER_SOURCE_FUNC_RETURNING_SQL:"489",RANGE_SERIES_SOURCE_TYPE:"490",RANGE_SOURCE_QUERY:"491",RANGE_SOURCE_FUNC_RETURNING_SQL:"492",CANDLESTICK_SERIES_SOURCE_TYPE:"493",CANDLESTICK_SOURCE_QUERY:"494",CANDLESTICK_SOURCE_FUNC_RETURNING_SQL:"495",LINE_COL_BAR_STK_SERIES_SOURCE_TYPE:"496",LINE_COL_BAR_STK_SOURCE_QUERY:"497",LINE_COL_BAR_STK_SOURCE_FUNC_RETURNING_SQL:"498",SERIES_TYPE:"499",USE_CUSTOM_XML:"534",CUSTOM_XML:"535",PRINT_PAGE_SIZE:"700",PRINT_ORIENTATION:"701",PRINT_UNITS:"702",PRINT_WIDTH:"703",PRINT_HEIGHT:"704",ENABLE_PRINTING:"729",PLUGIN_ATTR_REGION_TYPE:"737",HIDDEN_REGION_TYPE:"737",IS_VISIBLE:"738",COMPUTATION_SQL_COLON:"744",PARAMETER_ID:"753",PAGE_NAVIGATION_TYPE:"754",AFFECTED_JAVASCRIPT_EXPRESSION:"755",WHEN_JAVASCRIPT_EXPRESSION:"756",NAVIGATION_LIST_POSITION:"757",LOV_FUNC_BODY_RETURNING_SQL:"759",GRID_LABEL_COLUMN_SPAN:"760",GRID_COLUMN_CSS_CLASSES:"763",JS_COND_VALUE:"766",JS_COND_LIST:"767",MASTER_REGION:"769",IS_EDITABLE:"770",ENABLE_DOWNLOAD:"791",IG_DOWNLOAD_FORMATS:"792",ALTERNATIVE_LABEL:"804",FILTER_LOV_TYPE:"811",IG_COLUMN_SOURCE_TYPE:"815",DATA_TYPE:"818",IS_PRIMARY_KEY:"820",MASTER_COLUMN:"821",ENABLE_SORT_GROUP:"822",EXECUTE_READONLY:"828",JET_CHART_TYPE:"829",JET_SERIES_TYPE_COMBO:"864",DATA_SOURCE_TYPE:"866",DATA_SOURCE_QUERY:"867",DATA_SOURCE_FUNC_RETURN_SQL:"868",JET_SERIES_TYPE_RANGE:"934",JET_SERIES_TYPE_POLAR:"936",JET_SERIES_TYPE_RADAR:"937",JET_SERIES_TYPE_COLUMN_MAPPING:"932",ASSIGNED_TO_Y2:"907",FILTER_DATA_TYPE:"938",PLUGIN_INIT_JAVASCRIPT_CODE:"943",WHEN_COLUMNS:"944",JS_CONDITION_ELEMENT_TYPE:"945",JS_CONDITION_ITEM_WHEN_IG:"946",JS_CONDITION_COLUMN_WHEN_IG:"947",AFFECTED_COLUMNS:"948",IG_REGION:"949",JS_CONDITION_ITEM:"950",JS_CONDITION_WHEN_IG:"951",JS_COND_VALUE_WHEN_IG:"952",JS_COND_LIST_WHEN_IG:"953",SOURCE_LOCATION:"957",SOURCE_REMOTE_DATABASE:"958",SOURCE_QUERY_TYPE:"959",SOURCE_QUERY_OWNER:"960",SOURCE_QUERY_TABLE:"961",SOURCE_QUERY_WHERE:"962",SOURCE_QUERY_ORDER_BY:"963",SOURCE_SQL_QUERY:"964",SOURCE_WEB_SRC_QUERY:"967",SOURCE_QUERY_PLSQL_FUNCTION_BODY:"968",JET_SERIES_TYPE_BOX_PLOT:"973",OPTIMIZER_HINT:"975",SOURCE_INCLUDE_ROWID_COLUMN:"978",DIRECTION:"998",IS_STATIC:"1000",PARAMETER_REQUIRED:"1001",PARAMETER_VALUE:"1002",DATABASE_OPERATION:"1003",WEB_SRC_PARAM:"1004",VALUE_TYPE:"1005",VALUE_STATIC_VALUE:"1006",PLSQL_PROCESS_LOCATION:"1014",CHART_SOURCE_LOCATION:"1032",SOURCE_POST_PROCESSING:"1034",POST_PROC_WHERE:"1035",POST_PROC_ORDER_BY:"1036",POST_PROC_SQL_QUERY:"1041",POST_PROC_PLSQL_FUNCTION_BODY:"1042",VALIDATION_TYPE:"4960",VAL_SQL_STATEMENT:"4961",VAL_SQL_EXPRESSION:"4962",VAL_PLSQL_EXPRESSION:"4963",VAL_PLSQL_FUNCTION_BODY_BOOLEAN:"4964",VAL_PLSQL_FUNCTION_BODY_VARCHAR2:"4965",VAL_PLSQL:"4966",VAL_ITEM:"4967",VAL_VALUE:"4968",VAL_REGULAR_EXPRESSION:"4969",REGION_VALIDATION_TYPE:"4980",REGION_VAL_SQL_STATEMENT:"4981",REGION_VAL_SQL_EXPRESSION:"4982",REGION_VAL_PLSQL_EXPRESSION:"4983",REGION_VAL_PLSQL_FUNCTION_BODY_BOOLEAN:"4984",REGION_VAL_PLSQL_FUNCTION_BODY_VARCHAR2:"4985",REGION_VAL_PLSQL:"4986",REGION_VAL_COLUMN:"4987",REGION_VAL_VALUE:"4988",REGION_VAL_REGULAR_EXPRESSION:"4989",READ_ONLY_TYPE:"5050",CONDITION_TYPE:"5100",CONDITION_SQL_STATEMENT:"5101",CONDITION_SQL_EXPRESSION:"5102",CONDITION_PLSQL_EXPRESSION:"5103",CONDITION_PLSQL_FUNCTION_BODY:"5104",CONDITION_VALUE1:"5105",CONDITION_ITEM1:"5106",CONDITION_LIST:"5107",CONDITION_PREFERENCE:"5108",CONDITION_PAGE:"5109",CONDITION_PAGES:"5110",CONDITION_TEXT:"5111",CONDITION_VALUE2:"5112",CONDITION_ITEM2:"5113",CONDITION_TEXT2:"5114",FORM_FETCH_TABLE_NAME:"361800327927635543",FORM_PROCESS_TABLE_NAME:"723641536018615468"},ea=[da.POST_PROC_SQL_QUERY,da.POST_PROC_PLSQL_FUNCTION_BODY,da.SOURCE_QUERY_TABLE,da.SOURCE_SQL_QUERY,da.SOURCE_WEB_SRC_QUERY,da.SOURCE_QUERY_PLSQL_FUNCTION_BODY,da.REGION_SQL,da.REGION_FUNCTION_RETURNING_SQL],fa={CREATE:"create",CHANGE:"change",DELETE:"delete",ERRORS:"errors",NO_ERRORS:"no_errors",WARNINGS:"warnings",NO_WARNINGS:"no_warnings",ADD_PROP:"add_property",REMOVE_PROP:"remove_property",META_DATA:"meta_data",GRID:"grid",DISPLAY_TITLE:"display_title"},ga={CREATED:"created",CHANGED:"changed",REMOVED:"removed",VALIDATE:"validate"},ha={CREATED:"c",UPDATED:"u",DELETED:"d",UNCHANGED:""},ia={DESKTOP:"DESKTOP",JQM_SMARTPHONE:"JQM_SMARTPHONE"},ja={COMPONENT:"COMPONENT",COMBOBOX:"COMBOBOX",COLOR:"COLOR",CHECKBOXES:"CHECKBOXES",CSS:"CSS",JAVASCRIPT:"JAVASCRIPT",HTML:"HTML",ICON:"ICON",INTEGER:"INTEGER",LINK:"LINK",NUMBER:"NUMBER",ITEM:"ITEM",PAGE:"PAGE",PLSQL:"PLSQL",PLSQL_EXPR_VARCHAR:"PLSQL EXPRESSION VARCHAR2",PLSQL_EXPR_BOOLEAN:"PLSQL EXPRESSION BOOLEAN",PLSQL_FUNC_VARCHAR:"PLSQL FUNCTION BODY VARCHAR2",PLSQL_FUNC_BOOLEAN:"PLSQL FUNCTION BODY BOOLEAN",PLSQL_FUNC_SQL:"PLSQL FUNCTION BODY SQL",SELECT_LIST:"SELECT LIST",SQL:"SQL",SQL_EXPR:"SQL EXPRESSION",SQL_EXPR_BOOLEAN:"SQL EXPRESSION BOOLEAN",SUBSCRIPTION:"SUBSCRIPTION",TEXT:"TEXT",TEXTAREA:"TEXTAREA",TEXT_EDITOR:"TEXT EDITOR",SUPPORTED_UI:"SUPPORTED UI",YES_NO:"YES NO",OWNER:"OWNER",TABLE:"TABLE",COLUMN:"COLUMN",REGION_COLUMN:"REGION COLUMN",WHERE_CLAUSE:"WHERE CLAUSE",ORDER_BY_CLAUSE:"ORDER BY CLAUSE",TEMPLATE_OPTIONS:"TEMPLATE OPTIONS"},ka={CHANGE:"CHANGE_ATTRIBUTE",CREATE:"CREATE",DELETE:"DELETE",DUPLICATE:"DUPLICATE",MOVE:"MOVE"},la={};la[da.SOURCE_LOCATION]="SOURCE_LOCATION",la[da.SOURCE_QUERY_TABLE]="SOURCE_LOCATION",la[da.SOURCE_SQL_QUERY]="SOURCE_LOCATION",la[da.SOURCE_QUERY_PLSQL_FUNCTION_BODY]="SOURCE_LOCATION",la[da.SOURCE_WEB_SRC_QUERY]="SOURCE_LOCATION",la[da.POST_PROC_SQL_QUERY]="SOURCE_LOCATION",la[da.POST_PROC_PLSQL_FUNCTION_BODY]="SOURCE_LOCATION",la[da.REGION_SQL]="SOURCE_SQL",la[da.PLSQL_CODE]="SOURCE_PLSQL",la[da.REGION_HTML_CODE]="SOURCE_HTML",la[da.REGION_PLUGIN_PLAIN]="SOURCE_PLAIN",la[da.REGION_FUNCTION_RETURNING_SQL]="SOURCE_PLSQL_FUNCTION",la[da.LOV_TYPE]="LOV",la[da.LOV_SQL]="LOV",la[da.LOV_FUNC_BODY_RETURNING_SQL]="LOV",la[da.PLUGIN_INIT_JAVASCRIPT_CODE]="INIT_JAVASCRIPT_CODE",la[da.AFFECTED_TYPE]="REQUIRED",la[da.PROCESS_REGION]="REGION_REQUIRED";var ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa="1.1",xa={},ya={},za=[],Aa={isInternal:!1,isReadOnly:!1},Ba=!0;G.prototype._setDynamicProperties=function(){var b,c,d=oa[this.component.typeId].pluginType;d&&this.component._properties.hasOwnProperty(d.typePropertyId)&&(b=d.plugins[this.component._properties[d.typePropertyId]._value],b&&la.hasOwnProperty(this.id)&&(c=la[this.id],a.inArray(this.id,d.requiredProperties)!==-1&&(this.id===da.AFFECTED_TYPE||this.id===da.PROCESS_REGION?this._isRequired=a.inArray(c,b.features)!==-1:this._isRequired=b.stdAttributes&&b.stdAttributes.hasOwnProperty(c)&&b.stdAttributes[c].isRequired),b.stdAttributes&&b.stdAttributes.hasOwnProperty(c)&&this.id!==da.LOV_TYPE&&(this._isRequired||b.stdAttributes[c].defaultValue?this._defaultValue=b.stdAttributes[c].defaultValue:this._defaultValue="",this._sqlMinColumns=b.stdAttributes[c].sqlMinColumns,this._sqlMaxColumns=b.stdAttributes[c].sqlMaxColumns,this._examples=b.stdAttributes[c].examples,this._helpText=b.stdAttributes[c].helpText)))},G.prototype._setDynamicDefaultValue=function(){var b,c=oa[this.component.typeId].pluginType;c&&this.component._properties.hasOwnProperty(c.typePropertyId)&&(b=c.plugins[this.component._properties[c.typePropertyId]._value],b&&this.component.typeId===ca.DA_ACTION&&(this.id===da.AFFECTED_TYPE?""!==this._value&&a.inArray(this._value,b.features)===-1&&(this._value=""):this.id===da.FIRE_ON_PAGE_LOAD&&(a.inArray("ONLOAD",b.features)!==-1?this._value="Y":this._value="N")))},G.prototype._isVisible=function(){var b,c,d,e,f,g=na[this.id],h=this.component,i=oa[h.typeId].properties[this.id];if(g.hasOwnProperty("deprecatedValues")&&"$NOT_NULL$"!==g.deprecatedValues[0]&&a.inArray(this._value,g.deprecatedValues)===-1||a.inArray(h._uiType,g.uiTypes)===-1||g.componentTypes&&g.componentTypes.length>0&&a.inArray(h.typeId,g.componentTypes)===-1||g.isInternal&&!Aa.isInternal)b=!1;else if(g.hasOwnProperty("deprecatedValues")&&"$NOT_NULL$"===g.deprecatedValues[0]&&""===this._value)b=!1;else if(0===i.dependingOn.length)b=!0;else for(f=0;f<i.dependingOn.length;f++){if(c=i.dependingOn[f],h._properties.hasOwnProperty(c.id))if(d=h._properties[c.id]._value,"CHECKBOXES"===na[c.id].type)switch(e=""===d?[]:d.split(":"),c.type){case"EQUALS":b=a.inArray(c.expression,e)!==-1;break;case"NOT_EQUALS":b=a.inArray(c.expression,e)===-1;break;case"NULL":b=0===e.length;break;case"NOT_NULL":b=e.length>0;break;case"IN_LIST":b=!1,a.each(e,function(d,e){if(b=a.inArray(""===e?"$NULL$":e,c.values)!==-1)return!1});break;case"NOT_IN_LIST":b=!0,a.each(e,function(d,e){if(b=a.inArray(e,c.values)===-1,!b)return!1})}else if("IN_LIST_LIKE"===c.type)b=!1,a.each(c.values,function(a,c){if(b=0===d.search(c))return!1});else if("NOT_IN_LIST_LIKE"===c.type)b=!0,a.each(c.values,function(a,c){if(b=d.search(c)===-1,!b)return!1});else switch(c.type){case"EQUALS":b=d===c.expression;break;case"NOT_EQUALS":b=d!==c.expression;break;case"NULL":b=""===d;break;case"NOT_NULL":b=""!==d;break;case"IN_LIST":b=a.inArray(""===d?"$NULL$":d,c.values)!==-1;break;case"NOT_IN_LIST":b=a.inArray(d,c.values)===-1}else b=c.hasToExist===!1;if(!b)break}return b},G.prototype.getValue=function(){return this._value},G.prototype.getDisplayValue=function(){var a,b,c,d=na[this.id],e=oa[this.component.typeId].properties[this.id],f=this._value,g=[];if(""!==f){if(d.type===ja.YES_NO)return i(f===d.yesValue?"LOV.YES":"LOV.NO");if(d.type===ja.SUPPORTED_UI){if("PLUGINS"===d.lovType){if(oa[this.component.typeId].pluginType.plugins.hasOwnProperty(f))return k("POSTFIX.UNSUPPORTED",oa[this.component.typeId].pluginType.plugins[f].title,!z(this.component,oa[this.component.typeId].pluginType.plugins[f].uiTypes,oa[this.component.typeId].pluginType.plugins[f].componentTypes))}else if("EVENTS"===d.lovType&&qa.lookupMap.hasOwnProperty(f))return k("POSTFIX.UNSUPPORTED",qa.lookupMap[f].d,!z(this.component,qa.lookupMap[f].uiTypes))}else if("COMPONENT"===d.lovType){if(d.lovComponentTypeId===ca.BUILD_OPTION||d.lovComponentTypeId===ca.AUTHORIZATION){if("MUST_NOT_BE_PUBLIC_USER"===f)return i("LOV.MUST_NOT_BE_PUBLIC_USER");if(/^(!|-)/.test(f)&&(f=f.substr(1),xa[d.lovComponentTypeId].hasOwnProperty(f)))return j("LOV.NOT_W_ARGUMENT",xa[d.lovComponentTypeId][f].getDisplayTitle())}if(xa[d.lovComponentTypeId].hasOwnProperty(f))return xa[d.lovComponentTypeId][f].getDisplayTitle()}else{if("STATIC"!==d.lovType){if("REGION_POSITIONS"===d.lovType||"BUTTON_POSITIONS"===d.lovType)return a="REGION_POSITIONS"===d.lovType?u().displayPointsMap:v(this.component.getProperty(da.REGION).getValue()).displayPointsMap,a.hasOwnProperty(f)?a[f].name:j("LOV.UNKNOWN_LOOKUP",f);if("TEMPLATE_OPTIONS"===d.lovType){b=x(this).valuesMap,c=f.split(":");for(var h=0;h<c.length;h++)b.hasOwnProperty(c[h])?g.push(b[c[h]].d):g.push(j("LOV.UNKNOWN_LOOKUP",c[h]));return g.join(", ")}return f}if(d.lovValuesMap.hasOwnProperty(f))return d.lovValues[d.lovValuesMap[f]].d}return j("LOV.UNKNOWN_LOOKUP",f)}return e.nullText?e.nullText:f},G.prototype.getMetaData=function(){function a(a,c,d,f){var g;return!(b.component.typeId!==a||(g=b.component.getProperty(c),!g||""===g.getValue()))&&!(e.dependingOn.length>0&&e.dependingOn[0].id===d&&"N"===b.component.getProperty(f).getValue())}var b=this,c=na[this.id],d=oa[this.component.typeId],e=d.properties[this.id],f=e.referenceScope,g=this.component.isReadOnly()||this._isReadOnly;return"DEPENDS"===f&&(f=a(ca.VALIDATION,da.VALIDATION_REGION,da.CONDITION_TYPE,da.EXECUTE_CONDITION)||a(ca.PAGE_PROCESS,da.PROCESS_REGION,da.CONDITION_TYPE,da.EXECUTE_CONDITION)||a(ca.IG_COLUMN,da.READ_ONLY_TYPE,da.READ_ONLY_TYPE,da.EXECUTE_READONLY)||b.component.typeId===ca.DA_ACTION&&""!==b.component.getProperty(da.IG_REGION).getValue()?"ROW":"COMPONENT"),this.component.typeId!==ca.CLASSIC_RPT_COLUMN&&this.component.typeId!==ca.TAB_FORM_COLUMN||this.id!==da.DISPLAY_SEQUENCE?this.id===da.PAGE_MODE&&""===t().defaultTemplates.dialog&&(g=!0):g=!0,{type:c.type,multiValueDelimiter:c.multiValueDelimiter,prompt:c.prompt,unit:c.unit,displayLen:c.displayLen,maxLen:c.maxLen,textCase:c.textCase,displayGroupId:c.displayGroupId,yesValue:c.yesValue,noValue:c.noValue,isDeprecated:c.hasOwnProperty("deprecatedValues"),lovComponentScope:c.lovComponentScope,lovComponentTypeId:c.lovComponentTypeId,helpText:function(){return b._getHelpText()},displaySeq:e.displaySeq,isCommon:e.isCommon,isUnique:e.hasOwnProperty("checkUniqueness"),referenceScope:f,defaultValue:e.defaultValue,supportsSubstitution:e.supportsSubstitution,isReadOnly:g,isRequired:this._isRequired,lovValues:function(a,c){return b._getLovValues(a,c)},quickPicks:function(){return b._getQuickPicks(f)},nullText:e.nullText,parentProperty:e.parentProperty,isCustomPluginAttribute:c.isCustomPluginAttribute}},G.prototype._getLovValues=function(b,c){function d(a,b){for(var c=0;c<a.length;c++)R.push({r:b+a[c].id,d:j("LOV.NOT_W_ARGUMENT",a[c].getDisplayTitle())})}function e(a){for(var b,c=[],d=0;d<a.length;d++)b=z(H.component,a[d].uiTypes),c.push({r:a[d].r,d:k("POSTFIX.UNSUPPORTED",a[d].d,!b),isQuickPick:!!b&&a[d].isQuickPick,isSupported:b,isLegacy:!1});return c}function f(a){function b(a,c,d){c.sort(function(a,b){return a.d.localeCompare(b.d)});for(var e=0;e<c.length;e++)H.id===da.PARENT_REGION&&c[e].r===H.component.id||H.id===da.MASTER_REGION&&c[e].r===H.component.id||(a.push({r:c[e].r,d:d+c[e].d}),f.hasOwnProperty(c[e].r)&&b(a,f[c[e].r],d+".."))}for(var c,d,e={},f={"":[]},g=[],h=0;h<a.length;h++)c=a[h].getProperty(da.PARENT_REGION).getValue(),d=a[h].isOnGlobalPage()&&""===c?"global":c,f.hasOwnProperty(d)||(f[d]=[]),f[d].push({r:a[h].id,d:a[h].getDisplayTitle()}),e[a[h].id]=!0;for(d in f)f.hasOwnProperty(d)&&""!==d&&"global"!==d&&!e.hasOwnProperty(d)&&(f[""]=f[""].concat(f[d]));return b(g,f[""],""),f.hasOwnProperty("global")&&b(g,f.global,""),g}var m,n,o,p,q,r,s,w,A,B,C,D,F,G,H=this,I=na[this.id],K=oa[this.component.typeId],L=K.properties[this.id],M={},P=1,Q={},R=[],S=[];if(I.type===ja.SUPPORTED_UI)"PLUGINS"===I.lovType?(l(K.pluginType.plugins,function(a,b){H._value!==a&&b.isDeprecated||(r=z(H.component,b.uiTypes,b.componentTypes),B={r:a,d:k("POSTFIX.UNSUPPORTED",b.title,!r),isSupported:r,isLegacy:b.isLegacy},b.category!==g?(Q.hasOwnProperty(b.category)||(Q[b.category]=R.length,R.push({group:pa[b.category],values:[]})),R[Q[b.category]].values.push(B)):R.push(B))}),l(Q,function(a,b){R[b].values.sort(function(a,b){return a.d.localeCompare(b.d)})}),R.sort(function(a,b){var c=a.hasOwnProperty("d")?"d":"group",d=b.hasOwnProperty("d")?"d":"group";return a[c].localeCompare(b[d])})):"EVENTS"===I.lovType&&(R.push({group:i("LOV.BROWSER_EVENTS"),values:e(qa.browser)}),R.push({group:i("LOV.APEX_EVENTS"),values:e(qa.apex)}),qa.component.length>0&&R.push({group:i("LOV.COMPONENT_EVENTS"),values:e(qa.component)}),R.push({group:i("LOV.CUSTOM_EVENT"),values:e(qa.custom)}));else if(I.type===ja.OWNER)R=sa.schemas;else{if(I.type===ja.TABLE)return void h("getDbObjects",{x01:c.type,x02:H.component._properties[L.parentProperty.id]._value,x03:"N",x04:H.component._properties.hasOwnProperty(da.SOURCE_REMOTE_DATABASE)?H.component._properties[da.SOURCE_REMOTE_DATABASE]._value:""},{success:b});if(I.type===ja.COLUMN||I.type===ja.REGION_COLUMN){q=this._getAvailableColumns(!0);for(var T=0;T<q.length;T++)y(q[T].type,I.dataTypes)?R.push({r:q[T].name,d:q[T].name}):"ROWID"!==q[T].name&&q[T].type&&S.push({r:q[T].name,d:q[T].name+" ("+q[T].type.toLowerCase()+")"});'"'===H._value.substr(0,1)&&R.push({r:H._value,d:i("LOV.ABSOLUTE_COLUMN_NO",H._value.substr(1,1))}),S.length>0&&R.push({group:i("LOV.COLUMN_WRONG_DATA_TYPE"),values:S})}else if(I.type===ja.ITEM){if("COLUMN"!==I.lovComponentScope&&a.inArray(this.component.typeId,[ca.IG_COLUMN,ca.DA_ACTION,ca.VALIDATION,ca.PAGE_PROCESS])===-1)return void N(c,b);L.parentProperty?C=this.component._properties[L.parentProperty.id]._value:this.component.typeId===ca.IG_COLUMN?C=this.component.parentId:(this.component.typeId===ca.DA_ACTION?D=da.IG_REGION:this.component.typeId===ca.VALIDATION?D=da.VALIDATION_REGION:this.component.typeId===ca.PAGE_PROCESS&&(D=da.PROCESS_REGION),C=this.component.getProperty(D).getValue()),R=E(C)}else{if(I.type===ja.PAGE)return void O(c,b);if(I.lovType)if("COMPONENT"===I.lovType)if("PARENT"===I.lovComponentScope?M={parentId:H.component.parentId,excludeGlobalPage:!0}:"PAGE"===I.lovComponentScope?M={excludeGlobalPage:!0}:"PAGE_AND_GLOBAL"===I.lovComponentScope?M={}:"THEME"===I.lovComponentScope&&(M={parentId:t().id},I.id!==da.PAGE_TEMPLATE&&I.id!==da.DIALOG_TEMPLATE||!L.parentProperty||L.parentProperty.id!==da.PAGE_MODE||(F=a.inArray(H.component._properties[da.PAGE_MODE]._value,["MODAL","NON_MODAL"])!==-1,G=t().templates[ca.PAGE_TEMPLATE],M.filterFunction=function(){return G[this.id].isDialog===F})),I.id!==da.VALIDATION_REGION&&I.id!==da.PROCESS_REGION||(M.filterFunction=function(){var a=this.getProperty(da.REGION_TYPE).getValue();return"NATIVE_TABFORM"===a||"NATIVE_IG"===a&&this.getChilds(ca.IG_ATTRIBUTES,{properties:[{id:da.IS_EDITABLE,value:"Y"}]}).length>0}),I.id===da.MASTER_REGION&&(M.properties=[{id:da.REGION_TYPE,value:"NATIVE_IG"}]),I.id===da.MASTER_COLUMN&&(M.parentId=H.component.getParent().getProperty(da.MASTER_REGION).getValue(),M.properties=[{id:da.IG_COLUMN_SOURCE_TYPE,value:"DB_COLUMN"},{id:da.DATA_TYPE,value:new RegExp("(VARCHAR2|NUMBER|DATE|TIMESTAMP)")}]),m=J(I.lovComponentTypeId,M,!1),I.lovComponentTypeId===ca.REGION)R=f(m);else{for(var T=0;T<m.length;T++)m[T].typeId===this.component.typeId&&m[T].id===this.component.id||R.push({r:m[T].id,d:m[T].getDisplayTitle()});R.sort(function(a,b){return a.d.localeCompare(b.d)}),I.lovComponentTypeId===ca.BUILD_OPTION?d(m,"-"):I.lovComponentTypeId===ca.AUTHORIZATION&&(R.push({r:"MUST_NOT_BE_PUBLIC_USER",d:i("LOV.MUST_NOT_BE_PUBLIC_USER")}),d(m,"!"))}else if("STATIC"===I.lovType)if(H.id===da.AFFECTED_TYPE){p=K.pluginType.plugins[H.component.getProperty(da.DA_ACTION_TYPE).getValue()].features,"DOM_OBJECT"===H._value&&p.push("DOM_OBJECT");for(var T=0;T<I.lovValues.length;T++)a.inArray(I.lovValues[T].r,p)!==-1&&R.push(I.lovValues[T])}else for(var T=0;T<I.lovValues.length;T++)I.lovValues[T].isDeprecated&&H._value!==I.lovValues[T].r||I.lovValues[T].isInternal&&!Aa.isInternal||R.push(I.lovValues[T]);else if("REGION_POSITIONS"===I.lovType||"BUTTON_POSITIONS"===I.lovType){"REGION_POSITIONS"===I.lovType?(n=u().displayPoints,o="REGION"):(C=this.component.getProperty(da.REGION).getValue(),o="BUTTON",n=""!==C?v(C).displayPoints:[]);for(var T=0;T<n.length;T++)a.inArray(o,n[T].types)===-1||"BUTTON"===n[T].types[0]&&"RIGHT_OF_IR_SEARCH_BAR"===n[T].id&&""!==C&&"NATIVE_IR"!==J(ca.REGION,{id:C})[0].getProperty(da.REGION_TYPE).getValue()||R.push({r:n[T].id,d:n[T].name,isDeprecated:n[T].isDeprecated})}else if("GRID_COLUMNS"===I.lovType){A=H.component._grid.maxColumns,H.id!==da.GRID_COLUMN_SPAN&&H.id!==da.GRID_LABEL_COLUMN_SPAN||(s=parseInt(H.component._properties[da.GRID_COLUMN].getValue(),10),s>0&&(A-=s-1),H.id===da.GRID_LABEL_COLUMN_SPAN&&(w=parseInt(H.component._properties[da.GRID_COLUMN_SPAN].getValue(),10),w>0&&(A=w),P=0,A-=1));for(var T=P;T<=A;T++)R.push({r:T+"",d:T+""})}else if(I.lovType.indexOf("FORMAT_MASKS")!==-1)"DATE_FORMAT_MASKS"===I.lovType?R=ra.dates:"NUMBER_FORMAT_MASKS"===I.lovType?R=ra.numbers:"CHART_FORMAT_MASKS"===I.lovType?R=ra.chart:(R=ra.dates,ra.since&&(R=R.concat(ra.since)),R=R.concat(ra.numbers));else{if("DISTINCT"===I.lovType)return void h("getDistinctValues",{x01:this.component.typeId,x02:this.id},{success:function(a){function c(a){var b;if(""!==a)if(na[H.id].multiValueDelimiter){b=a.split(na[H.id].multiValueDelimiter);for(var c=0;c<b.length;c++)e[b[c]]=""}else e[a]=""}for(var d=J(H.component.typeId,{}),e={},f=0;f<d.length;f++)d[f]._properties.hasOwnProperty(H.id)&&c(d[f]._properties[H.id]._value);for(var f=0;f<a.length;f++)c(a[f]);for(var g in e)e.hasOwnProperty(g)&&R.push({d:g,r:g});R.sort(function(a,b){return a.d.localeCompare(b.d)}),b(R)}});if("MAP_REGIONS"===I.lovType)return void h("getMapRegions",{x01:H.component._properties[L.parentProperty.id]._value,x02:c.id},{success:b});"TEMPLATE_OPTIONS"===I.lovType&&(R=x(H).values)}}}return a.isFunction(b)?void b(R):R},G.prototype._getQuickPicks=function(b){function c(a){var b;a.i?(b=a.isLegacy?'<img src="#IMAGE_PREFIX#'+(a.dir||"")+a.i+'.gif" alt="">':'<img src="#IMAGE_PREFIX#app_ui/img/icons/'+a.i+'.png" class="'+a.i+'" alt="">',p.push({r:b,d:a.i+(a.isLegacy?".gif":".png"),icon:"icon-"+a.i})):a.columnName?p.push({r:a.substitution.prefix+(a.substitution.enquote?o(a.columnName):a.columnName)+a.substitution.postfix,d:a.columnName}):p.push({r:a.r,d:a.d||a.r})}function d(a){for(var b=0;b<a.length;b++)a[b].isQuickPick&&z(j.component,a[b].uiTypes)&&c(a[b])}var e,f,g,h,i,j=this,k=na[this.id],m=oa[this.component.typeId],n=m.properties[this.id],p=[];if(k.type===ja.SUPPORTED_UI)"PLUGINS"===k.lovType?(l(m.pluginType.plugins,function(a,b){b.isQuickPick&&z(j.component,b.uiTypes,b.componentTypes)&&!b.isDeprecated&&!b.isLegacy&&c({r:a,d:b.title})}),p.sort(function(a,b){return a.d.localeCompare(b.d)})):"EVENTS"===k.lovType&&(d(qa.browser),d(qa.apex),d(qa.component));else if(k.lovType)if("STATIC"===k.lovType)if(j.id===da.AFFECTED_TYPE);else for(var q=0;q<k.lovValues.length;q++)k.lovValues[q].isQuickPick&&!k.lovValues[q].isDeprecated&&c(k.lovValues[q]);else if("REGION_POSITIONS"===k.lovType||"BUTTON_POSITIONS"===k.lovType){"REGION_POSITIONS"===k.lovType?(e=u().displayPoints,f="REGION"):(g=this.component.getProperty(da.REGION).getValue(),f="BUTTON",e=""!==g?v(g).displayPoints:[]);for(var q=0;q<e.length;q++)a.inArray(f,e[q].types)!==-1&&e[q].isQuickPick&&c({r:e[q].id,d:e[q].name})}else k.lovType.indexOf("FORMAT_MASKS")!==-1;else if(a.inArray(m.id,[ca.IR_ATTRIBUTES,ca.IR_COLUMN,ca.IG_ATTRIBUTES,ca.IG_COLUMN,ca.CLASSIC_RPT_COLUMN,ca.TAB_FORM_COLUMN,ca.VALIDATION,ca.PAGE_PROCESS,ca.REGION_PLUGIN_ATTR,ca.REGION_COLUMN])!==-1)if(i=a.inArray(m.id,[ca.IR_ATTRIBUTES,ca.IR_COLUMN,ca.CLASSIC_RPT_COLUMN,ca.TAB_FORM_COLUMN])!==-1?{prefix:"#",postfix:"#",enquote:!1}:{prefix:"&",postfix:".",enquote:!0},k.id===da.LINK_TEXT&&c({columnName:j.component.getProperty(da.COLUMN_NAME).getValue(),substitution:i}),k.id===da.LINK_ICON||k.id===da.LINK_TEXT)c({i:"apex-edit-pencil"}),c({i:"apex-edit-pencil-alt"}),c({i:"apex-edit-page"}),c({i:"apex-edit-view"});else if(n.supportsSubstitution&&"ROW"===b&&a.inArray(k.type,[ja.TEXT,ja.TEXTAREA,ja.HTML])!==-1){h=N({type:"columns",component:j.component});for(var q=0;q<h.length;q++)c({columnName:h[q].name,substitution:i})}return p},G.prototype._getHelpText=function(){function c(c){var d,e="<dl>";d=a.map(k.pluginType.plugins,function(a,b){if(0===b.indexOf(c)&&z(h.component,a.uiTypes,a.componentTypes)&&!a.isDeprecated&&!a.isLegacy)return a}).sort(function(a,b){return a.title.localeCompare(b.title)});for(var f=0;f<d.length;f++)e+="<dt>"+b.escapeHTML(d[f].title)+"</dt>",e+="<dd>"+d[f].helpText,d[f].aboutUrl&&(e+=" "+i("HELP.ABOUT_PLUGIN",d[f].aboutUrl)),e+="</dd>";return e+="</dl>"}function d(){var a,c=h.getMetaData().lovValues();a="<p>"+i("HELP.AVAILABLE_OPTIONS")+"</p><dl>",l.nullText&&(a+="<dt>"+l.nullText+"</dt>",l.nullHelpText&&(a+="<dd>"+l.nullHelpText+"</dd>"));for(var d=0;d<c.length;d++)a+="<dt>"+b.escapeHTML(c[d].d)+"</dt>",(c[d].helpText||c[d].isDeprecated)&&(a+="<dd>",c[d].helpText&&(a+=c[d].helpText),c[d].isDeprecated&&(a+="<p><em>"+i("HELP.DEPRECATED.LOV_VALUE",wa)+"</em></p>"),a+="</dd>");return a+="</dl>"}function e(){function a(a){for(var c=0;c<a.length;c++)e+="<dt>"+b.escapeHTML(a[c].name)+"</dt>",a[c].helpText&&(e+="<dd>"+a[c].helpText+"</dd>")}var c,d,e,f,g=x(h),j=[],k={},l=[];for(f=0;f<g.values.length;f++)g.values[f].groupId?(c=g.values[f].groupId,k.hasOwnProperty(c)?d=k[c]:(j.push({title:g.groups[c].title,seq:g.groups[c].seq,helpText:g.groups[c].helpText,lovValues:[]}),d=j.length-1,k[c]=d),j[d].lovValues.push({name:g.values[f].d,helpText:g.values[f].helpText})):l.push({name:g.values[f].d,helpText:g.values[f].helpText});for(j.sort(function(a,b){return a.seq===b.seq?a.title.localeCompare(b.title):a.seq-b.seq}),e="<p>"+i("HELP.AVAILABLE_OPTIONS")+"</p><dl>",a(l),f=0;f<j.length;f++)e+="<dt>"+b.escapeHTML(j[f].title)+"</dt><dd>",j[f].helpText&&(e+="<p>"+j[f].helpText+"</p>"),e+="<dl>",a(j[f].lovValues),e+="</dl></dd>";return e+="</dl>"}var f,h=this,j=na[this.id],k=oa[this.component.typeId],l=k.properties[this.id];return f="<p>"+(this._helpText||l.helpText||j.helpText)+"</p>",k.pluginType&&this.id===k.pluginType.typePropertyId&&(f=f.replace(/#NATIVE_PLUGINS#/,c("NATIVE")).replace(/#CUSTOM_PLUGINS#/,c("PLUGIN"))),j.deprecatedValues&&(f="<p><em>"+i("HELP.DEPRECATED.ATTRIBUTE",wa)+"</em></p>"),"STATIC"===j.lovType?/#LOV_VALUES#/.test(f)?f=f.replace(/#LOV_VALUES#/,d()):f+=d():"TEMPLATE_OPTIONS"===j.lovType&&(f+=e()),this._examples===g&&l.examples===g&&j.examples===g||(f+="<h4>"+i("HELP.EXAMPLES")+"</h4><p>"+(this._examples||l.examples||j.examples)+"</p>"),a.inArray(j.type,[ja.CHECKBOXES,ja.LINK,ja.COMPONENT,ja.SELECT_LIST,ja.SUPPORTED_UI,ja.SUBSCRIPTION,ja.YES_NO,ja.OWNER,ja.TABLE,ja.COLUMN,ja.REGION_COLUMN,ja.TEMPLATE_OPTIONS])===-1&&(f+="<h4>"+i("HELP.ADDITIONAL_INFO")+"</h4>",f+="<ul><li>"+i("HELP.TYPE")+": "+i("HELP.PROP_TYPE."+j.type),j.multiValueDelimiter&&(f+=" ("+i("HELP.MULTIPLE.TEXT",i("HELP.MULTIPLE."+j.multiValueDelimiter))+")"),f+="</li>","SQL"!==j.type.substr(0,3)&&"PLSQL"!==j.type.substr(0,5)&&j.type!==ja.WHERE_CLAUSE||(f+="<li>"+i("HELP.BIND_VARIABLES")+": "+i("HELP.REF_SCOPE."+h.getMetaData().referenceScope)+"</li>"),l.supportsSubstitution&&(f+="<li>"+i("HELP.SUBSTITUTIONS")+": "+i("HELP.REF_SCOPE."+h.getMetaData().referenceScope)+"</li>"),j.type===ja.SQL||j.type===ja.PLSQL_FUNC_SQL?(f+="<li>"+i("HELP.MIN_COLUMNS")+": "+this._sqlMinColumns+"</li>",this._sqlMaxColumns>0&&this._sqlMaxColumns<999&&(f+="<li>"+i("HELP.MAX_COLUMNS")+": "+this._sqlMaxColumns+"</li>")):j.type!==ja.INTEGER&&j.type!==ja.NUMBER||(j.minValue!==g&&(f+="<li>"+i("HELP.MIN_VALUE")+": "+j.minValue+"</li>"),j.maxValue!==g&&(f+="<li>"+i("HELP.MAX_VALUE")+": "+j.maxValue+"</li>")),j.restrictedChars!==g&&(f+="<li>"+i("HELP.RESTRICTED_CHARS_LABEL")+": "+i("HELP.RESTRICTED_CHARS."+j.restrictedChars)+"</li>"),f+="</ul>"),f},G.prototype.getColumns=function(a){var b=[];if(0===this.errors.length&&0===this.warnings.length)if(a)b=this._columns;else for(var c=0;c<this._columns.length;c++)"ROWID"===this._columns[c].name&&0===c||b.push(this._columns[c]);return b},G.prototype.hasOrderBy=function(){return 0===this.errors.length&&this._hasOrderBy},G.prototype._getAvailableColumns=function(a){var b,c=oa[this.component.typeId].properties[this.id],d=na[this.id],e=c.parentProperty,f=this.component,h=[];if(c.hasOwnProperty("parentProperty"))for(;f!==g;){if(f.typeId===e.typeId){if(na[e.id].lovComponentTypeId===ca.REGION){h=d.type===ja.REGION_COLUMN?E(this.component._properties[e.id]._value):F(this.component._properties[e.id]._value);break}if(e.id===da.CHART_SOURCE_LOCATION){b=f._properties[e.id].getValue(),h="REGION_SOURCE"===b?F(this.component.getParent().parentId,a):D(f,ea,a);break}if(e.id===da.REGION_SQL){h=d.type===ja.REGION_COLUMN?E(f.id):F(f.id,a);break}h=f._properties[e.id].getColumns(a);break}f=f.getParent()}return h},G.prototype._checkColumn=function(a){for(var b=this._getAvailableColumns(!0),c=0;c<b.length;c++)if(b[c].name===a)return y(b[c].type,na[this.id].dataTypes)?"":i("VAL.COLUMN_HAS_WRONG_DATA_TYPE");return i("VAL.COLUMN_NOT_FOUND")},G.prototype.validate=function(d){function e(a){a.error&&H.errors.push(a.error),a.warning&&H.warnings.push(a.warning)}function f(b){var c;if(a.isArray(b)){for(var d=0;d<b.length;d++)if(c=A.component.getProperty(b[d]))return c.getValue()}else if(c=A.component.getProperty(b))return c.getValue();return""}var j,k,l,m,n,o,p,q,r,s,t,u,v,w=/^&((\w+)|("[^\n\r"&]+"))\.$/,x={US_ONLY:/[^a-zA-Z0-9 ]/,US_ONLY_NO_SPACE:/[^a-zA-Z0-9]/,US_ONLY_UNDERSCORE_NO_SPACE:/[^a-zA-Z0-9_]/,WEB_SAFE:/[<>"]/,NO_SPECIAL_CHAR:/[&<>"\/;,*|=%]|(--)/,NO_SPECIAL_CHAR_NL:/[&<>"\/;,*|=%\n\r]|(--)/,SAFE_COMPONENT_NAME:/[ :&,.+?^'"\n\r]/},y={decimal:c.getDecimalSeparator(),group:c.getGroupSeparator()},z=d,A=this,B=oa[this.component.typeId],C=B.properties,D=C[this.id],E=na[this.id],F="",G="N",H={errors:[],warnings:[],columns:[],hasOrderBy:!1};if(this._isRequired&&""===a.trim(z))H.errors.push(i("VAL.IS_REQUIRED"));else if(""!==a.trim(z))if(E.restrictedChars&&x[E.restrictedChars].test(z))H.errors.push(i("VAL.HAS_RESTRICTED_CHAR",z.match(x[E.restrictedChars])));else if((E.type===ja.NUMBER||E.type===ja.INTEGER)&&D.supportsSubstitution&&w.test(z));else if(z.length>E.maxLen)H.errors.push(i("VAL.VALUE_TOO_LONG",z.length-E.maxLen));else{if(E.type===ja.NUMBER||E.type===ja.INTEGER)E.type===ja.NUMBER?("."!==y.decimal&&(z=z.replace(new RegExp(b.escapeRegExp(y.group),"g"),"!"),z=z.replace(new RegExp(b.escapeRegExp(y.decimal),"g"),".")),j=Number(z),l=i("VAL.MUST_BE_NUMERIC")):(j=parseInt(z,10),l=i("VAL.MUST_BE_INTEGER")),isNaN(j)||j!=z?H.errors.push(l):E.minValue===g&&E.maxValue===g||(j<E.minValue?H.errors.push(i("VAL.VALUE_LESS_MIN_VALUE",E.minValue)):j>E.maxValue&&H.errors.push(i("VAL.VALUE_GREATER_MAX_VALUE",E.maxValue)));else if(A.id===da.SOURCE_QUERY_PLSQL_FUNCTION_BODY&&A.component.getProperty(da.GENERIC_COLUMN_COUNT)){k=A.component.getProperty(da.GENERIC_COLUMN_COUNT).getValue(),H.columns=[],H.hasOrderBy=!1;for(var I=1;I<=k;I++)H.columns.push({name:"COL"+(I<10?"0":"")+I,type:"VARCHAR2",isRequired:!1,maxLen:4e3})}else a.inArray(E.type,[ja.TABLE,ja.SQL,ja.SQL_EXPR,ja.SQL_EXPR_BOOLEAN,ja.PLSQL,ja.PLSQL_EXPR_VARCHAR,ja.PLSQL_EXPR_BOOLEAN,ja.PLSQL_FUNC_VARCHAR,ja.PLSQL_FUNC_BOOLEAN,ja.PLSQL_FUNC_SQL,ja.WHERE_CLAUSE,ja.ORDER_BY_CLAUSE])!==-1||E.hasPlSqlCheck||this.id===da.SOURCE_WEB_SRC_QUERY?(E.type===ja.TABLE&&(q=this.component._properties[D.parentProperty.id]._value),a.inArray(A.id,[da.SOURCE_SQL_QUERY,da.SOURCE_QUERY_PLSQL_FUNCTION_BODY,da.SOURCE_QUERY_TABLE,da.SOURCE_QUERY_WHERE,da.SOURCE_QUERY_ORDER_BY])!==-1?(o=f([da.SOURCE_LOCATION,da.CHART_SOURCE_LOCATION]),p=f(da.SOURCE_QUERY_TYPE),v=f(da.SOURCE_REMOTE_DATABASE),r=f(da.SOURCE_QUERY_TABLE),s=f(da.SOURCE_SQL_QUERY),t=f(da.SOURCE_QUERY_PLSQL_FUNCTION_BODY),p&&(G=f(da.SOURCE_INCLUDE_ROWID_COLUMN)),u=f(da.OPTIMIZER_HINT)):this.id===da.SOURCE_WEB_SRC_QUERY?o=f([da.SOURCE_LOCATION,da.CHART_SOURCE_LOCATION]):a.inArray(this.id,[da.POST_PROC_WHERE,da.POST_PROC_ORDER_BY,da.POST_PROC_SQL_QUERY,da.POST_PROC_PLSQL_FUNCTION_BODY])!==-1?(o=f([da.SOURCE_LOCATION,da.CHART_SOURCE_LOCATION]),F=f(da.SOURCE_WEB_SRC_QUERY),r="",s="",t=""):E.type===ja.WHERE_CLAUSE?(p="TABLE",q=this.component._properties[C[D.parentProperty.id].parentProperty.id]._value,r=this.component._properties[D.parentProperty.id]._value,G="Y"):E.type===ja.ORDER_BY_CLAUSE?(p="TABLE",q=this.component._properties[C[D.parentProperty.id].parentProperty.id]._value,r=this.component._properties[D.parentProperty.id]._value,G="Y"):this.id===da.PLSQL_CODE&&(o=f(da.PLSQL_PROCESS_LOCATION),v=f(da.SOURCE_REMOTE_DATABASE)),h("validateProperty",{x01:this.id,x02:E.type,x03:this._sqlMinColumns,x04:this._sqlMaxColumns,x05:z,x06:o,x07:p,x08:q,x09:r+s+t+F,x10:G,x11:u,x12:v},{success:function(b){H.columns=b.columns||[],H.hasOrderBy=b.hasOrderBy,"OK"!==b.result&&(a.inArray(E.type,[ja.SQL,ja.TABLE,ja.PLSQL_FUNC_SQL])>=0&&D.refByChilds.length>0||A.id===da.REGION_FUNCTION_RETURNING_SQL||A.id===da.SOURCE_QUERY_PLSQL_FUNCTION_BODY||A.id===da.SOURCE_WEB_SRC_QUERY?H.errors.push(b.result):H.warnings.push(b.result))},async:!1})):E.type!==ja.COLUMN&&E.type!==ja.REGION_COLUMN||(l=this._checkColumn(z),""!==l&&H.errors.push(l));
D.checkUniqueness&&(m={properties:[{id:this.id,value:z}]},"PARENT"===D.checkUniqueness?m.parentId=this.component.parentId:"PAGE"===D.checkUniqueness&&(m.pageId=ua),n=J(this.component.typeId,m),J(this.component.typeId,m).length>0&&n[0].id!==this.component.id&&H.errors.push(i("VAL.MUST_BE_UNIQUE"))),0===H.errors.length&&e(this.component._callPluginCallback({action:ga.VALIDATE,property:this,value:z,sql:{columns:H.columns,hasOrderBy:H.hasOrderBy,hasWarnings:H.warnings.length>0}})),0===H.errors.length&&e(this.component._callComponentTypeCallback({action:ga.VALIDATE,property:this,value:z,sql:{columns:H.columns,hasOrderBy:H.hasOrderBy,hasWarnings:H.warnings.length>0}}))}return H},G.prototype._setValue=function(c,d){function e(){a.inArray(v.type,[ja.NUMBER,ja.INTEGER,ja.LINK,ja.ITEM,ja.PAGE,ja.TABLE])!==-1&&(p=a.trim(p)),"UPPER"===v.textCase?p=p.toUpperCase():"LOWER"===v.textCase&&(p=p.toLowerCase())}function f(a){function b(a){delete o._properties[a];for(var c=0;c<t[a].refByDependingOn.length;c++)t[a].refByDependingOn[c].hasToExist&&b(t[a].refByDependingOn[c].propertyId)}for(var c,d=0;d<t[a].refByDependingOn.length;d++)c=t[a].refByDependingOn[d].propertyId,o._properties.hasOwnProperty(c)?o._properties[c]=new G({component:o,propertyId:c,defaultValue:o._properties[c]._value,columns:o._properties[c]._columns,hasOrderBy:o._properties[c]._hasOrderBy}):c===da.GRID_LABEL_COLUMN_SPAN||c===da.READ_ONLY_HTML_ATTRIBUTES?o._setGridProperties(!0):o._properties[c]=new G({component:o,propertyId:c}),o._properties.hasOwnProperty(c)&&o._properties[c]._isVisible()?f(c):b(c)}function h(){function a(a,b){var c,d;a._properties.hasOwnProperty(b)&&(c=a._properties[b],d=a===o?"_setValue":"setValue",na[b].type===ja.COLUMN||na[b].type===ja.REGION_COLUMN?""!==c._value&&c._checkColumn(c._value)===i("VAL.COLUMN_NOT_FOUND")?c[d]("",l):c[d](c._value,l):c[d](B(c,oa[a.typeId].properties[b].defaultValue),l))}var b;if(0===n.errors.length&&0===n.warnings.length||1===n.errors.length&&n.errors[0]===i("VAL.IS_REQUIRED"))for(var c=0;c<u.refByChilds.length;c++)if(u.refByChilds[c].typeId===o.typeId)a(o,u.refByChilds[c].id);else{b=o.getChildrenUntil(u.refByChilds[c].typeId);for(var d=0;d<b.length;d++)a(b[d],u.refByChilds[c].id)}}function j(){a.inArray(n.id,[da.GRID_NEW_GRID,da.GRID_NEW_ROW,da.GRID_COLUMN,da.GRID_NEW_COLUMN,da.GRID_COLUMN_SPAN])!==-1||o.typeId===ca.REGION&&a.inArray(n.id,[da.REGION_POSITION,da.PARENT_REGION,da.REGION_TEMPLATE])!==-1||o.typeId===ca.BUTTON&&a.inArray(n.id,[da.BUTTON_POSITION,da.REGION])!==-1||o.typeId===ca.PAGE_ITEM&&a.inArray(n.id,[da.REGION,da.ITEM_TYPE,da.FIELD_TEMPLATE])!==-1?o._setGridProperties():o.typeId===ca.PAGE&&a.inArray(n.id,[da.PAGE_TEMPLATE,da.DIALOG_TEMPLATE])!==-1&&I()}function k(a,c){var d,e,f,g,h,i,j,k,l=b.escapeRegExp(a),m=[];for(i=0;i<oa[ca.PAGE_ITEM].refByProperties.length;i++)if(d=na[oa[ca.PAGE_ITEM].refByProperties[i]],"ITEM"===d.type)for(d.multiValueDelimiter?(f=new RegExp("(^|"+d.multiValueDelimiter+"|\\s)"+l+"($|"+d.multiValueDelimiter+"|\\s)","i"),g={properties:[{id:d.id,value:f}]}):(f=new RegExp("^"+l+"$","i"),g={properties:[{id:d.id,value:f}]}),j=0;j<d.refByComponentTypes.length;j++)for(e=oa[d.refByComponentTypes[j]].properties[d.id],m=J(d.refByComponentTypes[j],g,!1),k=0;k<m.length;k++)h=m[k].getProperty(d.id),d.multiValueDelimiter?h.setValue(h.getValue().replace(f,"$1"+c+"$2")):h.setValue(c)}var l,m,n=this,o=this.component,p=c+"",q=this._value,r=oa[o.typeId],s=r.pluginType,t=r.properties,u=t[this.id],v=na[n.id],w=g,x=g;if(d=a.extend({checkReadOnly:!0},d),l=a.extend({},{},d),d.checkReadOnly){if(Ba)throw"Page is read only!";if(o.isReadOnly())throw"Component is read only!";if(n._isReadOnly)throw"Property '"+n.getMetaData().prompt+"' ("+n.id+") is read only for this component!"}(p!==n._value||0!==n.errors.length||0!==n.warnings.length||d.forceSetValue)&&(e(),m=this.validate(p),s&&n.id===s.typePropertyId&&p!==q&&this.component._callPluginCallback({action:ga.REMOVED}),n._value=p,n.hasChanged=!0,n.errors=m.errors,n.warnings=m.warnings,n._columns=m.columns,n._hasOrderBy=m.hasOrderBy,0===n.errors.length&&n.id===r.seqPropertyId&&(w=parseInt(p,10)),n.id===r.parentPropertyId&&(x=p),o._setHasChanged({seq:w,parentId:x}),f(n.id),h(),n.id===da.ITEM_NAME&&k(q,p),j(),o._setHasChanged())},G.prototype.setValue=function(a,b){var c;if(this.component._status===ha.DELETED)throw"Component has been deleted!";return R(this.component,Ca.CHANGE),c=this._value,this._setValue(a,{checkReadOnly:!0,forceSetValue:b}),this.component._callPluginCallback({property:this,oldValue:c}),this.component._callComponentTypeCallback({property:this,oldValue:c}),this},G.prototype._setUniqueValue=function(){var a=oa[this.component.typeId].properties[this.id].checkUniqueness,b={properties:[{id:this.id,value:""}]},c=this.getValue();"PARENT"===a?b.parentId=this.component.parentId:"PAGE"===a&&(b.pageId=ua),b.properties[0].value=c;for(var d=1;d<1e4;d++){if(0===J(this.component.typeId,b,!1).length)return void(this._value=b.properties[0].value);b.properties[0].value=c+"_"+d}throw"Unable to generate a unique value for property '"+this.getMetaData().prompt+"' ("+this.id+")!"},H.prototype._callPluginCallback=function(b){var c,d,e,f,h=oa[this.typeId],i=h.pluginType,j=b.action;if(i&&(c=b.action===ga.VALIDATE&&b.property.id===i.typePropertyId?i.plugins[b.value]:i.plugins[this._properties[i.typePropertyId]._value])){if(j===g){if(b.property&&b.property.id===i.typePropertyId)j=ga.CREATED;else if(b.properties)for(var k=0;k<b.properties.length;k++)if(b.properties[k].id===i.typePropertyId){j=ga.CREATED;break}j===g&&(j=ga.CHANGED)}if(h.id!==ca.REGION||j!==ga.CREATED&&j!==ga.REMOVED||(j===ga.CREATED&&a.inArray(c.name,["NATIVE_SQL_REPORT","NATIVE_TABFORM"])===-1?(d=oa[ca.REGION_PLUGIN_ATTR].pluginType.plugins[c.name],(d.attributes.length>0||a.inArray("FETCHED_ROWS",d.features)!==-1||a.inArray("NO_DATA_FOUND_MESSAGE",d.features)!==-1||a.inArray("COLUMN_HEADING",d.features)!==-1||a.inArray("INIT_JAVASCRIPT_CODE",d.features)!==-1||"NATIVE_BREADCRUMB"===c.name||"NATIVE_LIST"===c.name)&&new H({typeId:ca.REGION_PLUGIN_ATTR,parentId:this.id,values:[{id:da.HIDDEN_REGION_TYPE,value:c.name}]})):j===ga.REMOVED&&(e=this.getChilds(ca.REGION_PLUGIN_ATTR),1===e.length&&e[0].remove())),a.isFunction(c.callback)&&(j===ga.VALIDATE?f=c.callback.apply(this,[j,b.property,b.value,b.sql]):j===ga.CREATED||j===ga.REMOVED?c.callback.apply(this,[j]):j===ga.CHANGED&&b.property&&c.callback.apply(this,[j,b.property]),b.properties))for(var k=0;k<b.properties.length;k++)b.properties[k].id!==i.typePropertyId&&c.callback.apply(this,[ga.CHANGED,this.getProperty(b.properties[k].id),b.properties[k].oldValue])}return f||{}},H.prototype._callComponentTypeCallback=function(b){var c,d=oa[this.typeId];if(a.isFunction(d.callback))if(b.action===ga.VALIDATE)c=d.callback.apply(this,[b.action,b.property,b.value,b.sql]);else if(b.action)d.callback.apply(this,[b.action]);else if(b.property)d.callback.apply(this,[ga.CHANGED,b.property,b.oldValue]);else if(a.isArray(b.properties))for(var e=0;e<b.properties.length;e++)d.callback.apply(this,[ga.CHANGED,this.getProperty(b.properties[e].id),b.properties[e].oldValue]);return c||{}},H.prototype.isOnGlobalPage=function(){return this.pageId===va.globalPageId&&this.pageId!==ua},H.prototype.isReadOnly=function(){return Ba||this._isReadOnly||this.isOnGlobalPage()||oa[this.typeId].isSharedComponent},H.prototype.hasChanged=function(){return this._status!==ha.UNCHANGED},H.prototype.hasErrors=function(){for(var a in this._properties)if(this._properties.hasOwnProperty(a)&&this._properties[a].errors.length>0)return!0;return!1},H.prototype.hasWarnings=function(){for(var a in this._properties)if(this._properties.hasOwnProperty(a)&&this._properties[a].warnings.length>0)return!0;return!1},H.prototype._setHasChanged=function(a){var b=this;a=a||{},a.status===ha.DELETED?b._status=ha.DELETED:b._status===ha.UNCHANGED&&(b._status=ha.UPDATED),a.seq!==g&&(b.seq=a.seq),a.parentId!==g&&(b.parentId=a.parentId)},H.prototype._deleteProperty=function(a){var b=oa[this.typeId].properties[a];delete this._properties[a];for(var c=0;c<b.refByDependingOn.length;c++)b.refByDependingOn[c].hasToExist&&this._deleteProperty(b.refByDependingOn[c].propertyId)},H.prototype._cleanProperties=function(){for(var a in this._properties)this._properties.hasOwnProperty(a)&&(this._properties[a]._isVisible()||this._deleteProperty(a))},H.prototype._getGridParams=function(b){function c(b){var c,d,e,g=J(ca.REGION,{id:b})[0],h=a.extend({},g._grid);return h.hasGridSupport&&!j.alwaysUseMaxColumns&&(c=g._properties[da.GRID_COLUMN].getValue(),d=g._properties[da.GRID_COLUMN_SPAN],j.grid.hasColumnSpan&&d&&(e=d.getValue()),e>0?(h.maxColumns=parseInt(e,10),f.trace("_getGridParams: Region %O uses column span, reduce max columns to %i",g,h.maxColumns)):c>0&&(h.maxColumns-=parseInt(c,10)-1,f.trace("_getGridParams: Region %O uses column positioning, reduce max columns to %i",g,h.maxColumns))),h}var d,e,h,i,j=u(),k={};return this.typeId===ca.REGION?""===this._properties[da.PARENT_REGION]._value?h=this._properties[da.REGION_POSITION]._value:(d=this._properties[da.PARENT_REGION]._value,h="SUB_REGIONS"):this.typeId===ca.PAGE_ITEM?this.parentId&&(d=this.parentId,h="BODY"):this.typeId===ca.BUTTON&&this.parentId&&(d=this.parentId,h=this._properties[da.BUTTON_POSITION]._value),i=d===g?j.displayPointsMap[h]:v(d).displayPointsMap[h],i===g?(i={hasGridSupport:!0,maxFixedGridColumns:j.grid.maxColumns,isUnknown:!0},f.warn("_getGridParams: Component %O uses unknown display point %s! Fallback to default values",this,h)):(j.grid.alwaysUseMaxColumns||i.maxFixedGridColumns===g)&&(i.maxFixedGridColumns=j.grid.maxColumns),i.isUnknown&&(k.isUnknown=!0),d!==g?(e=c(d),k.pageDisplayPointhasGridSupport=e.pageDisplayPointhasGridSupport,k.hasGridSupport=!!e.pageDisplayPointhasGridSupport&&i.hasGridSupport,"FIXED"!==j.grid.type||j.grid.alwaysUseMaxColumns?k.maxColumns=j.grid.maxColumns:(i.maxFixedGridColumns<0?k.maxColumns=Math.max(e.maxColumns+i.maxFixedGridColumns,0):i.maxFixedGridColumns>0?k.maxColumns=Math.min(i.maxFixedGridColumns,e.maxColumns):k.maxColumns=e.maxColumns,k.maxColumns<2&&(k.hasGridSupport=!1,f.warn("_getGridParams: Component %O, disable grid support because there are no more grid columns available!",this)))):(k.hasGridSupport=i.hasGridSupport,k.pageDisplayPointhasGridSupport=i.hasGridSupport,k.hasGridSupport&&(k.maxColumns=i.maxFixedGridColumns)),f.trace("_getGridParams: Component %O returned grid params %O",this,k),k},H.prototype._setGridProperties=function(b){function c(a,b){b?(h._properties.hasOwnProperty(a)||(h._properties[a]=new G({component:h,propertyId:a})),h._properties[a]._isVisible()||h._deleteProperty(a)):h._deleteProperty(a)}function d(a){var b=h._properties[a];return b?b.getValue():""}function e(a,c){for(var d=J(a,{properties:[{id:c,value:h.id}]}),e=0;e<d.length;e++)b!==g||d[e].isOnGlobalPage()||(R(d[e],Ca.CHANGE),d[e]._setHasChanged()),d[e]._setGridProperties(b)}var f,h=this,i=u(),j=!1,k=!1;a.inArray(this.typeId,[ca.REGION,ca.PAGE_ITEM,ca.BUTTON])!==-1&&(this._grid=this._getGridParams(),this._grid.hasGridSupport?(c(da.GRID_NEW_GRID,i.grid.hasNewGrid),c(da.GRID_NEW_ROW,!i.grid.hasNewGrid||"N"===d(da.GRID_NEW_GRID)),c(da.GRID_COLUMN,!0),c(da.GRID_NEW_COLUMN,""===d(da.GRID_COLUMN)&&"N"===d(da.GRID_NEW_ROW)),j="Y"===d(da.GRID_NEW_GRID)||"Y"===d(da.GRID_NEW_ROW)||""!==d(da.GRID_COLUMN)||"Y"===d(da.GRID_NEW_COLUMN),c(da.GRID_COLUMN_SPAN,j&&i.grid.hasColumnSpan),c(da.GRID_COLUMN_CSS_CLASSES,j&&i.grid.hasColumnCssClasses),c(da.GRID_COLUMN_ATTRIBUTES,j&&i.grid.hasColumnAttributes)):(this._deleteProperty(da.GRID_NEW_GRID),this._deleteProperty(da.GRID_NEW_ROW),this._deleteProperty(da.GRID_COLUMN),this._deleteProperty(da.GRID_NEW_COLUMN),this._deleteProperty(da.GRID_COLUMN_SPAN),this._deleteProperty(da.GRID_COLUMN_CSS_CLASSES),this._deleteProperty(da.GRID_COLUMN_ATTRIBUTES)),this.typeId!==ca.PAGE_ITEM&&this.typeId!==ca.BUTTON||(k=this._grid.hasGridSupport&&j&&"TABLE"===i.grid.type,c(da.GRID_ROW_SPAN,k),c(da.ELEMENT_FIELD_ALIGNMENT,k),this.typeId===ca.PAGE_ITEM&&(c(da.LABEL_ALIGNMENT,k),c(da.READ_ONLY_HTML_ATTRIBUTES,k&&i.grid.hasColumnAttributes),f=w(d(da.FIELD_TEMPLATE)),c(da.GRID_LABEL_COLUMN_SPAN,this._grid.hasGridSupport&&j&&f.hasLabelColumnSpan))),this.typeId===ca.REGION&&(e(ca.REGION,da.PARENT_REGION),e(ca.PAGE_ITEM,da.REGION),e(ca.BUTTON,da.REGION)))},H.prototype._setProperties=function(a,b){var c;a=a||[];for(var d=0;d<a.length;d++){if(!na.hasOwnProperty(a[d].id))throw"Property "+a[d].id+" doesn't exist!";if(!this._properties.hasOwnProperty(a[d].id))throw"Property '"+na[a[d].id].prompt+"' ("+a[d].id+") not available for this component!";c=this._properties[a[d].id],a[d].oldValue=c._value,c._setValue(a[d].value,b)}},H.prototype.getProperty=function(a){return this._properties[a]},H.prototype.getProperties=function(){var a=[];return l(this._properties,function(b,c){a.push(c)}),a},H.prototype.duplicate=function(a){if(this._status===ha.DELETED)throw"Component has been deleted!";return this._duplicate(a)},H.prototype._duplicate=function(a,b){var c,d=oa[this.typeId],e=[];c=new H({component:this,previousComponent:this,values:a,parentId:b||this.parentId});for(var f=0;f<d.childComponentTypes.length;f++)if(d.childComponentTypes[f]!==ca.IR_SAVED_REPORT){e=J(d.childComponentTypes[f],{parentId:this.id},!1);for(var h=0;h<e.length;h++)e[h]._duplicate(g,c.id)}return c},H.prototype.remove=function(){this._remove(!1)},H.prototype._remove=function(a){function c(a,b,c){var d,e=b.split(c),f=new RegExp("^\\s*"+a+"\\s*$","i");for(d=0;d<e.length;d++)if(f.test(e[d])){e.splice(d,1);break}return e.join(c)}var d,e,f,g,h,i,k=oa[this.typeId],l=this,m=[],n=[];if(this._status!==ha.DELETED){if(Ba)throw"Page is read only!";if(this.isReadOnly())throw"Component is read only!";R(this,Ca.DELETE);for(var o=0;o<k.childComponentTypes.length;o++){m=J(k.childComponentTypes[o],{parentId:this.id},!1);for(var p=0;p<m.length;p++)m[p]._remove(!0)}g=this.typeId===ca.BUILD_OPTION||this.typeId===ca.AUTHORIZATION?new RegExp("^[-!]?"+b.escapeRegExp(this.id)+"$"):this.id,this.typeId===ca.PAGE_ITEM&&(h=b.escapeRegExp(this.getProperty(da.ITEM_NAME).getValue()));for(var o=0;o<k.refByProperties.length;o++){d=na[k.refByProperties[o]],"COMPONENT"===d.lovType?f={properties:[{id:d.id,value:g}]}:"ITEM"===d.type&&(f=d.multiValueDelimiter?{properties:[{id:d.id,value:new RegExp("(^|"+d.multiValueDelimiter+"|\\s)"+h+"($|"+d.multiValueDelimiter+"|\\s)","i")}]}:{properties:[{id:d.id,value:new RegExp("^"+h+"$","i")}]});for(var p=0;p<d.refByComponentTypes.length;p++)if(oa[d.refByComponentTypes[p]].parentId!==this.typeId){e=oa[d.refByComponentTypes[p]].properties[d.id],n=J(d.refByComponentTypes[p],f,!1);for(var q=0;q<n.length;q++)if("WEAK_NULL"===e.referenceOnDelete||"DB_NULL"===e.referenceOnDelete)i=n[q].getProperty(d.id),"ITEM"===d.type&&d.multiValueDelimiter?i.setValue(c(h,i.getValue(),d.multiValueDelimiter)):i.setValue("");else{if("WEAK_CASCADE"!==e.referenceOnDelete&&"DB_CASCADE"!==e.referenceOnDelete)throw j("DEL.REFERENCE_EXISTS",n[q].getDisplayTitle());"ITEM"===d.type&&d.multiValueDelimiter?(i=n[q].getProperty(d.id),i.setValue(c(h,i.getValue(),d.multiValueDelimiter)),""===i.getValue()&&n[q]._remove(!0)):n[q]._remove(!0)}}}this._status===ha.CREATED||a?delete xa[this.typeId][this.id]:this._setHasChanged({status:ha.DELETED}),l._callPluginCallback({action:ga.REMOVED}),l._callComponentTypeCallback({action:ga.REMOVED})}},H.prototype.move=function(a,b){if(this._status===ha.DELETED)throw"Component has already been deleted!";if(Ba)throw"Page is read only!";if(this.isReadOnly())throw"Component is read only!";R(this,Ca.CHANGE),this._setProperties(b),this._move(a),this._callPluginCallback({properties:b}),this._callComponentTypeCallback({properties:b})},H.prototype._move=function(a){var b,c,d,e=this.typeId===ca.CLASSIC_RPT_COLUMN||this.typeId===ca.TAB_FORM_COLUMN?1:10,f=oa[this.typeId].seqPropertyId,h=a,i=!0;if(b=this.getSiblings(!0),b.length>0&&h){if(h instanceof H)for(d=0;d<b.length;d++)if(b[d].id===h.id&&b[d].typeId===h.typeId){this.seq=h.seq+e,i=!1;break}("last"===h||i)&&b[b.length-1].id!==this.id&&(h=b[b.length-1],this.seq=h.seq+e,i=!1)}for(i&&(h=g,this.seq=e),c=this.seq,this._properties[f]._setValue(this.seq,{checkReadOnly:!1}),d=0;d<b.length;d++)i?b[d].isReadOnly()?c=b[d].seq:b[d].id!==this.id&&(c+=e,b[d].getProperty(f).setValue(c)):b[d].id===h.id&&(i=!0)},H.prototype.getSiblings=function(b){var c,d,e,f=[];if(a.inArray(this.typeId,[ca.REGION,ca.PAGE_ITEM,ca.BUTTON])!==-1?(this.typeId===ca.REGION?(f[0]={typeId:ca.REGION,filter:{properties:[]}},this._properties.hasOwnProperty(da.REGION_POSITION)&&f[0].filter.properties.push({id:da.REGION_POSITION,value:this._properties[da.REGION_POSITION]._value}),f[0].filter.properties.push({id:da.PARENT_REGION,value:this._properties[da.PARENT_REGION]._value})):this.typeId===ca.PAGE_ITEM||this.typeId===ca.BUTTON&&"BODY"===this._properties[da.BUTTON_POSITION]._value?(f.push({typeId:ca.PAGE_ITEM,filter:{parentId:this.parentId}}),f.push({typeId:ca.BUTTON,filter:{parentId:this.parentId,properties:[{id:da.BUTTON_POSITION,value:"BODY"}]}})):this.typeId===ca.BUTTON&&f.push({typeId:ca.BUTTON,filter:{parentId:this.parentId,filterFunction:function(){return"BODY"!==this.getProperty(da.BUTTON_POSITION).getValue}}}),e=K(f)):(c={parentId:this.parentId,properties:[]},this.typeId===ca.PAGE_COMPUTATION||this.typeId===ca.APP_COMPUTATION?d=da.COMPUTATION_POINT:this.typeId===ca.PAGE_PROCESS||this.typeId===ca.APP_PROCESS?d=da.PROCESS_POINT:this.typeId===ca.BRANCH?d=da.BRANCH_POINT:this.typeId===ca.DA_ACTION&&(d=da.FIRE_WHEN_EVENT_RESULT_IS),d&&c.properties.push({id:d,value:this._properties[d]._value}),e=J(this.typeId,c)),!b)for(var g=0;g<e.length;g++)if(e[g].id===this.id){e.splice(g,1);break}return e},H.prototype.getParent=function(){return this.parentId?J(oa[this.typeId].parentId,{id:this.parentId},!1)[0]:g},H.prototype.getChilds=function(b,c,d){var e=a.extend(!0,{},c);return e.parentId=this.id,J(b,e,d)},H.prototype.getChildrenUntil=function(b,c,d){function e(a){if(oa[a].parentId===g)throw"Component Type Id "+a+" is not a child type of component type id "+h.typeId;return oa[a].parentId===h.typeId?a:e(oa[a].parentId)}var f,h=this,i=a.extend(!0,{},c),j=[];if(i.parentId=h.id,oa[b].parentId===h.typeId)return J(b,i,d);f=J(e(b),i,d);for(var k=0;k<f.length;k++)j=j.concat(f[k].getChildrenUntil(b,i,d));return j},H.prototype.getDisplayTitle=function(){return oa[this.typeId].displayPropertyId?k("POSTFIX.GLOBAL_PAGE",this.getProperty(oa[this.typeId].displayPropertyId).getDisplayValue(),this.isOnGlobalPage()):""},H.prototype.setDisplayTitle=function(a){return this.getProperty(oa[this.typeId].displayPropertyId).setValue(a)},H.prototype._copyToGlobal=function(){var a=this,b=xa[this.typeId][this.id];l(a,function(c,d){"_properties"===c?(b._properties={},l(a._properties,function(a,c){b._properties[a]=new G({component:b,propertyId:c})})):b[c]=a[c]})};var Ca={CREATE:"create",DELETE:"delete",CHANGE:"change"},Da=null,Ea=function(){var b={_forEach:function(a){for(var b in this.components)if(this.components.hasOwnProperty(b))for(var c in this.components[b])this.components[b].hasOwnProperty(c)&&a.call(this.components[b][c],b,c)},_restore:function(a,b,c,d,e){var f=null;return xa[a].hasOwnProperty(b)&&(f=new H({component:xa[a][b],isDetached:!0})),c===Ca.CREATE?d._status!==ha.CREATED&&xa[a].hasOwnProperty(b)?xa[a][b]._status=d._status:xa[a][b]=new H({component:d,isDetached:!0}):c===Ca.DELETE?f._status===ha.CREATED?delete xa[a][b]:xa[a][b]._status=ha.DELETED:d._copyToGlobal(),S(f,xa[a][b]||null,e)},_undo:function(){var a=this,b=[];return this._forEach(function(c,d){var e;switch(this.operation){case Ca.CREATE:e=Ca.DELETE;break;case Ca.DELETE:e=Ca.CREATE;break;case Ca.CHANGE:e=Ca.CHANGE}b.push(a._restore(c,d,e,this.oldComponent,"undo"))}),b},execute:function(){var a=[];P(),this._forEach(function(b,c){this.operation!==Ca.DELETE&&(this.newComponent=new H({component:xa[b][c],isDetached:!0})),a.push(S(this.oldComponent,this.newComponent))}),T(a),Da=null},undo:function(){Q(),T(this._undo())},redo:function(){var a=this,b=[];Q(),this._forEach(function(c,d){b.push(a._restore(c,d,this.operation,this.newComponent,"redo"))}),T(b)},cancel:function(){P(),this._undo(),Da=null},label:function(){return this._label}};return{start:function(a,c){var d;if(Ba)throw"Page is read only!";return Q(),d=Object.create(b),d._label=c||"",d.widget=a,d.components={},Da=d,d},message:function(b){var c,d,e,f=".MULTIPLE",g=a.extend({action:"",component:null,property:null,count:1},b),h="TRANSACTION."+g.action;switch(g.action){case ka.CHANGE:c=1===g.count?g.component.getDisplayTitle():j("MULTIPLE_COMPONENTS"),e=j(h,c,g.property.getMetaData().prompt);break;case ka.CREATE:1===g.count?(d="string"==typeof g.component?g.component:g.component.typeId,c=oa[d].title.singular):c=j("MULTIPLE_COMPONENTS"),e=j(h,c);break;default:1===g.count?c=g.component.getDisplayTitle():(h+=f,c=g.count),e=j(h,c)}return e}}}();return{COMP_TYPE:ca,PROP:da,SOURCE_LOCATION_PROPS:ea,PROP_TYPE:ja,EVENT:fa,CALLBACK_ACTION:ga,MESSAGE_ACTION:ka,Component:H,getComponents:J,getComponentsAdvanced:K,fullTextSearch:L,displayTitleSearch:M,getItemsLov:N,getPagesLov:O,transaction:Ea,hasChanged:U,saveChanges:V,getPageLockState:_,lockPage:Z,unlockPage:$,getTemplateOptions:x,getTheme:t,getRegionTemplate:v,enquoteIdentifier:o,setComponentData:ba,initModelConfig:function(b,c,e){function f(b){b=a.extend(!0,{displayGroups:{},properties:{},componentTypes:{},plugins:{},pluginCategories:{},events:{browser:[],apex:[],component:[],custom:[],lookupMap:{}},text:{},formatMasks:{numbers:[],dates:[]}},b),ma=b.displayGroups,na=b.properties,oa=b.componentTypes,pa=b.pluginCategories,qa=b.events,ra=b.formatMasks,p(b.plugins,"%0")}function g(a){aa(a.componentTypes)}function h(b){a.extend(!0,{plugins:{}},b),sa=b,aa(sa.componentTypes);for(var c in sa.userInterfaces)sa.userInterfaces.hasOwnProperty(c)&&(sa.userInterfaces[c].id=c,m(sa.userInterfaces[c],{globalPageId:""}));p(b.plugins,d.getMessage("MODEL.POSTFIX.PLUGIN"));for(var c in sa.themes)sa.themes.hasOwnProperty(c)&&(sa.themes[c].templates[ca.REGION_TEMPLATE][""]=sa.themes[c].templates[ca.REGION_TEMPLATE][0],delete sa.themes[c].templates[ca.REGION_TEMPLATE][0],sa.themes[c].templates[ca.FIELD_TEMPLATE][""]=sa.themes[c].templates[ca.FIELD_TEMPLATE][0],delete sa.themes[c].templates[ca.FIELD_TEMPLATE][0],m(sa.themes[c].defaultTemplates,{page:"",dialog:"",region:"",field:"",button:"",report:"",ir:"",list:"",breadcrumb:"",calendar:""}))}f(b),g(c),h(e),q(),r(),a(document).trigger("modelConfigLoaded"),ba(c.components),ba(e.components)},setComponentTypeCallback:function(a,b){oa[a].callback=b},setPluginCallback:function(a,b,c){oa[a].pluginType.plugins[b].callback=c},getPageTemplate:u,getNavListTemplateId:function(){var a=xa[ca.PAGE][ua],b="";return A()||"L"!==a.getProperty(da.PAGE_NAVIGATION_TYPE).getValue()||(a.getProperty(da.NAVIGATION_LIST_TEMPLATE)?b=a.getProperty(da.NAVIGATION_LIST_TEMPLATE).getValue():va.navList&&(b=va.navList.templateId||"")),b},getNavListId:function(){var a=xa[ca.PAGE][ua],b="";return A()||"L"!==a.getProperty(da.PAGE_NAVIGATION_TYPE).getValue()||(a.getProperty(da.NAVIGATION_LIST)?b=a.getProperty(da.NAVIGATION_LIST).getValue():va.navList&&(b=va.navList.listId||"")),b},getNavBarListId:function(){return!A()&&va.navBar&&"LIST"===va.navBar.type?va.navBar.listId||"":""},getTabSetId:function(){var a=xa[ca.PAGE][ua],b="";return A()||"T"!==a.getProperty(da.PAGE_NAVIGATION_TYPE).getValue()||(b=a.getProperty(da.STANDARD_TAB_SET).getValue()),b},getRegionTemplates:function(){return t().templates[ca.REGION_TEMPLATE]},getButtonTemplates:function(){return t().templates[ca.BUTTON_TEMPLATE]},getThemeIcons:function(){return t().icons||{}},getParsingSchema:function(){return sa.parsingSchema},getPrimaryLanguage:function(){return sa.primaryLanguage},getDisplayGroup:function(a){return ma[a]},getComponentType:function(a){return oa[a]},getProperty:function(a){return na[a]},getPluginProperty:function(a,b,c){var d,e;e=a===ca.REGION?ca.REGION_PLUGIN_ATTR:a===ca.IG_COLUMN?ca.PAGE_ITEM:a,d=e+"_"+b+"_"+c;for(var f in na)if(na.hasOwnProperty(f)&&na[f].name===d)return na[f];return g},getLovTitle:function(a,b,c){var d=oa[a].properties[b].nullText||"",e=na[b];return"STATIC"===e.lovType?e.lovValuesMap.hasOwnProperty(c)&&(d=e.lovValues[e.lovValuesMap[c]].d):"EVENTS"===e.lovType&&qa.lookupMap.hasOwnProperty(c)&&(d=qa.lookupMap[c].d),d},getSourceLocationProperty:function(a){var b,c;for(b=0;b<ea.length;b++)if(c=a.getProperty(ea[b]))return c},getErrorComponents:function(){var a,b={};for(var c in oa)oa.hasOwnProperty(c)&&(a=J(c,{hasErrors:!0}),a.length>0&&(b[c]=a));return b},observer:function(b,c,d,e){za.push({widget:b,filter:a.extend({},{properties:[],events:[]},c),callback:d,sendInBulk:e,pendingNotifications:[]})},unobserver:function(a,b,c){for(var d,e,f=0;f<za.length;f++)za[f].widget===a&&(d=za[f].filter,b.hasOwnProperty("component")?b.component instanceof H&&d.component instanceof H?b.component.typeId===d.component.typeId&&b.component.id===d.component.id&&(e=!0):b.component.typeId===d.component.typeId&&(e=!0):e=!0,e&&b.hasOwnProperty("properties")&&(e=d.properties.join(",")===b.properties.join(",")),e&&b.hasOwnProperty("events")&&(e=d.events.join(",")===b.events.join(",")),e&&c&&(e=za[f].callback===c),e&&(za.splice(f,1),f--))},setCurrentAppId:function(a){ta=a},getCurrentAppId:function(){return ta},setCurrentPageId:function(a){var b=xa[ca.PAGE][a]._lock;ua=a+"",va=sa.userInterfaces[xa[ca.PAGE][ua].getProperty(da.USER_INTERFACE).getValue()],Ba=!(!Aa.isReadOnly&&(b===!1||b.isLockedByCurrentUser)),I(!0),Y()},getCurrentPageId:function(){return ua},getGlobalPageId:function(){return va.globalPageId},isGlobalPage:A,isPageReadOnly:function(){return Ba},clear:function(){ma=g,na=g,oa=g,pa=g,qa=g,ra=g,sa=g,xa={},ya={},ta=g,ua=g,va=g,Ba=!0;for(var a=0;a<za.length;a++)za[a].filter.component instanceof H&&(za.splice(a,1),a--)},init:function(a){Aa=a},getAll:function(){return{displayGroups:ma,properties:na,componentTypes:oa,pluginCategories:pa,sharedComponents:sa,components:xa,baseComponents:ya,observers:za}}}}(apex.jQuery,apex.util,apex.locale,apex.lang,apex.server,apex.debug);
!function(a,b,c,d,e,f,g,h){"use strict";function i(a){return f.getMessage("MODEL.CALLBACKS."+a)}function j(a){var b=i(a),c=[b].concat(Array.prototype.slice.call(arguments,1));return f.format.apply(this,c)}function k(b,c,d){return b&&(c===a.CALLBACK_ACTION.CREATED||c===a.CALLBACK_ACTION.CHANGED&&d.id===b.id)}function l(a,b,c,d){return k(a,b,c)&&a.getValue()===d}function m(a,b,c,d){return k(a,b,c)&&a.getValue()!==d}function n(a){for(var b=0;b<a.length;b++)a[b].remove()}function o(a,b){n(a.getChilds(b))}function p(a,b,c){var d=a.getProperty(b);d&&d.setValue(c)}function q(a){return d.escapeHTML(a.replace(/_+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/_/g," ").toLowerCase().split(" ").map(function(a){return a.replace(a[0],a[0].toUpperCase())}).join(" "))}function r(){return a.getComponents(a.COMP_TYPE.PAGE_PROCESS,{properties:[{id:a.PROP.PAGE_PROCESS_TYPE,value:new RegExp("^(NATIVE_FORM_FETCH|NATIVE_FORM_PROCESS)$")}]})}function s(b,c,d,e,f){function g(a,b){var c,d=[];for(c=0;c<a.length;c++)d.push({name:a[c].name,type:a[c].type,maxLen:a[c].maxLen,isRequired:a[c].isRequired,no:c+1,regionColumn:null}),b&&b(d[c]);return d}function h(a,b,c,d){var f,g,h,i,j,k=b.getChilds(c);for(f=0;f<k.length;f++){for(h=!1,i=k[f].getProperty(e),i?j=i.getValue():h=!0,g=0;g<a.length&&!h;g++)if(a[g].name===j&&(!d.compareCheck||d.compareCheck(a[g],k[f]))){a[g].regionColumn=k[f],h=!0;break}h||d.removeCheck&&!d.removeCheck(k[f])||k[f].remove()}}function i(b,c,d,e){var f,g,h,i=c.getChilds(d);for(i.length>0&&(g=i[i.length-1]),f=0;f<b.length;f++)b[f].regionColumn?e.update(b[f].regionColumn,b[f]):(h=[],h.push({id:a.PROP.COLUMN_NAME,value:b[f].name}),e.add(h,b[f]),g=new a.Component({previousComponent:g,typeId:d,parentId:c.id,values:h}))}var j;if(j=a.getSourceLocationProperty(b).getColumns(!0),j.length>0){if(j=g(j,f.setSqlColumn),h(j,c,d,{compareCheck:f.compareCheck,removeCheck:f.removeCheck}),f.ignoreRowid)for(var k=0;k<j.length;k++)if("ROWID"===j[k].name&&"ROWID"===j[k].type&&0===k){j.splice(k,1);break}i(j,c,d,{add:f.add,update:f.update})}}function t(b,c){function d(a){var b,c;for(b=0;b<e.length;b++)c=e[b].getProperty(a),parseInt(c.getValue(),10)!==b+1&&c.setValue(b+1)}var e;e=b.getChilds(c),d(a.PROP.DISPLAY_SEQUENCE),e=e.sort(function(b,c){var d="Y"===b.getProperty(a.PROP.DERIVED_COLUMN).getValue(),e="Y"===c.getProperty(a.PROP.DERIVED_COLUMN).getValue();return d&&!e?1:!d&&e?-1:parseInt(b.getProperty(a.PROP.QUERY_COLUMN_ID).getValue(),10)-parseInt(c.getProperty(a.PROP.QUERY_COLUMN_ID).getValue(),10)}),d(a.PROP.QUERY_COLUMN_ID)}function u(b,c){"Y"===c.getValue()&&g.process("getChartXML",{x01:b.parentId},{dataType:"text",async:!1,success:function(c){var d=b.getProperty(a.PROP.CUSTOM_XML);d.setValue(c)}})}function v(b){var c=b.getProperty(a.PROP.SOURCE_QUERY_ORDER_BY);return a.getSourceLocationProperty(b).hasOrderBy()||c&&""!==c.getValue()}function w(c,d,e,f,g){function h(a){o(a,f),o(a,g)}var i,j;if(c===a.CALLBACK_ACTION.CREATED||c===a.CALLBACK_ACTION.CHANGED&&b.inArray(d.id,a.SOURCE_LOCATION_PROPS)!==-1?(c===a.CALLBACK_ACTION.CREATED&&new a.Component({typeId:f,parentId:e.id}),s(e,e,g,a.PROP.COLUMN_NAME,{removeCheck:function(b){return"N"===b.getProperty(a.PROP.DERIVED_COLUMN).getValue()},add:function(b,c){b.push({id:a.PROP.QUERY_COLUMN_ID,value:c.no}),"BLOB"===c.type&&b.push({id:a.PROP.CLASSIC_REPORT_COLUMN_TYPE,value:"IMAGE"}),b.push({id:a.PROP.COLUMN_HEADING,value:q(c.name)})},update:function(b,c){var d=b.getProperty(a.PROP.QUERY_COLUMN_ID);parseInt(d.getValue(),10)!==c.no&&d.setValue(c.no)},ignoreRowid:!1}),t(e,g)):c===a.CALLBACK_ACTION.CHANGED&&b.inArray(d.id,[a.PROP.HAS_GENERIC_COLUMNS,a.PROP.GENERIC_COLUMN_COUNT])!==-1?(j=a.getSourceLocationProperty(d.component),j.setValue(j.getValue(),!0)):c===a.CALLBACK_ACTION.REMOVED&&h(e),(c===a.CALLBACK_ACTION.CREATED||c===a.CALLBACK_ACTION.CHANGED&&(b.inArray(d.id,a.SOURCE_LOCATION_PROPS)!==-1||d.id===a.PROP.SOURCE_QUERY_ORDER_BY)&&v(e))&&v(e)){i=e.getChilds(g,{filterFunction:function(){var b=this.getProperty(a.PROP.COLUMN_SORT_SEQUENCE),c=this.getProperty(a.PROP.DISABLE_SORT_COLUMN);return b&&""!==b.getValue()||c&&"N"===c.getValue()}});for(var k=0;k<i.length;k++)p(i[k],a.PROP.COLUMN_SORT_SEQUENCE,""),p(i[k],a.PROP.DISABLE_SORT_COLUMN,"Y")}}function x(b,c,d){var e;e=this.typeId===a.COMP_TYPE.CLASSIC_REPORT?a.COMP_TYPE.CLASSIC_RPT_PRINT:a.COMP_TYPE.TAB_FORM_PRINT,b===a.CALLBACK_ACTION.CREATED?"Y"===this.getProperty(a.PROP.ENABLE_PRINTING).getValue()&&new a.Component({typeId:e,parentId:this.id}):b===a.CALLBACK_ACTION.CHANGED&&c.id===a.PROP.ENABLE_PRINTING&&c.getValue()!==d&&("Y"===c.getValue()?new a.Component({typeId:e,parentId:this.id}):o(this,e))}function y(c,d){var e,f;c===a.CALLBACK_ACTION.CREATED||c===a.CALLBACK_ACTION.CHANGED&&b.inArray(d.id,a.SOURCE_LOCATION_PROPS)!==-1?(c===a.CALLBACK_ACTION.CREATED?(e=new a.Component({typeId:a.COMP_TYPE.IR_ATTRIBUTES,parentId:this.id}),f=a.getTheme().defaultTemplates.ir,f&&p(this,a.PROP.REGION_TEMPLATE,f)):e=this.getChilds(a.COMP_TYPE.IR_ATTRIBUTES)[0],s(this,e,a.COMP_TYPE.IR_COLUMN,a.PROP.COLUMN_NAME,{setSqlColumn:function(a){a.isTzDependent="N","VARCHAR2"===a.type?a.type="STRING":"TIMESTAMP"===a.type||"TIMESTAMP_TZ"===a.type?a.type="DATE":"TIMESTAMP_LTZ"===a.type?(a.type="DATE",a.isTzDependent="Y"):"NUMBER"!==a.type&&"DATE"!==a.type&&"CLOB"!==a.type&&(a.type="OTHER")},compareCheck:function(b,c){return b.type===c.getProperty(a.PROP.COLUMN_TYPE).getValue()},add:function(b,c){var d="D";b.push({id:a.PROP.COLUMN_TYPE,value:c.type}),"DATE"===c.type?(b.push({id:a.PROP.TZ_DEPENDENT,value:c.isTzDependent}),b.push({id:a.PROP.COLUMN_ALIGNMENT,value:"CENTER"})):"NUMBER"===c.type?b.push({id:a.PROP.COLUMN_ALIGNMENT,value:"RIGHT"}):"CLOB"!==c.type&&"OTHER"!==c.type||(b.push({id:a.PROP.ALLOW_USERS_TO_SORT,value:"N"}),b.push({id:a.PROP.ALLOW_USERS_TO_CONTROL_BREAK,value:"N"}),b.push({id:a.PROP.ALLOW_USERS_TO_AGGREGATE,value:"N"}),b.push({id:a.PROP.ALLOW_USERS_TO_COMPUTE,value:"N"}),b.push({id:a.PROP.ALLOW_USERS_TO_CHART,value:"N"}),b.push({id:a.PROP.ALLOW_USERS_TO_GROUP_BY,value:"N"}),b.push({id:a.PROP.ALLOW_USERS_TO_PIVOT,value:"N"}),d="N","OTHER"===c.type&&(b.push({id:a.PROP.ALLOW_USERS_TO_FILTER,value:"N"}),b.push({id:a.PROP.ALLOW_USERS_TO_HIGHLIGHT,value:"N"}))),b.push({id:a.PROP.IR_COLUMN_FILTER_TYPE,value:d}),b.push({id:a.PROP.COLUMN_HEADING,value:q(c.name)})},update:function(b,c){var d;"DATE"===c.type&&(d=b.getProperty(a.PROP.TZ_DEPENDENT),c.isTzDependent!==d.getValue()&&d.setValue(c.isTzDependent))},ignoreRowid:!1})):c===a.CALLBACK_ACTION.REMOVED&&o(this,a.COMP_TYPE.IR_ATTRIBUTES)}function z(c,d,e){function f(a,c){var d="Y"===a.getValue(),e=d?c.getValue().split(":"):[];return d&&(b.inArray("XLS",e)!==-1||b.inArray("PDF",e)!==-1||b.inArray("RTF",e)!==-1)}c===a.CALLBACK_ACTION.CREATED?f(this.getProperty(a.PROP.SHOW_DOWNLOAD),this.getProperty(a.PROP.DOWNLOAD_FORMATS))&&new a.Component({typeId:a.COMP_TYPE.IR_PRINT_ATTR,parentId:this.id}):c!==a.CALLBACK_ACTION.CHANGED||d.id!==a.PROP.DOWNLOAD_FORMATS&&d.id!==a.PROP.SHOW_DOWNLOAD||d.getValue()===e||(f(this.getProperty(a.PROP.SHOW_DOWNLOAD),this.getProperty(a.PROP.DOWNLOAD_FORMATS))?0===a.getComponents(a.COMP_TYPE.IR_PRINT_ATTR,{parentId:this.id}).length&&new a.Component({typeId:a.COMP_TYPE.IR_PRINT_ATTR,parentId:this.id}):o(this,a.COMP_TYPE.IR_PRINT_ATTR))}function A(c,d,e,f){var g,h;if(c===a.CALLBACK_ACTION.VALIDATE&&d.id===a.PROP.REGION_SQL){if(f.hasOrderBy)return{error:j("IG.HAS_ORDER_BY")}}else c===a.CALLBACK_ACTION.CREATED||c===a.CALLBACK_ACTION.CHANGED&&d.id===a.PROP.REGION_SQL?(c===a.CALLBACK_ACTION.CREATED?(g=new a.Component({typeId:a.COMP_TYPE.IG_ATTRIBUTES,parentId:this.id}),h=a.getTheme().defaultTemplates.ir,h&&p(this,a.PROP.REGION_TEMPLATE,h)):g=this.getChilds(a.COMP_TYPE.IG_ATTRIBUTES)[0],s(this,this,a.COMP_TYPE.IG_COLUMN,a.PROP.SOURCE_DB_COLUMN,{add:function(c,d){var e="DISTINCT",f=!0;c.push({id:a.PROP.IG_COLUMN_SOURCE_TYPE,value:"DB_COLUMN"}),c.push({id:a.PROP.SOURCE_DB_COLUMN,value:d.name}),c.push({id:a.PROP.DATA_TYPE,value:d.type}),"VARCHAR2"===d.type||"CLOB"===d.type?("VARCHAR2"===d.type&&d.maxLen<100?c.push({id:a.PROP.ITEM_TYPE,value:da.TEXT_FIELD}):(c.push({id:a.PROP.ITEM_TYPE,value:da.TEXTAREA}),c.push({id:a.PROP.ENABLE_SORT_GROUP,value:"N"}),e="NONE"),d.maxLen&&c.push({id:a.PROP.ELEMENT_MAX_CHARACTERS,value:d.maxLen+""})):"NUMBER"===d.type?c.push({id:a.PROP.ITEM_TYPE,value:da.NUMBER_FIELD}):b.inArray(d.type,["TIMESTAMP_TZ"])!==-1?c.push({id:a.PROP.ITEM_TYPE,value:da.TEXT_FIELD}):b.inArray(d.type,["DATE","TIMESTAMP","TIMESTAMP_LTZ"])!==-1?c.push({id:a.PROP.ITEM_TYPE,value:da.DATE_PICKER}):"ROWID"===d.type&&(f=!1,c.push({id:a.PROP.ITEM_TYPE,value:da.HIDDEN}),c.push({id:a.PROP.IS_PRIMARY_KEY,value:"Y"}),c.push({id:a.PROP.ENABLE_SORT_GROUP,value:"N"})),f&&(c.push({id:a.PROP.FILTER_DATA_TYPE,value:d.type}),c.push({id:a.PROP.FILTER_LOV_TYPE,value:e}),c.push({id:a.PROP.COLUMN_HEADING,value:q(d.name)}),c.push({id:a.PROP.VALUE_REQUIRED,value:d.isRequired?"Y":"N"}))},update:function(b,c){var d=b.getProperty(a.PROP.DATA_TYPE),e=b.getProperty(a.PROP.ELEMENT_MAX_CHARACTERS),f=c.maxLen+"",g=b.getProperty(a.PROP.VALUE_REQUIRED),h=c.isRequired?"Y":"N";d.getValue()!==c.type&&d.setValue(c.type),e&&"VARCHAR2"===c.type&&e.getValue()!==f&&e.setValue(f),g&&g.getValue()!==h&&g.setValue(h)},ignoreRowid:!0})):c===a.CALLBACK_ACTION.REMOVED&&(o(this,a.COMP_TYPE.IG_ATTRIBUTES),o(this,a.COMP_TYPE.IG_COLUMN))}function B(c,d,e){function g(a,c){var d="Y"===a.getValue(),e=d?c.getValue().split(":"):[];return d&&(b.inArray("XLS",e)!==-1||b.inArray("PDF",e)!==-1||b.inArray("RTF",e)!==-1)}function h(b,c,d){var e=[{id:a.PROP.COLUMN_NAME,value:c}].concat(d?d:[]);0===a.getComponents(a.COMP_TYPE.IG_COLUMN,{parentId:b,properties:[{id:a.PROP.COLUMN_NAME,value:c}]}).length&&new a.Component({typeId:a.COMP_TYPE.IG_COLUMN,parentId:b,values:e})}function i(b,c){n(a.getComponents(a.COMP_TYPE.IG_COLUMN,{parentId:b,properties:[{id:a.PROP.COLUMN_NAME,value:c}]}))}var j,k=this.parentId;if(c===a.CALLBACK_ACTION.CREATED?g(this.getProperty(a.PROP.ENABLE_DOWNLOAD),this.getProperty(a.PROP.IG_DOWNLOAD_FORMATS))&&new a.Component({typeId:a.COMP_TYPE.IG_PRINT,parentId:k}):c!==a.CALLBACK_ACTION.CHANGED||d.id!==a.PROP.IG_DOWNLOAD_FORMATS&&d.id!==a.PROP.ENABLE_DOWNLOAD||d.getValue()===e||(g(this.getProperty(a.PROP.ENABLE_DOWNLOAD),this.getProperty(a.PROP.IG_DOWNLOAD_FORMATS))?0===a.getComponents(a.COMP_TYPE.IG_PRINT,{parentId:k}).length&&new a.Component({typeId:a.COMP_TYPE.IG_PRINT,parentId:k}):o(this,a.COMP_TYPE.IG_PRINT)),c===a.CALLBACK_ACTION.CREATED||c===a.CALLBACK_ACTION.CHANGED&&d.id===a.PROP.IS_EDITABLE&&d.getValue()!==e)if("Y"===this.getProperty(a.PROP.IS_EDITABLE).getValue()){if(0===a.getComponents(a.COMP_TYPE.IG_COLUMN,{parentId:k,properties:[{id:a.PROP.IS_PRIMARY_KEY,value:"Y"}]}).length){j=this.getParent().getProperty(a.PROP.REGION_SQL).getColumns(!0);for(var l=0;l<j.length;l++)if("ROWID"===j[l].type){h(k,j[l].name,[{id:a.PROP.ITEM_TYPE,value:da.HIDDEN},{id:a.PROP.IG_COLUMN_SOURCE_TYPE,value:"DB_COLUMN"},{id:a.PROP.SOURCE_DB_COLUMN,value:j[l].name},{id:a.PROP.DATA_TYPE,value:"ROWID"},{id:a.PROP.IS_PRIMARY_KEY,value:"Y"},{id:a.PROP.ENABLE_SORT_GROUP,value:"N"}]);break}}h(k,"APEX$ROW_ACTION",[{id:a.PROP.ITEM_TYPE,value:da.ROW_ACTION}]),h(k,"APEX$ROW_SELECTOR",[{id:a.PROP.ITEM_TYPE,value:da.ROW_SELECTOR}]),0===a.getComponents(a.COMP_TYPE.PAGE_PROCESS,{properties:[{id:a.PROP.PAGE_PROCESS_TYPE,value:"NATIVE_IG_DML"},{id:a.PROP.PROCESS_REGION,value:k}]}).length&&new a.Component({previousComponent:"last",typeId:a.COMP_TYPE.PAGE_PROCESS,values:[{id:a.PROP.NAME,value:f.formatMessageNoEscape("WIZARD.IG.DML_PROCESS_NAME",this.getParent().getDisplayTitle())},{id:a.PROP.PAGE_PROCESS_TYPE,value:"NATIVE_IG_DML"},{id:a.PROP.PROCESS_REGION,value:k}]})}else i(k,"APEX$ROW_SELECTOR"),i(k,"APEX$ROW_ACTION"),n(a.getComponents(a.COMP_TYPE.VALIDATION,{properties:[{id:a.PROP.VALIDATION_REGION,value:k}]})),n(a.getComponents(a.COMP_TYPE.PAGE_PROCESS,{properties:[{id:a.PROP.PROCESS_REGION,value:k}]}))}function C(c,d,e){var f,g=a.getComponentType(a.COMP_TYPE.IG_COLUMN).pluginType.plugins[this.getProperty(a.PROP.ITEM_TYPE).getValue()],h=b.inArray("JOIN_LOV",g.features)!==-1,i=this.getProperty(a.PROP.DATA_TYPE),j=this.getProperty(a.PROP.FILTER_DATA_TYPE),n=this.getProperty(a.PROP.LOV_TYPE);m(this.getProperty(a.PROP.MASTER_COLUMN),c,d,"")&&p(this,a.PROP.ITEM_TYPE,da.HIDDEN),l(this.getProperty(a.PROP.ITEM_TYPE),c,d,da.HIDDEN)&&p(this,a.PROP.INCLUDE_IN_EXPORT_PRINT,"N"),l(this.getProperty(a.PROP.ITEM_TYPE),c,d,da.TEXT_FIELD)||l(this.getProperty(a.PROP.ITEM_TYPE),c,d,da.TEXTAREA)||k(this.getProperty(a.PROP.ITEM_TYPE),c,d)&&n?(p(this,a.PROP.COLUMN_ALIGNMENT,"LEFT"),p(this,a.PROP.HEADING_ALIGNMENT,"LEFT")):l(this.getProperty(a.PROP.ITEM_TYPE),c,d,da.NUMBER_FIELD)?(p(this,a.PROP.COLUMN_ALIGNMENT,"RIGHT"),p(this,a.PROP.HEADING_ALIGNMENT,"RIGHT"),p(this,a.PROP.FILTER_LOV_TYPE,"NONE")):l(this.getProperty(a.PROP.ITEM_TYPE),c,d,da.DATE_PICKER)&&(p(this,a.PROP.COLUMN_ALIGNMENT,"CENTER"),p(this,a.PROP.HEADING_ALIGNMENT,"CENTER")),c!==a.CALLBACK_ACTION.CREATED&&c!==a.CALLBACK_ACTION.CHANGED||!j||(h&&n&&""!==n.getValue()?f="VARCHAR2":i&&(f=i.getValue(),""===f&&(f="VARCHAR2")),j.getValue()!==f&&j.setValue(f)),m(this.getProperty(a.PROP.LOV_TYPE),c,d,"")&&p(this,a.PROP.FILTER_LOV_TYPE,"LOV")}function D(b,c){w(b,c,this,a.COMP_TYPE.CLASSIC_REPORT,a.COMP_TYPE.CLASSIC_RPT_COLUMN)}function E(b,c){var d,e=this;if(b===a.CALLBACK_ACTION.CREATED)alert(j("TABFORM.WARNING"));else if(b===a.CALLBACK_ACTION.VALIDATE&&c.id===a.PROP.REGION_TYPE&&(d=a.getComponents(a.COMP_TYPE.REGION,{properties:[{id:a.PROP.REGION_TYPE,value:"NATIVE_TABFORM"}],filterFunction:function(){return this.id!==e.id}}),d.length>0))return{error:j("TABFORM.ONLY_ONE_PER_PAGE")};w(b,c,this,a.COMP_TYPE.TABULAR_FORM,a.COMP_TYPE.TAB_FORM_COLUMN)}function F(b,c,d,e,f){var g=b.getParent();return d===a.CALLBACK_ACTION.VALIDATE&&(e.id===a.PROP.DISABLE_SORT_COLUMN&&"N"===f||e.id===a.PROP.COLUMN_SORT_SEQUENCE&&""!==f)&&v(g)?{error:j("CLASSIC_RPT_TABFORM_COLUMN.NO_SORTING")}:void(d===a.CALLBACK_ACTION.CHANGED&&e.id===a.PROP.COLUMN_SORT_SEQUENCE&&""===e.getValue()&&v(g)&&"N"===b.getProperty(a.PROP.DISABLE_SORT_COLUMN).getValue()?p(b,a.PROP.DISABLE_SORT_COLUMN,"Y"):g&&d===a.CALLBACK_ACTION.REMOVED&&t(g,c))}function G(b,c,d){return F(this,a.COMP_TYPE.CLASSIC_RPT_COLUMN,b,c,d)}function H(b,c,d){return F(this,a.COMP_TYPE.TAB_FORM_COLUMN,b,c,d)}function I(c,d){var e=a.getComponentType(a.COMP_TYPE.REGION).pluginType.plugins[this.getProperty(a.PROP.REGION_TYPE).getValue()],f=b.inArray("VALUE_ALIGNMENT",e.features)!==-1;c===a.CALLBACK_ACTION.CREATED||c===a.CALLBACK_ACTION.CHANGED&&b.inArray(d.id,a.SOURCE_LOCATION_PROPS)!==-1?s(this,this,a.COMP_TYPE.REGION_COLUMN,a.PROP.COLUMN_NAME,{add:function(c,d){c.push({id:a.PROP.HIDDEN_REGION_TYPE,value:e.name}),c.push({id:a.PROP.COLUMN_TYPE,value:d.type}),"ROWID"===d.type?c.push({id:a.PROP.IS_VISIBLE,value:"N"}):(b.inArray("COLUMN_HEADING",e.features)!==-1&&c.push({id:a.PROP.COLUMN_HEADING,value:q(d.name)}),f&&(b.inArray(d.type,["DATE","TIMESTAMP","TIMESTAMP_TZ","TIMESTAMP_LTZ"])!==-1?(c.push({id:a.PROP.COLUMN_ALIGNMENT,value:"CENTER"}),c.push({id:a.PROP.HEADING_ALIGNMENT,value:"CENTER"})):"NUMBER"===d.type?(c.push({id:a.PROP.COLUMN_ALIGNMENT,value:"RIGHT"}),c.push({id:a.PROP.HEADING_ALIGNMENT,value:"RIGHT"})):(c.push({id:a.PROP.COLUMN_ALIGNMENT,value:"LEFT"}),c.push({id:a.PROP.HEADING_ALIGNMENT,value:"LEFT"}))))},update:function(b,c){var d=b.getProperty(a.PROP.COLUMN_TYPE);d.getValue()!==c.type&&d.setValue(c.type)},ignoreRowid:!1}):c===a.CALLBACK_ACTION.REMOVED&&o(this,a.COMP_TYPE.REGION_COLUMN)}function J(b,c){var d;b===a.CALLBACK_ACTION.CREATED?(d=new a.Component({typeId:a.COMP_TYPE.MAP_CHART,parentId:this.id,values:[{id:a.PROP.CHART_TITLE,value:this.getDisplayTitle()}]}),new a.Component({typeId:a.COMP_TYPE.MAP_CHART_SERIES,parentId:d.id})):b===a.CALLBACK_ACTION.REMOVED&&o(this,a.COMP_TYPE.MAP_CHART)}function K(b,c){b===a.CALLBACK_ACTION.CREATED?new a.Component({typeId:a.COMP_TYPE.CHART,parentId:this.id,values:[{id:a.PROP.CHART_TITLE,value:this.getDisplayTitle()}]}):b===a.CALLBACK_ACTION.REMOVED&&o(this,a.COMP_TYPE.CHART)}function L(c,d){function e(a,b){for(var c,d=0;d<b.length;d++)if(c=a.getProperty(b[d]),c!==h)return c.getValue()}function f(a,b,c){for(var d,e=0;e<b.length;e++)if(d=a.getProperty(b[e]),d!==h)return void d.setValue(c)}var g,i,j,k,l=[a.PROP.PROJECT_GANTT_SERIES_SOURCE_TYPE,a.PROP.RESOURCE_GANTT_SERIES_SOURCE_TYPE,a.PROP.PIE_DOUGHNUT_SERIES_SOURCE_TYPE,a.PROP.DIAL_SERIES_SOURCE_TYPE,a.PROP.SCATTER_SERIES_SOURCE_TYPE,a.PROP.RANGE_SERIES_SOURCE_TYPE,a.PROP.CANDLESTICK_SERIES_SOURCE_TYPE,a.PROP.LINE_COL_BAR_STK_SERIES_SOURCE_TYPE],m=[a.PROP.PROJECT_GANTT_SOURCE_QUERY,a.PROP.RESOURCE_GANTT_SOURCE_QUERY,a.PROP.PIE_DOUGHNUT_SOURCE_QUERY,a.PROP.DIAL_SOURCE_QUERY,a.PROP.SCATTER_SOURCE_QUERY,a.PROP.RANGE_SOURCE_QUERY,a.PROP.CANDLESTICK_SOURCE_QUERY,a.PROP.LINE_COL_BAR_STK_SOURCE_QUERY],n=[a.PROP.PROJECT_GANTT_SOURCE_FUNC_RETURNING_SQL,a.PROP.RESOURCE_GANTT_SOURCE_FUNC_RETURNING_SQL,a.PROP.PIE_DOUGHNUT_SOURCE_FUNC_RETURNING_SQL,a.PROP.DIAL_SOURCE_FUNC_RETURNING_SQL,a.PROP.SCATTER_SOURCE_FUNC_RETURNING_SQL,a.PROP.RANGE_SOURCE_FUNC_RETURNING_SQL,a.PROP.CANDLESTICK_SOURCE_FUNC_RETURNING_SQL,a.PROP.LINE_COL_BAR_STK_SOURCE_FUNC_RETURNING_SQL],o=this.getProperty(a.PROP.CHART_TYPE).getValue();if(c===a.CALLBACK_ACTION.CREATED)new a.Component({typeId:a.COMP_TYPE.CHART_SERIES,parentId:this.id,values:[{id:a.PROP.SERIES_CHART_TYPE,value:o}]});else if(c===a.CALLBACK_ACTION.CHANGED)if(d.id===a.PROP.CHART_TYPE){g=this.getChilds(a.COMP_TYPE.CHART_SERIES);for(var q=0;q<g.length;q++)i=e(g[q],l),j=e(g[q],m),k=e(g[q],n),p(g[q],a.PROP.SERIES_CHART_TYPE,o),f(g[q],l,i),f(g[q],m,j),f(g[q],n,k);if(b.inArray(o,["COLUMN","STACKED_COLUMN","STACKED_COLUMN_PCT","BAR","STACKED_BAR","STACKED_BAR_PCT","LINE"])===-1)for(var q=1;q<g.length;q++)g[q].remove();"LINE"===o&&1===g.length&&p(g[0],a.PROP.SERIES_TYPE,"Line")}else d.id===a.PROP.USE_CUSTOM_XML&&u(this,d)}function M(b,c){b===a.CALLBACK_ACTION.CREATED?new a.Component({typeId:a.COMP_TYPE.JET_CHART,parentId:this.id}):b===a.CALLBACK_ACTION.REMOVED&&o(this,a.COMP_TYPE.JET_CHART)}function N(c,d){function e(){var b,c;0===i.getChilds(a.COMP_TYPE.JET_CHART_AXES).length&&("gantt"===j?(b="major",c="minor"):(b="x",c="y"),new a.Component({typeId:a.COMP_TYPE.JET_CHART_AXES,parentId:i.id,values:[{id:a.PROP.NAME,value:b}]}),new a.Component({typeId:a.COMP_TYPE.JET_CHART_AXES,parentId:i.id,values:[{id:a.PROP.NAME,value:c}]}))}var f,g,h=["area","bar","boxPlot","bubble","combo","line","lineWithArea","range","polar","radar","stock","scatter","gantt"],i=this,j=i.getProperty(a.PROP.JET_CHART_TYPE).getValue();if(c===a.CALLBACK_ACTION.CREATED)new a.Component({typeId:a.COMP_TYPE.JET_CHART_SERIES,parentId:i.id,values:[{id:a.PROP.SERIES_CHART_TYPE,value:j}]}),b.inArray(j,h)!==-1&&e();else if(c===a.CALLBACK_ACTION.CHANGED&&(f=i.getChilds(a.COMP_TYPE.JET_CHART_SERIES),d.id===a.PROP.JET_CHART_TYPE)){for(var k=0;k<f.length;k++)p(f[k],a.PROP.SERIES_CHART_TYPE,j);if(b.inArray(j,["dial","stock","gantt"])!==-1)for(var k=1;k<f.length;k++)f[k].remove();b.inArray(j,h)!==-1?(g=i.getChilds(a.COMP_TYPE.JET_CHART_AXES),0!==g.length&&("x"===g[0].getProperty(a.PROP.NAME).getValue()&&"gantt"===j&&o(i,a.COMP_TYPE.JET_CHART_AXES),"major"===g[0].getProperty(a.PROP.NAME).getValue()&&"gantt"!==j&&o(i,a.COMP_TYPE.JET_CHART_AXES)),e()):o(i,a.COMP_TYPE.JET_CHART_AXES)}}function O(c,d,e){function f(){var a,b;for(a=0;a<h.length&&!(b=i.getProperty(h[a]));a++);return b.getValue()}var g,h=[a.PROP.JET_SERIES_TYPE_COMBO,a.PROP.JET_SERIES_TYPE_RANGE,a.PROP.JET_SERIES_TYPE_POLAR,a.PROP.JET_SERIES_TYPE_RADAR,a.PROP.JET_SERIES_TYPE_BOX_PLOT,a.PROP.SERIES_CHART_TYPE],i=this;(c===a.CALLBACK_ACTION.CREATED||c===a.CALLBACK_ACTION.CHANGED&&b.inArray(d.id,h)!==-1)&&p(i,a.PROP.JET_SERIES_TYPE_COLUMN_MAPPING,f()),c===a.CALLBACK_ACTION.CHANGED&&d.id===a.PROP.CHART_SOURCE_LOCATION&&(g=i.getParent().getParent().getProperty(a.PROP.SOURCE_LOCATION),"REGION_SOURCE"===i.getProperty(a.PROP.CHART_SOURCE_LOCATION).getValue()?(g._isRequired=!0,""===g.getValue()&&g.setValue("",!0)):g._isRequired=!1),W(c,this,d,e,a.COMP_TYPE.JET_CHART_WS_PARAM),c===a.CALLBACK_ACTION.CHANGED&&d.id===a.PROP.ASSIGNED_TO_Y2&&"on"===i.getProperty(a.PROP.ASSIGNED_TO_Y2).getValue()&&2===i.getParent().getChilds(a.COMP_TYPE.JET_CHART_AXES).length&&new a.Component({typeId:a.COMP_TYPE.JET_CHART_AXES,parentId:i.getParent().id,values:[{id:a.PROP.NAME,value:"y2"}]})}function P(b,c){var d,e=this;if(b===a.CALLBACK_ACTION.CREATED)new a.Component({typeId:a.COMP_TYPE.CLASSIC_CALENDAR,parentId:this.id}),alert(j("LEGACY_CALENDAR.WARNING"));else if(b===a.CALLBACK_ACTION.VALIDATE&&c.id===a.PROP.REGION_TYPE){if(d=a.getComponents(a.COMP_TYPE.REGION,{properties:[{id:a.PROP.REGION_TYPE,value:"NATIVE_CALENDAR"}],filterFunction:function(){return this.id!==e.id}}),d.length>0)return{error:j("LEGACY_CALENDAR.ONLY_ONE_PER_PAGE")}}else b===a.CALLBACK_ACTION.REMOVED&&o(this,a.COMP_TYPE.CLASSIC_CALENDAR)}function Q(b,c){var d=a.getPluginProperty(a.COMP_TYPE.DA_ACTION,"NATIVE_SET_VALUE",1).id,e=this.getProperty(a.PROP.FIRE_ON_PAGE_LOAD);b===a.CALLBACK_ACTION.CHANGED&&c.id===d&&"DIALOG_RETURN_ITEM"===c.getValue()&&"Y"===e.getValue()&&e.setValue("N")}function R(b,c,d){function e(){o(l,a.COMP_TYPE.PAGE_PROC_WS_P_I),o(l,a.COMP_TYPE.PAGE_PROC_WS_P_O),o(l,a.COMP_TYPE.PAGE_PROC_WS_P_A)}function f(b,c,d){for(var e=a.getComponents(c,{parentId:b}),f=0;f<e.length;f++)new a.Component({typeId:d,parentId:l.id,values:[{id:a.PROP.PARAMETER_ID,value:e[f].id},{id:a.PROP.NAME,value:e[f].getProperty(a.PROP.NAME).getValue()}]})}var g,h,i,j,k,l=this;g=b===a.CALLBACK_ACTION.VALIDATE&&c.id===a.PROP.PAGE_PROCESS_TYPE?d:this.getProperty(a.PROP.PAGE_PROCESS_TYPE).getValue(),h=a.getPluginProperty(a.COMP_TYPE.PAGE_PROCESS,g,1).id,i=a.getPluginProperty(a.COMP_TYPE.PAGE_PROCESS,g,2).id,b!==a.CALLBACK_ACTION.CREATED&&b!==a.CALLBACK_ACTION.CHANGED||(j=this.getProperty(h).getValue(),k=this.getProperty(i).getValue()),b===a.CALLBACK_ACTION.CREATED&&""!==j||b===a.CALLBACK_ACTION.CHANGED&&c.id===h&&j!==d?(b===a.CALLBACK_ACTION.CHANGED&&e(),""!==j&&(f(j,a.COMP_TYPE.WS_REF_OPER_P_I,a.COMP_TYPE.PAGE_PROC_WS_P_I),f(j,a.COMP_TYPE.WS_REF_OPER_P_H,a.COMP_TYPE.PAGE_PROC_WS_P_I),"ITEMS"===k&&f(j,a.COMP_TYPE.WS_REF_OPER_P_O,a.COMP_TYPE.PAGE_PROC_WS_P_O),f(j,a.COMP_TYPE.WS_REF_OPER_P_A,a.COMP_TYPE.PAGE_PROC_WS_P_A))):b===a.CALLBACK_ACTION.CHANGED&&c.id===i&&k!==d?(o(l,a.COMP_TYPE.PAGE_PROC_WS_P_O),"ITEMS"===k&&f(j,a.COMP_TYPE.WS_REF_OPER_P_O,a.COMP_TYPE.PAGE_PROC_WS_P_O)):b===a.CALLBACK_ACTION.REMOVED&&e()}function S(b,c,d){var e=this.getProperty(a.PROP.PLSQL_CODE);(l(this.getProperty(a.PROP.PLSQL_PROCESS_LOCATION),b,c,"LOCAL")||m(this.getProperty(a.PROP.SOURCE_REMOTE_DATABASE),b,c,""))&&""!==e.getValue()&&e.setValue(e.getValue(),!0)}function T(c,d){var e,f,g=this.getProperty(a.PROP.ITEM_TYPE).getValue();g!==da.SELECT_LIST||c!==a.CALLBACK_ACTION.CREATED&&c!==a.CALLBACK_ACTION.CHANGED?c===a.CALLBACK_ACTION.CREATED&&(b.inArray(g,[da.RICH_TEXT_EDITOR,da.TEXTAREA,da.SHUTTLE])!==-1?p(this,a.PROP.ELEMENT_HEIGHT,"5"):g===da.FILE&&0===r().length&&p(this,a.getPluginProperty(a.COMP_TYPE.PAGE_ITEM,da.FILE,1).id,"APEX_APPLICATION_TEMP_FILES")):(e=this.getProperty(a.getPluginProperty(a.COMP_TYPE.PAGE_ITEM,da.SELECT_LIST,2).id),!e||c!==a.CALLBACK_ACTION.CREATED&&d.id!==e.id||(f="Y"===e.getValue()?5:1,p(this,a.PROP.ELEMENT_HEIGHT,f)))}function U(b,c,d){var e,f,g,h,i,j,k,l,m=/^(P\d+_)/;if(b===a.CALLBACK_ACTION.CREATED)i=this.getProperty(a.PROP.SOURCE_TYPE),i&&"DB_COLUMN"===i.getValue()&&0===r().length&&i.setValue("ALWAYS_NULL");else if(b===a.CALLBACK_ACTION.CHANGED)if(c.id===a.PROP.ITEM_NAME)e=d.replace(m,""),f=c.getValue().replace(m,""),g=this.getProperty(a.PROP.ITEM_LABEL),!g||q(e)!==g.getValue()&&""!==g.getValue()||g.setValue(q(f)),h=this.getProperty(a.PROP.SOURCE_DB_COLUMN),!h||d.replace(m,"")!==h.getValue()&&""!==h.getValue()||h.setValue(c.getValue().replace(m,""));else if(c.id===a.PROP.SOURCE_TYPE)j=this.getProperty(a.PROP.SOURCE_USED),j&&"DB_COLUMN"===c.getValue()?j.setValue("NO"):j.setValue("YES");else if(c.id===a.PROP.SOURCE_DB_COLUMN&&(f=c.getValue(),k=r(),k.length>0)){l="NATIVE_FORM_FETCH"===k[0].getProperty(a.PROP.PAGE_PROCESS_TYPE).getValue()?k[0].getProperty(a.PROP.FORM_FETCH_TABLE_NAME).getColumns():k[0].getProperty(a.PROP.FORM_PROCESS_TABLE_NAME).getColumns();for(var n=0;n<l.length;n++)l[n].name===f&&(p(this,a.PROP.VALUE_REQUIRED,l[n].isRequired?"Y":"N"),p(this,a.PROP.ELEMENT_MAX_CHARACTERS,l[n].hasOwnProperty("maxLen")?l[n].maxLen+"":""))}}function V(b,c,d){function e(b,c,d){var e,f;e=a.getComponents(c,{properties:[{id:d,value:b}]});for(var g=0;g<e.length;g++)f=e[g].getProperty(d),f.setValue(f.getValue(),!0)}var f=this.getProperty(a.PROP.BUTTON_LABEL),g=q(this.getProperty(a.PROP.BUTTON_NAME).getValue());b===a.CALLBACK_ACTION.CREATED?f.setValue(g):b===a.CALLBACK_ACTION.CHANGED&&(c.id===a.PROP.BUTTON_NAME?(f=this.getProperty(a.PROP.BUTTON_LABEL),q(d)!==f.getValue()&&""!==f.getValue()||f.setValue(g)):c.id===a.PROP.BUTTON_TEMPLATE&&(e(this.id,a.COMP_TYPE.DA_EVENT,a.PROP.WHEN_BUTTON),e(this.id,a.COMP_TYPE.DA_ACTION,a.PROP.AFFECTED_BUTTON)))}function W(c,d,e,f,g){function h(b,c,d){var e,f,h;e=a.getComponents(d,{parentId:c,properties:[{id:a.PROP.DIRECTION,value:new RegExp("^(IN|IN_OUT)$")}],filterFunction:function(){return"N"===this.getProperty(a.PROP.IS_STATIC).getValue()}});for(var i=0;i<e.length;i++)h=[{id:a.PROP.WEB_SRC_PARAM,value:e[i].id}],f=e[i].getProperty(a.PROP.PARAMETER_VALUE).getValue(),""!==f||"Y"===e[i].getProperty(a.PROP.PARAMETER_REQUIRED).getValue()?(h.push({id:a.PROP.VALUE_TYPE,value:"STATIC"}),""!==h&&h.push({id:a.PROP.VALUE_STATIC_VALUE,value:e[i].getProperty(a.PROP.PARAMETER_VALUE).getValue()})):h.push({id:a.PROP.VALUE_TYPE,value:"NULL"}),new a.Component({typeId:g,parentId:b,values:h})}function i(a){var b;b=a.value?a.value:d.getProperty(a.id).getValue()||"",""!==b&&(a.prefix&&(s+=a.prefix),s+=a.identifier&&!/^[A-Z]+[A-Z0-9_$]*$/.test(b)?'"'+b+'"':b,a.postfix&&(s+=a.postfix))}var j,m,n,q,r,s="";if(e&&e.id===a.PROP.SOURCE_QUERY_TYPE)if(q=d.getProperty(a.PROP.SOURCE_QUERY_TYPE).getValue(),c===a.CALLBACK_ACTION.VALIDATE)if("TABLE"===q&&b.inArray(f,["SQL","FUNC_BODY_RETURNING_SQL"])!==-1){if(r=d.getProperty(a.PROP.SOURCE_QUERY_TABLE).getColumns(),r.length>0){for(var t=0;t<r.length;t++)i({value:r[t].name,prefix:0===t?"":"       ",postfix:t<r.length-1?",\n":"",identifier:!0});s="select "+s+"\n  from ",i({id:a.PROP.SOURCE_QUERY_OWNER,postfix:".",identifier:!0}),i({id:a.PROP.SOURCE_QUERY_TABLE,identifier:!0}),i({id:a.PROP.SOURCE_QUERY_WHERE,prefix:"\n where "}),i({id:a.PROP.SOURCE_QUERY_ORDER_BY,prefix:"\n order by "})}ea=s+""}else ea="SQL"===q&&"FUNC_BODY_RETURNING_SQL"===f?d.getProperty(a.PROP.SOURCE_SQL_QUERY).getValue()+"":"";else c===a.CALLBACK_ACTION.CHANGED&&b.inArray(f,["TABLE","SQL"])!==-1&&""!==ea&&("SQL"===q?p(d,a.PROP.SOURCE_SQL_QUERY,ea):"FUNC_BODY_RETURNING_SQL"===q&&p(d,a.PROP.SOURCE_QUERY_PLSQL_FUNCTION_BODY,"return q'~\n"+ea+"\n~';"),ea="");if(c===a.CALLBACK_ACTION.CHANGED&&e.id===a.PROP.SOURCE_INCLUDE_ROWID_COLUMN&&(j=d.getProperty(a.PROP.SOURCE_QUERY_TABLE),j.setValue(j.getValue(),!0)),j=d.getProperty(a.PROP.SOURCE_WEB_SRC_QUERY),k(j,c,e)&&(o(d,g),m=j.getValue(),""!==m&&(h(d.id,m,a.COMP_TYPE.WEB_SRC_MOD_PARAM),n=a.getComponents(a.COMP_TYPE.WEB_SRC_OPERATION,{parentId:m,properties:[{id:a.PROP.DATABASE_OPERATION,value:"FETCH_COLLECTION"}]})[0].id,h(d.id,n,a.COMP_TYPE.WEB_SRC_OPER_PARAM))),j=d.getProperty(a.PROP.SOURCE_POST_PROCESSING),(l(j,c,e,"SQL")||l(j,c,e,"FUNC_BODY_RETURNING_SQL"))&&(s="",r=d.getProperty(a.PROP.SOURCE_WEB_SRC_QUERY).getColumns(),r.length>0)){for(var t=0;t<r.length;t++)i({value:r[t].name,prefix:0===t?"":"       ",postfix:t<r.length-1?",\n":"",identifier:!0});s="select "+s+"\n  from #APEX$SOURCE_DATA#","SQL"===j.getValue()?p(d,a.PROP.POST_PROC_SQL_QUERY,s):"FUNC_BODY_RETURNING_SQL"===j.getValue()&&p(d,a.PROP.POST_PROC_PLSQL_FUNCTION_BODY,"return q'~\n"+s+"\n~';")}}function X(b,c,d){var e;if(""!==this.getProperty(a.PROP.PARENT_REGION).getValue()&&(b===a.CALLBACK_ACTION.CREATED||b===a.CALLBACK_ACTION.CHANGED&&c.id===a.PROP.PARENT_REGION&&""===d)&&p(this,a.PROP.REGION_DISPLAY_SELECTOR,"N"),b===a.CALLBACK_ACTION.CHANGED&&c.id===a.PROP.MASTER_REGION&&""!==d){e=this.getChilds(a.COMP_TYPE.IG_COLUMN,{filterFunction:function(){var b=this.getProperty(a.PROP.MASTER_COLUMN);return b&&""!==b.getValue()}});for(var f=0;f<e.length;f++)p(e[f],a.PROP.MASTER_COLUMN,"")}W(b,this,c,d,a.COMP_TYPE.REGION_WS_PARAM)}function Y(b,c){b===a.CALLBACK_ACTION.CHANGED&&c.id===a.PROP.USE_CUSTOM_XML&&u(this,c)}function Z(c,d,f){var g,h,i,j=e.getDecimalSeparator(),k={LETTER:{units:"INCHES",width:"8"+j+"5",height:"11"},LEGAL:{units:"INCHES",width:"8"+j+"5",height:"14"},TABLOID:{units:"INCHES",width:"8.5",height:"17"},A4:{units:"MILLIMETERS",width:"210",height:"297"},A3:{units:"MILLIMETERS",width:"297",height:"420"}};c===a.CALLBACK_ACTION.CREATED?(g=b.inArray(a.getPrimaryLanguage(),["en","en-us","en-ca","fr-ca"])!==-1?"LETTER":"A4",p(this,a.PROP.PRINT_PAGE_SIZE,g),p(this,a.PROP.PRINT_UNITS,k[g].units),p(this,a.PROP.PRINT_WIDTH,k[g].width),p(this,a.PROP.PRINT_HEIGHT,k[g].height)):c===a.CALLBACK_ACTION.CHANGED&&(d.id===a.PROP.PRINT_PAGE_SIZE&&"CUSTOM"!==d.getValue()?(g=k[d.getValue()],p(this,a.PROP.PRINT_UNITS,g.units),"VERTICAL"===this.getProperty(a.PROP.PRINT_ORIENTATION).getValue()?(p(this,a.PROP.PRINT_WIDTH,g.width),p(this,a.PROP.PRINT_HEIGHT,g.height)):(p(this,a.PROP.PRINT_WIDTH,g.height),p(this,a.PROP.PRINT_HEIGHT,g.width))):d.id===a.PROP.PRINT_ORIENTATION&&(h=this.getProperty(a.PROP.PRINT_WIDTH).getValue(),i=this.getProperty(a.PROP.PRINT_HEIGHT).getValue(),p(this,a.PROP.PRINT_WIDTH,i),p(this,a.PROP.PRINT_HEIGHT,h)))}function $(b){var c,d;if(""!==b&&(c=a.getComponents(a.COMP_TYPE.BUTTON,{id:b})[0],d=c.getProperty(a.PROP.BUTTON_TEMPLATE).getValue(),""!==d&&!a.getButtonTemplates()[d].hasButtonId&&!/id=/.test(c.getProperty(a.PROP.CUSTOM_ATTRIBUTES).getValue())))return{error:f.formatMessage("PD.PE.BUTTON_NO_ID_ERROR")}}function _(b){var c;return b.getProperty(a.PROP.JS_CONDITION)?c=b.getProperty(a.PROP.JS_CONDITION):b.getProperty(a.PROP.JS_CONDITION_WHEN_IG)&&(c=b.getProperty(a.PROP.JS_CONDITION_WHEN_IG)),!c||""===c.getValue()}function aa(c,d,e){var f,g,h,i,j,l,m,o,q,r,s=this.getProperty(a.PROP.IG_REGION),t="";if(m=this.getProperty(a.PROP.WHEN_REGION),c===a.CALLBACK_ACTION.CREATED||c===a.CALLBACK_ACTION.CHANGED&&b.inArray(d.id,[a.PROP.WHEN_TYPE,a.PROP.WHEN_REGION])!==-1)for(m&&""!==m.getValue()&&(o=a.getComponents(a.COMP_TYPE.REGION,{id:m.getValue()})[0].getProperty(a.PROP.REGION_TYPE).getValue(),"NATIVE_IG"===o&&(t=m.getValue())),s.setValue(t),l=this.getChilds(a.COMP_TYPE.DA_ACTION),f=0;f<l.length;f++)p(l[f],a.PROP.IG_REGION,t);if(c===a.CALLBACK_ACTION.CHANGED&&b.inArray(d.id,[a.PROP.JS_CONDITION,a.PROP.JS_CONDITION_WHEN_IG])!==-1)if(i=this.getChilds(a.COMP_TYPE.DA_ACTION,{properties:[{id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:"FALSE"}]}),_(this))n(i);else for(f=0;f<i.length;f++)j=i[f].getProperty(a.PROP.FIRE_WHEN_EVENT_RESULT_IS),j.setValue(j.getValue());if((c===a.CALLBACK_ACTION.CREATED||c===a.CALLBACK_ACTION.CHANGED&&b.inArray(d.id,[a.PROP.JS_CONDITION,a.PROP.JS_CONDITION_WHEN_IG,a.PROP.WHEN_ITEMS,a.PROP.WHEN_COLUMNS])!==-1)&&(""===s.getValue()?(q=this.getProperty(a.PROP.WHEN_ITEMS),r=this.getProperty(a.PROP.JS_CONDITION_ITEM)):(q=this.getProperty(a.PROP.WHEN_COLUMNS),r=this.getProperty(a.PROP.JS_CONDITION_COLUMN_WHEN_IG)),q&&r&&(""===r.getValue()||d.id===q.id&&r.getValue()===e.split(",")[0])&&r.setValue(q.getValue().split(",")[0])),g=this.getProperty(a.PROP.WHEN_BUTTON),k(g,c,d))/^apex/.test(this.getProperty(a.PROP.EVENT).getValue())||!g||g.getMetaData().isReadOnly||""===g.getValue()||(h=a.getComponents(a.COMP_TYPE.BUTTON,{id:g.getValue()})[0].getProperty(a.PROP.BUTTON_ACTION),"DEFINED_BY_DA"!==h.getValue()&&h.setValue("DEFINED_BY_DA"));else if(c===a.CALLBACK_ACTION.VALIDATE&&d.id===a.PROP.WHEN_BUTTON)return $(e)}function ba(c,d,e){var g=this.getProperty(a.PROP.DA_ACTION_TYPE),h=this.getProperty(a.PROP.AFFECTED_TYPE);
if(c===a.CALLBACK_ACTION.CREATED)p(this,a.PROP.IG_REGION,this.getParent().getProperty(a.PROP.IG_REGION).getValue()),h&&""===h.getValue()&&"NATIVE_JAVASCRIPT_CODE"!==g.getValue()&&(""===this.getProperty(a.PROP.IG_REGION).getValue()?h.setValue("ITEM"):h.setValue("COLUMN"));else if(c===a.CALLBACK_ACTION.CHANGED)d.id===a.PROP.DA_EVENT&&"FALSE"===this.getProperty(a.PROP.FIRE_WHEN_EVENT_RESULT_IS).getValue()&&_(this.getParent())&&p(this,a.PROP.FIRE_WHEN_EVENT_RESULT_IS,"TRUE");else if(c===a.CALLBACK_ACTION.VALIDATE)if(d.id===a.PROP.FIRE_WHEN_EVENT_RESULT_IS){if("FALSE"===e&&_(this.getParent()))return{error:f.formatMessage("PD.PE.INVALID_FALSE_ACTIONS")}}else{if(d.id===a.PROP.AFFECTED_BUTTON)return $(e);if(d.id===a.PROP.AFFECTED_COLUMNS){if(""!==this.getProperty(a.PROP.IG_REGION).getValue()&&""!==e&&b.inArray(this.getProperty(a.PROP.DA_ACTION_TYPE).getValue(),["NATIVE_SHOW","NATIVE_HIDE"])>-1)return{error:f.formatMessage("PD.PE.SHOW_HIDE_NOT_SUPPORTED")}}else if(d.id===a.PROP.DA_ACTION_TYPE&&""!==this.getProperty(a.PROP.IG_REGION).getValue()&&this.getProperty(a.PROP.AFFECTED_COLUMNS)&&""!==this.getProperty(a.PROP.AFFECTED_COLUMNS).getValue()&&b.inArray(e,["NATIVE_SHOW","NATIVE_HIDE"])>-1)return{error:f.formatMessage("PD.PE.SHOW_HIDE_NOT_SUPPORTED")}}l(g,c,d,"NATIVE_JAVASCRIPT_CODE")&&h.setValue("")}function ca(b,c,d){var e;if(b===a.CALLBACK_ACTION.VALIDATE&&c.id===a.PROP.VALUE_TYPE&&"NULL"===d&&(e=a.getComponents(a.COMP_TYPE.WEB_SRC_MOD_PARAM,{id:this.getProperty(a.PROP.WEB_SRC_PARAM).getValue()})[0],"Y"===e.getProperty(a.PROP.PARAMETER_REQUIRED).getValue()))return{error:j("WEB_SRC_PARAM.REQUIRES_VALUE")}}var da={SELECT_LIST:"NATIVE_SELECT_LIST",RICH_TEXT_EDITOR:"NATIVE_RICH_TEXT_EDITOR",TEXTAREA:"NATIVE_TEXTAREA",SHUTTLE:"NATIVE_SHUTTLE",FILE:"NATIVE_FILE",HIDDEN:"NATIVE_HIDDEN",TEXT_FIELD:"NATIVE_TEXT_FIELD",NUMBER_FIELD:"NATIVE_NUMBER_FIELD",DATE_PICKER:"NATIVE_DATE_PICKER",ROW_ACTION:"NATIVE_ROW_ACTION",ROW_SELECTOR:"NATIVE_ROW_SELECTOR"},ea="";b(document).on("modelConfigLoaded",function(){var c=a.getComponentType(a.COMP_TYPE.REGION).pluginType.plugins;a.setComponentTypeCallback(a.COMP_TYPE.PAGE_ITEM,U),a.setComponentTypeCallback(a.COMP_TYPE.BUTTON,V),a.setComponentTypeCallback(a.COMP_TYPE.REGION,X),a.setComponentTypeCallback(a.COMP_TYPE.DA_EVENT,aa),a.setComponentTypeCallback(a.COMP_TYPE.DA_ACTION,ba),a.setComponentTypeCallback(a.COMP_TYPE.CHART,L),a.setComponentTypeCallback(a.COMP_TYPE.JET_CHART,N),a.setComponentTypeCallback(a.COMP_TYPE.JET_CHART_SERIES,O),a.setComponentTypeCallback(a.COMP_TYPE.CLASSIC_REPORT,x),a.setComponentTypeCallback(a.COMP_TYPE.CLASSIC_RPT_COLUMN,G),a.setComponentTypeCallback(a.COMP_TYPE.TABULAR_FORM,x),a.setComponentTypeCallback(a.COMP_TYPE.TAB_FORM_COLUMN,H),a.setComponentTypeCallback(a.COMP_TYPE.IG_ATTRIBUTES,B),a.setComponentTypeCallback(a.COMP_TYPE.IG_COLUMN,C),a.setComponentTypeCallback(a.COMP_TYPE.IR_ATTRIBUTES,z),a.setComponentTypeCallback(a.COMP_TYPE.IR_PRINT_ATTR,Z),a.setComponentTypeCallback(a.COMP_TYPE.CLASSIC_RPT_PRINT,Z),a.setComponentTypeCallback(a.COMP_TYPE.TAB_FORM_PRINT,Z),a.setComponentTypeCallback(a.COMP_TYPE.MAP_CHART,Y),a.setComponentTypeCallback(a.COMP_TYPE.REGION_WS_PARAM,ca);for(var d in c)c.hasOwnProperty(d)&&b.inArray("COLUMNS",c[d].features)!==-1&&a.setPluginCallback(a.COMP_TYPE.REGION,d,I);a.setPluginCallback(a.COMP_TYPE.REGION,"NATIVE_IG",A),a.setPluginCallback(a.COMP_TYPE.REGION,"NATIVE_IR",y),a.setPluginCallback(a.COMP_TYPE.REGION,"NATIVE_SQL_REPORT",D),a.setPluginCallback(a.COMP_TYPE.REGION,"NATIVE_TABFORM",E),a.setPluginCallback(a.COMP_TYPE.REGION,"NATIVE_FLASH_MAP",J),a.setPluginCallback(a.COMP_TYPE.REGION,"NATIVE_FLASH_CHART5",K),a.setPluginCallback(a.COMP_TYPE.REGION,"NATIVE_JET_CHART",M),a.setPluginCallback(a.COMP_TYPE.REGION,"NATIVE_CALENDAR",P),a.setPluginCallback(a.COMP_TYPE.DA_ACTION,"NATIVE_SET_VALUE",Q),a.setPluginCallback(a.COMP_TYPE.PAGE_ITEM,da.RICH_TEXT_EDITOR,T),a.setPluginCallback(a.COMP_TYPE.PAGE_ITEM,da.TEXTAREA,T),a.setPluginCallback(a.COMP_TYPE.PAGE_ITEM,da.SHUTTLE,T),a.setPluginCallback(a.COMP_TYPE.PAGE_ITEM,da.SELECT_LIST,T),a.setPluginCallback(a.COMP_TYPE.PAGE_ITEM,da.FILE,T),a.setPluginCallback(a.COMP_TYPE.PAGE_PROCESS,"NATIVE_WEB_SERVICE",R),a.setPluginCallback(a.COMP_TYPE.PAGE_PROCESS,"NATIVE_WEB_SERVICE_LEGACY",R),a.setPluginCallback(a.COMP_TYPE.PAGE_PROCESS,"NATIVE_PLSQL",S)})}(pe,apex.jQuery,apex.debug,apex.util,apex.locale,apex.lang,apex.server);
!function(a,b,c,d){"use strict";var e="messages_",f={ERROR:"error",WARNING:"warning"},g={ERROR:"icon-remove-sign",WARNING:"icon-warning-sign"};b.widget("apex.peMessagesView",{options:{},_create:function(){var c,d=this;this.element.empty(),c=b("<div>",{"class":"a-AlertMessages"}).appendTo(this.element),this._container$=b("<ul></ul>",{"class":"a-AlertMessages-list"}).appendTo(c).on("click","a",this._goToComponent),b(document).on("modelReady",function(){a.observer(e+this.uuid,{events:[a.EVENT.ERRORS,a.EVENT.NO_ERRORS,a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS,a.EVENT.DELETE,a.EVENT.REMOVE_PROP]},function(a){d._update(a)}),b(document).one("modelCleared",function(){d._container$.empty(),b.isFunction(d.options.badge)?d.options.badge(""):b(d.options.badge).text("")})})},_init:function(){},_destroy:function(){this.element.empty(),b(document).off("modelReady"),b(document).off("modelCleared"),a.unobserver(e+this.uuid)},_update:function(d){function e(b,d,e,f,g){for(var h='<li class="a-AlertMessages-item" data-typeid="#TYPEID#" data-componentid="#COMPONENTID#" data-propertyid="#PROPERTYID#">  <a href="#" class="a-MediaBlock a-AlertMessages-message is-#CSS_CLASS#">    <div class="a-MediaBlock-graphic">      <span class="a-FAIcon a-FAIcon--medium a-FAIcon--#CSS_CLASS# #ICON_CLASS#"></span>    </div>    <div class="a-MediaBlock-content">      <h5 class="a-AlertMessages-propertyTitle">#COMPONENT_TYPE# &rarr; #COMPONENT# &rarr; #DISPLAY_GROUP# &rarr; #PROPERTY#</h5>      <p class="a-AlertMessages-messageDescription">#MESSAGE#</p>    </div>  </a></li>',i="",j=0;j<e.length;j++)i+=h.replace(/#CSS_CLASS#/g,f).replace(/#ICON_CLASS#/g,g).replace("#TYPEID#",b.typeId).replace("#COMPONENTID#",b.id).replace("#PROPERTYID#",d.id).replace("#COMPONENT_TYPE#",c.escapeHTML(a.getComponentType(b.typeId).title.singular)).replace("#COMPONENT#",c.escapeHTML(b.getDisplayTitle())).replace("#DISPLAY_GROUP#",c.escapeHTML(a.getDisplayGroup(d.getMetaData().displayGroupId).title)).replace("#PROPERTY#",c.escapeHTML(d.getMetaData().prompt)).replace("#MESSAGE#",e[j]);this._container$.append(i)}var h,i,j=d.component,k="li[data-typeid='"+j.typeId+"'][data-componentid='"+j.id+"']",l=this.options.badge;if(b.inArray(a.EVENT.DELETE,d.events)>=0)this._container$.find(k).remove();else for(var m in d.properties)d.properties.hasOwnProperty(m)&&(this._container$.find(k+"[data-propertyid='"+m+"']").remove(),b.inArray(a.EVENT.REMOVE_PROP,d.properties[m])===-1&&(h=j.getProperty(m),e.call(this,j,h,h.errors,f.ERROR,g.ERROR),e.call(this,j,h,h.warnings,f.WARNING,g.WARNING)));i=this._container$.find("li").length,b.isFunction(l)?l(i):b(l).text(i>0?i:"")},_goToComponent:function(c){var d=b(this).closest("li"),e=a.getComponents(d.data("typeid"),{id:d.data("componentid")})[0];window.pageDesigner.goToComponent(e.typeId,e.id,d.data("propertyid"))}})}(pe,apex.jQuery,apex.util);
!function(a,b,c,d){"use strict";function e(b,d){var e='<li class="a-AlertMessages-item" data-typeid="#TYPEID#" data-componentid="#COMPONENTID#" data-propertyid="#PROPERTYID#">  <a href="#" class="a-MediaBlock a-AlertMessages-message">    <div class="a-MediaBlock-graphic">      <span class="#ICON_CLASS#"></span>    </div>    <div class="a-MediaBlock-content">      <h5 class="a-AlertMessages-propertyTitle">#COMPONENT_TYPE# &rarr; #COMPONENT# &rarr; #DISPLAY_GROUP# &rarr; #PROPERTY#</h5>      <p class="a-AlertMessages-messageDescription"><pre>#VALUE#</pre></p>    </div>  </a></li>',f=b.component,i=b.getMetaData(),j=b.getDisplayValue();return j=c.escapeHTML(j.replace(d,"~~peSearchHitBegin~~$&~~peSearchHitEnd~~")),j=j.replace(/~~peSearchHitBegin~~/g,'<span class="a-Search-term">').replace(/~~peSearchHitEnd~~/g,"</span>"),e.replace(/#CSS_CLASS#/g,g.WARNING).replace(/#ICON_CLASS#/g,h.SEARCH).replace("#TYPEID#",f.typeId).replace("#COMPONENTID#",f.id).replace("#PROPERTYID#",b.id).replace("#COMPONENT_TYPE#",c.escapeHTML(a.getComponentType(f.typeId).title.singular)).replace("#COMPONENT#",c.escapeHTML(f.getDisplayTitle())).replace("#DISPLAY_GROUP#",c.escapeHTML(a.getDisplayGroup(i.displayGroupId).title)).replace("#PROPERTY#",c.escapeHTML(i.prompt)).replace("#VALUE#",j)}var f="search_",g={WARNING:"warning"},h={SEARCH:"a-Icon icon-search",WARNING:"icon-warning-sign"},i=null;b.widget("apex.peSearch",{options:{},_create:function(){var c,d=this;this.element.empty(),c=b("<div>",{"class":"a-AlertMessages"}).appendTo(this.element),this._container$=b("<ul></ul>",{"class":"a-AlertMessages-list"}).appendTo(c).on("click","a",this._goToComponent),b(document).on("modelReady",function(){a.observer(f+this.uuid,{events:[a.EVENT.CHANGE,a.EVENT.DELETE,a.EVENT.REMOVE_PROP]},function(a){d._update(a)}),b(document).one("modelCleared",function(){d._container$.empty(),i=null})})},_init:function(){},_destroy:function(){this.element.empty(),b(document).off("modelReady"),b(document).off("modelCleared"),a.unobserver(f+this.uuid)},search:function(b){function f(b,c){var d,g,h,i,j="";for(d=a.fullTextSearch(c,{typeId:b}),h=0,i=d.length;h<i;h++)j+=e(d[h],c);for(g=a.getComponentType(b),h=0,i=g.childComponentTypes.length;h<i;h++)j+=f(g.childComponentTypes[h],c);return j}i=b instanceof RegExp?b:""!==b&&b!==d?new RegExp(c.escapeRegExp(b),"gi"):null,this._container$.empty(),null!==i&&this._container$.append(f(a.COMP_TYPE.PAGE,i))},clear:function(){i=null,this._container$.empty()},_update:function(c){var d,f,g=i,h=c.component,j="li[data-typeid='"+h.typeId+"'][data-componentid='"+h.id+"']";if(null!==g)if(b.inArray(a.EVENT.DELETE,c.events)>=0)this._container$.find(j).remove();else for(var k in c.properties)c.properties.hasOwnProperty(k)&&(d=this._container$.find(j+"[data-propertyid='"+k+"']"),b.inArray(a.EVENT.REMOVE_PROP,c.properties[k])>=0?d.remove():b.inArray(a.EVENT.CHANGE,c.properties[k])>=0&&d.length>0&&(f=[c.component.getProperty(k)],f=a.fullTextSearch(g,{properties:f}),f.length>0?d.replaceWith(e(f[0],g)):d.remove()))},_goToComponent:function(c){var d=b(this).closest("li"),e=a.getComponents(d.data("typeid"),{id:d.data("componentid")})[0];window.pageDesigner.goToComponent(e.typeId,e.id,d.data("propertyid"))}})}(pe,apex.jQuery,apex.util);
window.componentGallery={},function(a,b,c,d,e){"use strict";function f(a){var b,c=a.split(":"),d=z[y[c[0]]];if(d&&(b=d[c[1]]),!b)throw"Invalid component data key";return b}function g(a,c,d){var e,f=b.isPageReadOnly();e=A[d.type],f||(e+=" is-draggable"),a.markup("<li").attr("class",e).optionalAttr("aria-grabbed",f?null:"false").attr("data-component",d.type+":"+c).markup("><span class='a-Icon ").attr(d.iconClass).markup("'></span><span class='a-Gallery-componentName'>").content(d.title).markup("</span></li>")}function h(a,b,c){var f=d.htmlBuilder();return b=b||"",/^\s</.test(b)||(b="<p>"+b+"</p>"),f.markup("<span class='tt-title'>").content(a).markup("</span>").markup(b),c||f.markup("<p>").content(e.formatMessageNoEscape("PD.GAL.NOT_SUPPORTED",v)).markup("</p>"),f.toString()}function i(){var a,d,f,g,i,j=b.getComponentType(b.COMP_TYPE.REGION).pluginType.plugins;for(a in j)if(j.hasOwnProperty(a)){if(d=j[a],d.isDeprecated||"NATIVE_DATA_UPLOAD_COLUMN_MAPPING"===d.name)continue;g=c.inArray(u,d.uiTypes)!==-1,i=b.getTheme().defaultTemplates["NATIVE_IR"===a?"ir":"region"],f={type:o,iconClass:window.pageDesigner.getComponentIconClass(o,a),title:g?d.title:e.formatMessage("PD.UNSUPPORTED",d.title),isSupported:g,isLegacy:d.isLegacy,tooltip:h(d.title,d.helpText,g),values:[{id:b.PROP.REGION_TYPE,value:a},{id:b.PROP.REGION_TEMPLATE,value:i}]},z.regions.push(f)}}function j(){var a,d,f,g,i=b.getComponentType(b.COMP_TYPE.PAGE_ITEM).pluginType.plugins;for(a in i)if(i.hasOwnProperty(a)){if(d=i[a],d.isDeprecated)continue;g=c.inArray(u,d.uiTypes)!==-1&&(!d.componentTypes||c.inArray(b.COMP_TYPE.PAGE_ITEM,d.componentTypes)!==-1),f={type:p,iconClass:window.pageDesigner.getComponentIconClass(p,a),title:g?d.title:e.formatMessage("PD.UNSUPPORTED",d.title),isSupported:g,isLegacy:d.isLegacy,tooltip:h(d.title,d.helpText,g),values:[{id:b.PROP.ITEM_TYPE,value:a}]},z.items.push(f)}}function k(){function a(a,c,d){f={type:q,iconClass:window.pageDesigner.getComponentIconClass(q,"Y"===d?"hot":"normal"),title:a,isSupported:!0,isLegacy:!1,tooltip:h(a,"",!0),values:[{id:b.PROP.BUTTON_TEMPLATE,value:c},{id:b.PROP.BUTTON_IS_HOT,value:d}]},z.buttons.push(f)}var c,d,f,g=b.getButtonTemplates();for(c in g)g.hasOwnProperty(c)&&(d=g[c],a(d.name,c,"N"),d.hasHotTemplate&&a(e.formatMessage("PD.GAL.HOT_BTN",d.name),c,"Y"))}function l(){var a=b.getComponents(b.COMP_TYPE.PAGE)[0];u=a._uiType,v=a.getProperty(b.PROP.USER_INTERFACE).getDisplayValue(),i(),j(),k(),c.each(["regions","items","buttons"],function(a,b){z[b].sort(function(a,b){return a.title.localeCompare(b.title)})}),m()}function m(){var a=c("#glv"),e=b.isPageReadOnly(),h=d.htmlBuilder();c.each(["regions","items","buttons"],function(b,d){var i,j,k=z[d],l=c("#cg-"+d+" ul").first();for(h.clear(),i=0;i<k.length;i++)j=k[i],!j.isSupported&&!w||j.isLegacy&&!x||g(h,i,j);l.html(h.toString()).iconList("refresh"),e||c("#cg-"+d+" li").draggable({addClasses:!1,appendTo:"#glv-viewport",cursor2:"default",cursorAt:{left:2,top:2},delay:10,distance:5,opacity:.9,revert:!1,helper:function(){var b=c(this),d=b.attr("data-component"),e=f(d);return a.gridlayout("makeHelper",e.type,e.iconClass,e.title,d)},connectToGridlayout:"#glv",containment:"document",zIndex:1e3,start:function(a,b){apex.tooltipManager.disableTooltips()},stop:function(a,b){apex.tooltipManager.enableTooltips()}})})}function n(){c.each(["regions","items","buttons"],function(a,b){var d=c("#cg-"+b+" ul").first();z[b]=[],d.empty().iconList("refresh")})}var o="region",p="item",q="button",r="GAL_SHOW_UNSUP",s="GAL_SHOW_LEGACY",t="GAL_CUR_TAB",u=null,v="",w=!1,x=!1,y={region:"regions",item:"items",button:"buttons"},z={regions:[],items:[],buttons:[]},A={region:"a-Gallery-region",item:"a-Gallery-pageItem",button:"a-Gallery-button"};a.getComponentData=f,c(function(){var a,d=!1;w="Y"===window.pageDesigner.getPreference(r),x="Y"===window.pageDesigner.getPreference(s);var e={menubar:!1,items:[{id:"addTo",type:"subMenu",disabled:!0,labelKey:"PD.GAL.MI.ADD2",menu:{items:[]}},{type:"toggle",labelKey:"PD.GAL.MI.SHOW_UNSUP",get:function(){return w},set:function(a){w=a,m(),window.pageDesigner.savePreference(r,w?"Y":"N")}},{type:"toggle",labelKey:"PD.GAL.MI.SHOW_LEGACY",get:function(){return x},set:function(a){x=a,m(),window.pageDesigner.savePreference(s,x?"Y":"N")}}],beforeOpen:function(a,d){var e,g,h,i,j=c("#glv"),k=d.menuElement.menu("find","addTo"),l=d.selection;1!==l.length||b.isPageReadOnly()?k.menu.items=[]:(e=l.eq(0),i=e.attr("data-component"),g=f(i),h=function(){window.pageDesigner.glvMenuAddAction.call(this,i)},k.menu.items=window.pageDesigner.glvMakeTargetMenu(j.gridlayout("getDropTargets",g.type,"add"),h)),k.disabled=0===k.menu.items.length}};c("#cg-regions ul, #cg-items ul, #cg-buttons ul").addClass("a-Gallery").each(function(){c(this).iconList({multiple:!1,contextMenu:e,contextMenuId:"galleryMenu-"+c(this).parent().parent()[0].id})}).tooltip({items:"li",show:apex.tooltipManager.defaultShowOption(),position:{my:"left-20 top-20",at:"right bottom",collision:"flipfit"},content:function(){var a=f(c(this).attr("data-component"));return a.tooltip}}),c("#gallery-tabs").on("tabsactivate",function(a,b){c("#galleryMenuBtn").attr("data-menu","galleryMenu-"+b.newPanel[0].id),d||window.pageDesigner.savePreference(t,b.newTab.parent().children().index(b.newTab[0])),d=!1}),c("#galleryMenuBtn").attr("data-menu","galleryMenu-cg-regions"),a=parseInt(window.pageDesigner.getPreference(t),10),!isNaN(a)&&a>0&&setTimeout(function(){d=!0,c("#gallery-tabs").tabs("option","active",a)},10),c("#gallery-tabs .u-ScrollingViewport.resize").resize(function(){c(this).children(".a-IconList").resize()})}),c(document).on("modelReady",function(){l()}),c(document).on("modelCleared",function(){n()})}(window.componentGallery,pe,apex.jQuery,apex.util,apex.lang);
window.pageDesigner={},function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function l(){a.getCurrentPageId()!==b.trim(b("#go_to_page").val())&&b("#go_to_page").val(a.getCurrentPageId())}function m(a,b,c){return b.p_arg_names=["FB_FLOW_ID"],b.p_arg_values=[$v("P4500_CURRENT_APP")],g.process(a,b,c)}function n(a){a?apex.tooltipManager.enableTooltips():apex.tooltipManager.disableTooltips()}function o(){b.each(Ea,function(a,c){var d,e=b(c).find(".ui-tabs-nav").first();e.toggleClass("ui-tabs--single",1===e.children().length),d=e.children().first().width(),e.toggleClass("ui-tabs--iconOnly",null!==d&&d<96)})}function p(){var a,c="";return B={},b.each(Ea,function(d,e){b(e).find(".ui-tabs-nav").first().children().each(function(f,g){a=b(g).attr(G),B[a]={tabs:e,index:f},c&&(c+=","),c+=d+":"+a})}),o(),c}function q(){var a,c=b("#sp_main_content"),d=p();a=c.hasClass("a-Splitter")?ra:qa,f.savePreference(a,d)}function r(a,c){var d,e,f,g,h=[],i=b(),j=b("#sp_main_content"),k={};for(a||(a=C),b.each(Ea,function(a,c){var d=b(c),e=d.children().first().children(".ui-tabs-nav");h.push({tabs:e,panels:d,activeName:e.children().eq(d.tabs(J,K)).attr(G)}),i=i.add(e.children())}),i.each(function(){var a=b(this),c=a.attr(G),d=b("#"+c);a.remove().removeClass("ui-tabs-active ui-state-active ui-state-hover ui-state-focus").removeAttr("role"),d.detach().removeClass("ui-tabs-panel").removeAttr("role"),k[c]={t:a,p:d}}),g=a.indexOf("0:")>=0,g&&!j.hasClass("a-Splitter")&&A?(b("#left_col").show(),j.splitter(A)):!g&&j.hasClass("a-Splitter")&&(A=b("#sp_main_content").splitter(J),b("#left_col").hide(),j.splitter("destroy").addClass("resize").trigger("resize")),e=a.split(","),d=0;d<e.length;d++)f=e[d].split(":"),k[f[1]]&&(h[f[0]].tabs.append(k[f[1]].t),h[f[0]].panels.append(k[f[1]].p));b.each(h,function(a,b){var d=0;b.panels.tabs(L),c||(b.panels.children("#"+b.activeName).length&&(d=b.tabs.children("[aria-controls="+b.activeName+"]").index()),b.panels.tabs(J,K,d))}),p()}function s(a){var c=B[a];c.tabs===Ea[0]?u("sp_main_content"):c.tabs===Ea[2]&&u("sp_right_content"),b(c.tabs).tabs(J,K,c.index)}function t(a){var b,c=/^[0-9:]+$/,d=null;return"#"===a.charAt(0)&&(a=a.substring(1)),c.test(a)&&(b=a.split(":"),2===b.length&&(d={typeId:b[0],componentId:b[1]})),d}function u(a){var c=b("#"+a);c.length&&c.splitter(J,"collapsed")&&c.splitter(J,"collapsed",!1)}function v(){function g(d){var e=b("#a_PageDesigner"),g=[P,Q,R,S];c.delayLinger.start("main",function(){p=c.showSpinner(e),e.addClass(D)}),b.each(g,function(a,b){i.disable(b)}),b(".a-TreeView").treeView(M),b("#glv").gridlayout(M),Fa.propertyEditor(M),a.saveChanges(function(a){b.each(g,function(a,b){i.enable(b)}),b(".a-TreeView").treeView(N),b("#glv").gridlayout(N),Fa.propertyEditor(N),c.delayLinger.finish("main",function(){p.remove(),e.removeClass(D)}),d(a)}),Fa.find("."+f.CSS.IS_CHANGED).removeClass(f.CSS.IS_CHANGED)}function h(b){var c,d;for(c=0;c<b.length;c++)b[c].hasOwnProperty("menu")?h(b[c].menu.items):(d=b[c],"string"==typeof d.action&&(d=i.lookup(d.action)),d.action=function(){a.hasChanged()?window.confirm(f.msg("BEFORE_AJAX_UNSAVED_CHANGES"))&&e.redirect(this.href):e.redirect(this.href)})}function m(){var b,c=a.getPageLockState();c?c.isLockedByCurrentUser?(b=f.msg("PAGE_LOCKED_BY_YOU"),s.attr(I,b).attr(H,b).removeClass("is-locked").addClass("is-active is-locked-by-self").find(F)[0].className="a-Icon icon-lock"):(b=f.format("PAGE_LOCKED_BY",c.owner),s.attr(I,b).attr(H,b).removeClass("is-locked-by-self").addClass(" is-active is-locked").find(F)[0].className="a-Icon icon-lock-user"):(b=f.msg("PAGE_UNLOCKED"),s.attr(I,b).attr(H,b).removeClass("is-active is-locked is-locked-by-self").find(F)[0].className="a-Icon icon-unlock")}var o,p,q=b("#createMenu_menu"),s=b("#button-lock"),t=b("#lockDialog"),u=b("#runDialogOpenMsg"),v=b("#runDialogFocusMsg");k.setErrorHandler(function(a,b,c){var d={execute:"CMD.EXECUTE_FAILED",undo:"CMD.UNDO_FAILED",redo:"CMD.REDO_FAILED"};f.showError(f.format(d[a],b.label()))}),i.add([{name:P,label:null,title:null,icon:"icon-undo",action:function(a,b){k.undo()}},{name:Q,label:null,title:null,icon:"icon-redo",action:function(a,b){k.redo()}},{name:oa,action:function(a,b){var c=f.getPreference(qa);c||(c=C.replace(/0:/g,"1:")),r(c),f.saveBoolPref(sa,!0),i.disable(oa),i.enable(pa)}},{name:pa,action:function(a,b){var c=f.getPreference(ra);c||(c=C),c.indexOf("0:")<0&&(c=c.replace(/^1:/,"0:")),r(c),f.saveBoolPref(sa,!1),i.disable(pa),i.enable(oa)}},{name:"pd-reset-tab-layout",action:function(a,b){r(C),f.saveBoolPref(sa,!1),f.savePreference(qa,""),f.savePreference(ra,""),i.disable(pa),i.enable(oa)}},{name:"pd-enable-tooltips",set:function(a){f.saveBoolPref(ta,a),n(a)},get:function(){return f.getBoolPref(ta,!0)}},{name:R,label:null,disabled:!0,action:function(a,c){b(a.target).closest(".a-Property").length&&Fa.propertyEditor("saveProperty"),g(function(a){k.clear(),b(document).trigger("commandHistoryChange"),a.error?"NO_CHANGES"!==a.error&&f.showError(a.error):f.showSuccess(f.msg("CHANGES_SAVED"))})}},{name:S,label:null,title:null,icon:"icon-run-page",disabled:!0,action:function(h,i){function j(){return c.makeApplicationUrl({pageId:"RUN_PAGE",request:"BRANCH_TO_PAGE_ACCEPT",debug:"NO",itemNames:["FB_FLOW_ID","FB_FLOW_PAGE_ID","F4000_P1_FLOW"],itemValues:[p,q,p]})}function l(a,b){a.dialog({modal:!0,title:b?f.msg("FOCUS_PAGE"):f.msg("RUN_PAGE"),closeText:d.getMessage("APEX.DIALOG.CLOSE"),dialogClass:"ui-dialog--pageDesignerAlert",width:400,height:240,minWidth:400,minHeight:240,position:{my:"right top",at:"right-20 bottom+20",of:i},buttons:[{text:f.msg("TRY_AGAIN"),"class":"a-Button--hot",click:function(){a.dialog("close"),b?e.openInNewWindow("",apex.builder.getAppUnderTestWindowName(p)):n()}}]})}function m(){o=!1,b(window).on("blur.runcheck",function(){b(window).off(".runcheck"),o=!0}),r=setTimeout(function(){r=null,o||l(v,!0),b(window).off(".runcheck")},800)}function n(){var c=a.getComponents(a.COMP_TYPE.PAGE)[0],d={},g=$v("P0_WINDOW_MGMT_MODE")||"FOCUS";a.isGlobalPage()?f.showSuccess(f.msg("CHANGES_SAVED_GLOBAL_PAGE")):"NORMAL"===c.getProperty(a.PROP.PAGE_MODE).getValue()?"NONE"===g||/^4\d\d\d$/.test(p)?e.redirect(j()):("BROWSER"===g?d.favorTabbedBrowsing=!0:m(),e.openInNewWindow(j(),apex.builder.getAppUnderTestWindowName(p),d)||(clearTimeout(r),b(window).off(".runcheck"),l(u))):f.showSuccess(f.msg("CHANGES_SAVED_DIALOG_PAGE"))}var o,p=a.getCurrentAppId(),q=a.getCurrentPageId(),r=null;b(h.target).closest(".a-Property").length&&Fa.propertyEditor("saveProperty"),a.hasChanged()?g(function(a){k.clear(),b(document).trigger("commandHistoryChange"),a.error?"NO_CHANGES"!==a.error&&f.showError(a.error):n()}):n()}}]),b(document).on("commandHistoryChange",function(a){var b,c;c=i.lookup(P),c.origLabel||(c.origLabel=c.label),c.disabled=!k.canUndo(),k.canUndo()?(b=d.formatMessageNoEscape("PD.UNDO",k.undoLabel()),c.label=c.title=b):c.label=c.title=c.origLabel,i.update(P),c=i.lookup(Q),c.origLabel||(c.origLabel=c.label),c.disabled=!k.canRedo(),k.canRedo()?(b=d.formatMessageNoEscape("PD.REDO",k.redoLabel()),c.label=c.title=b):c.label=c.title=c.origLabel,i.update(Q)}).trigger("commandHistoryChange"),s.attr(O,!0).click(function(){var c,e,g=!1,h=a.getPageLockState();e=[{text:f.msg("CANCEL"),click:function(){t.dialog("close")}}],b("#lockDialogIntroUnlocked, #lockDialogIntroLocked, #lockDialogIntroOwned").hide(),j("P4500_DLG_LOCK_OWNER").hide(),!h||h.isLockedByCurrentUser?(e.push({click:function(){t.dialog("close"),a.lockPage($v("P4500_DLG_LOCK_COMMENT")).fail(function(a){f.showError(a)}).always(function(){m()})}}),h?(c=f.msg("UNLOCK_PAGE"),e[1].text=f.msg("APPLY_CHANGES"),b("#lockDialogIntroOwned").show(),e.push({text:f.msg("UNLOCK"),"class":"a-Button--hot",click:function(){t.dialog("close"),a.unlockPage().fail(function(a){f.showError(a)}).always(function(){m()})}})):(c=f.msg("LOCK_PAGE"),e[1].text=f.msg("LOCK"),e[1]["class"]="a-Button--hot",b("#lockDialogIntroUnlocked").show())):(c=f.msg("PAGE_LOCKED"),b("#lockDialogIntroLocked").show(),j("P4500_DLG_LOCK_OWNER").show(),$s("P4500_DLG_LOCK_OWNER",h.owner),g=!0,e[0].text=f.msg("OK")),b("#P4500_DLG_LOCK_COMMENT").val(h.comment).attr("readOnly",g),t.dialog({modal:!0,title:c,closeText:d.getMessage("APEX.DIALOG.CLOSE"),dialogClass:"ui-dialog--pageDesignerLock",width:600,height:340,minHeight:340,minWidth:600,buttons:e})}),q.on("menucreate",function(){var a=q.menu("find","teamDev");a&&(a.hide=!gTeamDevEnabled),h(q.menu(J).items)}),gTeamDevEnabled&&(o=b("<div id='teamDevMenu'></div>").appendTo("body"),o.menu({menubar:!1,items:[{type:"action",labelKey:"PD.FEATURES",action:function(){e.redirect(c.makeApplicationUrl({appId:"4800",pageId:"9000",request:"BUILDER",clearCache:"RIR",itemNames:["IR_APPLICATION_ID","IR_MODULE","IRLT_PERCENT_COMPLETE"],itemValues:[a.getCurrentAppId(),a.getCurrentPageId(),"100"]}))}},{type:"action",labelKey:"PD.TODOS",action:function(){e.redirect(c.makeApplicationUrl({appId:"4800",pageId:"3000",request:"BUILDER",clearCache:"RIR",itemNames:["IR_APPLICATION_ID","IR_PAGE_ID","IRLT_PCT_COMPLETE"],itemValues:[a.getCurrentAppId(),a.getCurrentPageId(),"100"]}))}},{type:"action",labelKey:"PD.BUGS",action:function(){e.redirect(c.makeApplicationUrl({appId:"4800",pageId:"3500",request:"BUILDER",clearCache:"RIR",itemNames:["IR_APPLICATION_ID","IR_PAGE_ID","IRLT_BUG_PCT_COMPLETE"],itemValues:[a.getCurrentAppId(),a.getCurrentPageId(),"100"]}))}},{type:"action",labelKey:"PD.FEEDBACK_ENTRIES",action:function(){e.redirect(c.makeApplicationUrl({appId:"4800",pageId:"8000",request:"BUILDER",clearCache:"RIR",itemNames:["IR_APPLICATION_ID","IR_PAGE_ID","IRLT_FEEDBACK_STATUS_ID"],itemValues:[a.getCurrentAppId(),a.getCurrentPageId(),"3"]}))}}],beforeOpen:function(a,b){var c,d,e=b.menu.items,g=[["FEATURES_N","features"],["TODOS_N","todos"],["BUGS_N","bugs"],["FEEDBACK_ENTRIES_N","feedback"]];for(c=0;c<g.length;c++)d=g[c],void 0!==z[d[1]]&&(e[c].label=f.format(d[0],z[d[1]]),delete e[c].labelKey)}})),b("#go_to_page").on("keypress",function(a){13===a.which&&f.goToPage(b("#go_to_page").val())}).on("focus",function(){this.select()}),b("#a_PageDesigner").on("focusin",function(a){l()}),b("#go_to_page_button").click(function(){f.goToPage(b("#go_to_page").val())}),b("#go_to_page_lov").on("click",function(){var d=c.htmlBuilder(),e={columnDefinitions:[{name:"id",title:f.msg("PAGE_NUMBER")},{name:"name",title:f.msg("PAGE_NAME")},{name:"userInterface",title:f.msg("USER_INTERFACE")},{name:"group",title:f.msg("GROUP")}],filters:[{name:"show",title:f.msg("PAGE_PICKER.SHOW"),type:"buttonset",defaultValue:"all",lov:[{display:f.msg("ALL_PAGES"),value:"all"},{display:f.msg("PAGE_PICKER.RECENTLY_EDITED"),value:"recent"}]},{name:"search",title:f.msg("SEARCH"),type:"search"}],filterLov:function(b,c){var d={};"current_ui"===b.show?d={show:"user_interface_id",id:a.getComponents(a.COMP_TYPE.PAGE,{id:a.getCurrentPageId()})[0].getProperty(a.PROP.USER_INTERFACE).getValue()}:"current_group"===b.show?d={show:"group_id",id:a.getComponents(a.COMP_TYPE.PAGE,{id:a.getCurrentPageId()})[0].getProperty(a.PROP.PAGE_GROUP).getValue()}:"recent"===b.show&&(d={show:"recent"}),a.getPagesLov(d,function(a){c(a,b.search)},"Y")}};void 0!==a.getCurrentPageId()&&(a.getComponents(a.COMP_TYPE.PAGE,{id:a.getCurrentPageId()})[0].getProperty(a.PROP.PAGE_GROUP).getValue()&&e.filters[0].lov.unshift({display:f.msg("CURRENT_GROUP"),value:"current_group"}),e.filters[0].lov.unshift({display:f.msg("CURRENT_UI"),value:"current_ui"}),e.filters[0].defaultValue="current_ui"),d.markup("<div").attr("id","goToPageDlg").attr(I,f.msg("PAGE_FINDER")).markup(">").markup("</div>"),b(d.toString()).lovDialog({modal:!0,minWidth:750,height:500,filters:e.filters,columnDefinitions:e.columnDefinitions,filterLov:e.filterLov,dialogClass:f.CSS.DIALOG_FLUSH_BODY,resizable:!1,multiValue:!1,valueSelected:function(a,b){f.goToPage(b.id)}})}),b(document).on("modelConfigLoaded",function(){a.getComponentType(a.COMP_TYPE.BREADCRUMB).editUrl="f?p=4000:287:%session%:::RP,287:FB_FLOW_ID,FB_FLOW_PAGE_ID,P287_PAGE,F4000_P287_MENU_ID:%application_id%,%page_id%,%page_id%,%pk_value%",a.getComponentType(a.COMP_TYPE.LIST).editUrl="f?p=4000:4050:%session%:::RP,4050:FB_FLOW_ID,FB_FLOW_PAGE_ID,F4000_P4050_LIST_ID:%application_id%,%page_id%,%pk_value%"}),b(document).on("modelReady",function(){a.isPageReadOnly()&&!a.getPageLockState()||(s.attr(O,!1),m()),b.each([R,S],function(a,b){i.enable(b)}),b(document).one("modelCleared",function(){k.clear(),b(document).trigger("commandHistoryChange"),s.attr(O,!0),b.each([fa,ga,R,S],function(a,b){i.disable(b)}),gTeamDevEnabled&&(b("#menu-team-dev").hide().prop(O,!0).find(".a-Button-badge").text(""),z={})})})}function w(){var a=b('<span class="a-AlertBadge"></span>').appendTo(b('#editor_tabs a[href="#messages"]'));b("#messages-container").peMessagesView({badge:a})}function x(){var a=b("#search-container").peSearch();b("#P4500_LOCAL_SEARCH,#P4500_MATCH_CASE,#P4500_IS_REGEXP").on("change",function(){var b=$v("P4500_LOCAL_SEARCH"),d=("Y"===$v("P4500_MATCH_CASE")?"":"i")+"g",e="Y"===$v("P4500_IS_REGEXP");""!==b?(b=e?new RegExp(b,d):new RegExp(c.escapeRegExp(b),d),a.peSearch("search",b)):a.peSearch("clear")}),b("#CLEAR_PAGE_SEARCH").on("click",function(){$s("P4500_LOCAL_SEARCH","","",!0),$s("P4500_MATCH_CASE","","",!0),$s("P4500_IS_REGEXP","","",!0),a.peSearch("clear")}),b(document).on("pageSearch",function(a,b){s(xa),$s("P4500_MATCH_CASE","","",!0),$s("P4500_IS_REGEXP","","",!0),$s("P4500_LOCAL_SEARCH",b)})}var y,z,A=null,B={},C="0:renderTree_container,0:dynActTree_container,0:procTree_container,0:sharedComp_container,1:grid_layout,1:componentView,1:messages,1:search,1:help,2:peComponentProperties",D="is-processing",E="a-Property-field--filter",F=".a-Icon",G="aria-controls",H="aria-label",I="title",J="option",K="active",L="refresh",M="disable",N="enable",O="disabled",P="pd-undo",Q="pd-redo",R="pd-save-page",S="pd-save-run-page",T="pd-expand-restore",U="pd-goto-help",V="pd-goto-rendering-tree",W="pd-goto-dynamic-actions-tree",X="pd-goto-processing-tree",Y="pd-goto-shared-components-tree",Z="pd-goto-grid-layout",$="pd-goto-component-view",_="pd-goto-property-editor-layout",aa="pd-page-search",ba="pd-goto-gallery-regions",ca="pd-goto-gallery-items",da="pd-goto-gallery-buttons",ea="pd-goto-messages",fa="pd-goto-next-page",ga="pd-goto-prev-page",ha="pd-show-shortcuts",ia="pd-advisor",ja="pd-create-page",ka="pd-create-copy-page",la="pd-create-form-region",ma="pd-create-shared-component",na="pd-create-breadcrumb-region",oa="pd-two-column",pa="pd-three-column",qa="TAB_LAYOUT_2",ra="TAB_LAYOUT_3",sa="TWO_COLUMN_MODE",ta="ENABLE_TOOLTIPS",ua="grid_layout",va="componentView",wa="messages",xa="search",ya="help",za="renderTree_container",Aa="dynActTree_container",Ba="procTree_container",Ca="sharedComp_container",Da="peComponentProperties",Ea=["#trees","#editor_tabs","#peTabs"];f.CSS={IS_ERROR:"is-error",IS_WARNING:"is-warning",IS_CONDITIONAL:"is-conditional",IS_NEVER:"is-never",DIALOG_FLUSH_BODY:"ui-dialog-flushBody",IS_CHANGED:"is-changed"},f.SETTINGS={COMPONENT_TITLE:{LABEL:"l",NAME:"n"}},f.settingsState={componentTitle:f.SETTINGS.COMPONENT_TITLE.NAME},f.msg=function(a){return d.getMessage("PD."+a)},f.format=function(a){var b=f.msg(a),c=[b].concat(Array.prototype.slice.call(arguments,1));return d.format.apply(this,c)},f.formatNoEscape=function(a){var b=f.msg(a),c=[b].concat(Array.prototype.slice.call(arguments,1));return d.formatNoEscape.apply(this,c)},f.tooltipContentForComponent=function(b){function d(a,c,d){var e=b.getProperty(a),f=d;!e||void 0!==c&&e.getValue()===c||(f||(f=e.getDisplayValue()),""!==f&&n.markup("<li><span class='tt-label'>").content(e.getMetaData().prompt).markup(": </span><span class='tt-value'>").content(f).markup("</span></li>"))}function e(){var c=b.getProperty(a.PROP.CONDITION_TYPE);d(a.PROP.WHEN_BUTTON_PRESSED),c&&""!==c.getValue()&&(d(a.PROP.CONDITION_TYPE),d(a.PROP.CONDITION_SQL_STATEMENT),d(a.PROP.CONDITION_SQL_EXPRESSION),d(a.PROP.CONDITION_PLSQL_EXPRESSION),d(a.PROP.CONDITION_PLSQL_FUNCTION_BODY),d(a.PROP.CONDITION_VALUE1),d(a.PROP.CONDITION_ITEM1),d(a.PROP.CONDITION_LIST),d(a.PROP.CONDITION_PREFERENCE),d(a.PROP.CONDITION_PAGE),d(a.PROP.CONDITION_PAGES),d(a.PROP.CONDITION_TEXT),d(a.PROP.CONDITION_VALUE2),d(a.PROP.CONDITION_ITEM2),d(a.PROP.CONDITION_TEXT2)),d(a.PROP.AUTHORIZATION_SCHEME),d(a.PROP.BUILD_OPTION)}function g(){d(a.PROP.GRID_NEW_GRID,"N"),d(a.PROP.GRID_NEW_ROW,"N"),d(a.PROP.GRID_COLUMN,""),d(a.PROP.GRID_NEW_COLUMN,"N"),d(a.PROP.GRID_COLUMN_SPAN,"")}function h(){var c=b.getProperty(a.PROP.WHEN_TYPE);d(a.PROP.EVENT),d(a.PROP.CUSTOM_EVENT),c&&""!==c.getValue()&&(d(a.PROP.WHEN_REGION),d(a.PROP.WHEN_COLUMNS),d(a.PROP.WHEN_BUTTON),d(a.PROP.WHEN_ITEMS),d(a.PROP.WHEN_DOM_OBJECT),d(a.PROP.WHEN_JQUERY_SELECTOR),d(a.PROP.WHEN_JAVASCRIPT_EXPRESSION)),c=b.getProperty(a.PROP.JS_CONDITION),c&&""!==c.getValue()?(d(a.PROP.JS_CONDITION),d(a.PROP.JS_CONDITION_ITEM),d(a.PROP.JS_COND_VALUE),d(a.PROP.JS_COND_LIST)):(c=b.getProperty(a.PROP.JS_CONDITION_WHEN_IG),c&&""!==c.getValue()&&(d(a.PROP.JS_CONDITION_WHEN_IG),d(a.PROP.JS_CONDITION_ITEM_WHEN_IG),d(a.PROP.JS_CONDITION_COLUMN_WHEN_IG),d(a.PROP.JS_COND_VALUE_WHEN_IG),d(a.PROP.JS_COND_LIST_WHEN_IG)))}function i(){var c=b.getProperty(a.PROP.AFFECTED_TYPE);c&&""!==c.getValue()&&(d(a.PROP.AFFECTED_REGION),d(a.PROP.AFFECTED_BUTTON),d(a.PROP.AFFECTED_ITEMS),d(a.PROP.AFFECTED_COLUMNS),d(a.PROP.AFFECTED_DOM_OBJECT),d(a.PROP.AFFECTED_JQUERY_SELECTOR),d(a.PROP.AFFECTED_JAVASCRIPT_EXPRESSION),"TRIGGERING_ELEMENT"!==c.getValue()&&"EVENT_SOURCE"!==c.getValue()||d(a.PROP.AFFECTED_TYPE)),d(a.PROP.FIRE_ON_PAGE_LOAD)}function j(){d(a.PROP.COMPUTATION_STATIC_VALUE),d(a.PROP.COMPUTATION_SQL_STATEMENT),d(a.PROP.COMPUTATION_SQL_COLON),d(a.PROP.COMPUTATION_SQL_EXPRESSION),d(a.PROP.COMPUTATION_PLSQL_EXPRESSION),d(a.PROP.COMPUTATION_PLSQL_FUNCTION_BODY),d(a.PROP.COMPUTATION_ITEM_VALUE),d(a.PROP.COMPUTATION_PREFERENCE_VALUE)}function k(){var c=b.getProperty(a.PROP.VALIDATION_REGION).getValue();""===c?(d(a.PROP.VALIDATION_TYPE),d(a.PROP.VAL_SQL_STATEMENT),d(a.PROP.VAL_SQL_EXPRESSION),d(a.PROP.VAL_PLSQL_EXPRESSION),d(a.PROP.VAL_PLSQL_FUNCTION_BODY_BOOLEAN),d(a.PROP.VAL_PLSQL_FUNCTION_BODY_VARCHAR2),d(a.PROP.VAL_PLSQL),d(a.PROP.VAL_ITEM),d(a.PROP.VAL_VALUE),d(a.PROP.VAL_REGULAR_EXPRESSION)):(d(a.PROP.VALIDATION_REGION),d(a.PROP.REGION_VALIDATION_TYPE),d(a.PROP.REGION_VAL_SQL_STATEMENT),d(a.PROP.REGION_VAL_SQL_EXPRESSION),d(a.PROP.REGION_VAL_PLSQL_EXPRESSION),d(a.PROP.REGION_VAL_PLSQL_FUNCTION_BODY_BOOLEAN),d(a.PROP.REGION_VAL_PLSQL_FUNCTION_BODY_VARCHAR2),d(a.PROP.REGION_VAL_PLSQL),d(a.PROP.REGION_VAL_COLUMN),d(a.PROP.REGION_VAL_VALUE),d(a.PROP.REGION_VAL_REGULAR_EXPRESSION)),d(a.PROP.ALWAYS_EXECUTE)}var l,m=b.typeId,n=c.htmlBuilder();return m===a.COMP_TYPE.PAGE?d(a.PROP.TITLE):m===a.COMP_TYPE.REGION?(d(a.PROP.REGION_TYPE),g()):m===a.COMP_TYPE.PAGE_ITEM?(d(a.PROP.ITEM_LABEL),d(a.PROP.ITEM_TYPE),g()):m===a.COMP_TYPE.BUTTON?(d(a.PROP.BUTTON_LABEL),l=b.getProperty(a.PROP.BUTTON_TARGET),l?d(a.PROP.BUTTON_TARGET,"",f.splitApexUrl(l.getValue()).display):d(a.PROP.BUTTON_ACTION),g()):m===a.COMP_TYPE.DA_EVENT?h():m===a.COMP_TYPE.DA_ACTION?i():m===a.COMP_TYPE.VALIDATION?k():m===a.COMP_TYPE.PAGE_PROCESS?d(a.PROP.PAGE_PROCESS_TYPE):m===a.COMP_TYPE.PAGE_COMPUTATION?j():m===a.COMP_TYPE.BRANCH?(d(a.PROP.BRANCH_TYPE),l=b.getProperty(a.PROP.TARGET),l?d(a.PROP.TARGET,"",f.splitApexUrl(l.getValue()).display):(d(a.PROP.BRANCH_PAGE_NUMBER),d(a.PROP.BRANCH_ACCEPT_REQUEST),d(a.PROP.BRANCH_ITEM))):m===a.COMP_TYPE.IR_COLUMN?(d(a.PROP.COLUMN_HEADING),d(a.PROP.IR_COLUMN_DISPLAY_TYPE)):m===a.COMP_TYPE.CLASSIC_RPT_COLUMN?(d(a.PROP.COLUMN_HEADING),d(a.PROP.CLASSIC_REPORT_COLUMN_TYPE)):m===a.COMP_TYPE.TAB_FORM_COLUMN&&(d(a.PROP.COLUMN_HEADING),d(a.PROP.TAB_FORM_COLUMN_TYPE)),e(),n.toString()?"<ul class='tt-list'>"+n.toString()+"</ul>":null},f.getComponentIconClass=function(a,b){return/^PLUGIN_/.test(b)?"icon-"+a+"-plugin":"icon-"+a+"-"+b.toLowerCase().replace(/_/g,"-")},f.isNever=function(b){var c=b.getProperty(a.PROP.CONDITION_TYPE);return c&&"NEVER"===c.getValue()},f.isConditional=function(b){function c(a){var c=b.getProperty(a);return c&&""!==c.getValue()}return c(a.PROP.CONDITION_TYPE)||c(a.PROP.AUTHORIZATION_SCHEME)||c(a.PROP.BUILD_OPTION)||c(a.PROP.WHEN_BUTTON_PRESSED)},f.observerIsConditional=function(b,c,d){a.observer(b,{components:c,events:[a.EVENT.CHANGE],properties:[a.PROP.CONDITION_TYPE,a.PROP.AUTHORIZATION_SCHEME,a.PROP.BUILD_OPTION,a.PROP.WHEN_BUTTON_PRESSED]},d)},f.isDisplayed=function(c){var d,e=!0;return c.isOnGlobalPage()&&(d=c.getProperty(a.PROP.CONDITION_TYPE).getValue(),"CURRENT_PAGE_EQUALS_CONDITION"===d?e=c.getProperty(a.PROP.CONDITION_PAGE).getValue()===a.getCurrentPageId():"CURRENT_PAGE_NOT_EQUAL_CONDITION"===d?e=c.getProperty(a.PROP.CONDITION_PAGE).getValue()!==a.getCurrentPageId():"CURRENT_PAGE_IN_CONDITION"===d?e=b.inArray(a.getCurrentPageId(),c.getProperty(a.PROP.CONDITION_PAGES).getValue().split(","))!==-1:"CURRENT_PAGE_NOT_IN_CONDITION"===d&&(e=b.inArray(a.getCurrentPageId(),c.getProperty(a.PROP.CONDITION_PAGES).getValue().split(","))===-1)),e},f.LINK_TYPE={PAGE_IN_THIS_APP:"PAGE_IN_THIS_APP",PAGE_IN_DIFF_APP:"PAGE_IN_DIFF_APP",URL:"URL"},f.splitApexUrl=function(a,b,c){var d,e,g,h,i,j,k="LINK."+(b?"GOTO_":""),l=c?c:[],m={type:f.LINK_TYPE.PAGE_IN_THIS_APP,display:"",appId:"",pageId:"",session:"&SESSION.",request:"",debug:"&DEBUG.",clearCache:"",resetPagination:"Y",itemNames:"",itemValues:"",printerFriendly:"NO",url:"",successMessage:"Y",anchor:""},n=/#([^#]*)#|#([^#]*)/g,o=/f\?p=([^:]*):?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?/i;if(a)if(0===a.toLowerCase().indexOf("f?p=")){for(d=a.toLowerCase().indexOf("&success_msg=#success_msg#"),d>-1?(e=a.substr(0,d),m.successMessage="Y"):(e=a,m.successMessage="N");!g&&(i=n.exec(e));){for(j=!1,h=0;h<l.length;h++)if(i[1]===l[h]){j=!0;break}j||(g=i.index,m.anchor=e.substr(g+1),e=e.substr(0,g))}o.test(e)&&(RegExp.$1&&(m.appId=RegExp.$1),RegExp.$2&&(m.pageId=RegExp.$2),RegExp.$3&&(m.session=RegExp.$3),RegExp.$4&&(m.request=RegExp.$4),RegExp.$5&&(m.debug=RegExp.$5),RegExp.$6&&(m.clearCache=RegExp.$6),RegExp.$7&&(m.itemNames=RegExp.$7),RegExp.$8&&(m.itemValues=RegExp.$8),RegExp.$9&&(m.printerFriendly=RegExp.$9)),m.clearCache&&m.clearCache.indexOf("RP")>-1?(m.resetPagination="Y",m.clearCache=m.clearCache.replace("RP",""),","===m.clearCache.charAt(0)&&(m.clearCache=m.clearCache.substr(1))):m.resetPagination="N",m.itemNames&&(m.itemNames=m.itemNames.split(",")),m.itemValues&&(m.itemValues=m.itemValues.split(",")),m.appId&&(0===m.appId.toLowerCase().indexOf("&flow_id.")||0===m.appId.toLowerCase().indexOf("&app_id.")||0===m.appId.toLowerCase().indexOf("#flow_id#")||0===m.appId.toLowerCase().indexOf("#app_id#")?(m.type=f.LINK_TYPE.PAGE_IN_THIS_APP,m.display=f.formatNoEscape(k+"PAGE_N",m.pageId)):m.appId&&(m.type=f.LINK_TYPE.PAGE_IN_DIFF_APP,m.display=f.formatNoEscape(k+"APPLICATION_N",m.appId,m.pageId)))}else m.url=a,m.type=f.LINK_TYPE.URL,m.display=a.replace(/^(https?:\/\/)(www.)?/i,""),b&&(m.display=f.formatNoEscape(k+"URL",m.display));return m},f.setPageSelection=function(c,d,e,g,h){var i,j="OK";if(c&&c===a.getCurrentAppId()){if(d&&d!==a.getCurrentPageId())return i=f.goToPage(d),void b.when(i).done(function(){e&&g&&(f.goToComponent(e,g)||(j="COMPONENT_NOT_SELECTED")),h(j)}).fail(function(a){h("user-abort"===a?"PAGE_CHANGE_ABORTED":"PAGE_NOT_CHANGED")});e&&g&&(f.goToComponent(e,g)||(j="COMPONENT_NOT_SELECTED"))}else j="APP_NOT_CHANGED";h(j)},f.goToPage=function(d,e){var g,h,j,k,n=b("#a_PageDesigner"),o=b.Deferred();return a.hasChanged()&&!window.confirm(f.msg("BEFORE_AJAX_UNSAVED_CHANGES"))?(l(),o.reject("user-abort"),o.promise()):(b(document).trigger("selectionChanged",["controller",[]]),a.clear(),b(document).trigger("modelCleared",{preventHideNotification:e}),b("#go_to_page").val(d),c.delayLinger.start("main",function(){j=c.showSpinner(n),n.addClass(D)}),y||(y=b.ajax({dataType:"json",type:"GET",url:apex_img_dir+"apex_ui/js/staticData/pd_static_data_"+gLanguage+".json?v="+gApexVersion})),g=m("getWorkspaceData",{},{type:"GET"}),h=m("getSharedData",{},{type:"GET"}),k=m("getPageData",{x01:d},{type:"GET"}),b.when(y,g,h,k).done(function(c,d,e,g){var h;b.isEmptyObject(g[0])?f.showError(f.msg("PAGE_DOES_NOT_EXIST")):(h=g[0][a.COMP_TYPE.PAGE][0].pageId,b("#go_to_page").val(h),a.initModelConfig(c[0],d[0],e[0]),a.setComponentData(g[0]),a.setCurrentAppId($v("P4500_CURRENT_APP")),a.setCurrentPageId(h),b(document).trigger("modelReady"),m("getAdditionalData",{x01:h},{type:"GET",success:function(a){var c,d;a.prevPageId&&(i.lookup(ga).pageId=a.prevPageId,i.enable(ga)),a.nextPageId&&(i.lookup(fa).pageId=a.nextPageId,i.enable(fa)),gTeamDevEnabled&&(c=a.teamDev.features+a.teamDev.bugs+a.teamDev.todos+a.teamDev.feedback,d=f.format("TEAM_DEV_BADGE_TITLE",c),0===c?(c="",b("#menu-team-dev").hide()):b("#menu-team-dev").show().prop(O,!1).attr(H,d).attr(I,d).find(".a-Button-badge").text(c),z=a.teamDev)}}),b(document).trigger("selectionChanged",["controller",a.getComponents(a.COMP_TYPE.PAGE,{id:a.getCurrentPageId()})]),o.resolve())}).fail(function(){o.reject()}).always(function(){c.delayLinger.finish("main",function(){j.remove(),n.removeClass(D)})}),o.promise())},f.goToComponent=function(c,d,e){var f=a.getComponents(c,{id:d});return 1===f.length&&(b(document).trigger("selectionChanged",["controller",f,e]),b("#PDrenderingTree, #PDdynamicActionTree, #PDprocessingTree, #PDsharedCompTree").each(function(a){var c,f=b(this);if(c=f.treeView("getSelectedNodes")[0],c&&c.data.componentId===d)return s(f.closest(".ui-tabs-panel")[0].id),f.treeView("setSelectedNodes",[c],void 0===e,!0),!1}),!0)},f.showSuccess=function(a){b("#pdNotificationState").addClass("is-success"),b("#pdNotificationIcon").addClass("icon-check"),f.showNotification(a)},f.showError=function(a){b("#pdNotificationState").addClass("is-error"),b("#pdNotificationIcon").addClass("icon-error"),f.showNotification(a)},f.showNotification=function(c){var d=b("#pdNotificationMessage");c&&d.text(c),b("#pdNotification").addClass("is-displayed").fadeIn("slow"),b(document).on("commandHistoryChange.forMsg",function(b){a.hasChanged()&&f.hideNotification()}).on("modelCleared.forMsg",function(a,b){b.preventHideNotification||f.hideNotification()})},f.hideNotification=function(){b("#pdNotification").removeClass("is-displayed").fadeOut("slow",function(){b("#pdNotificationMessage").text(""),b("#pdNotificationState").removeClass("is-error is-success"),b("#pdNotificationIcon").removeClass("icon-error icon-check")}),b(document).off(".forMsg")},f.setHelpText=function(a,c){var d=b("#help-container");d.html(a)},f.clearHelpText=function(){var a=b("#help-container"),c=f.msg("HELP.DEFAULT");a.html(c)},f.getPreference=function(a){var b="PD_"+a;return window.gPreferences.hasOwnProperty(b)?window.gPreferences[b]:null},f.savePreference=function(a,b){var c="PD_"+a,d=window.gPreferences[c];window.gPreferences[c]=b,d!==b&&m("setPreference",{x01:c,x02:b},{dataType:""})},f.saveBoolPref=function(a,b){f.savePreference(a,b?"Y":"N")},f.getBoolPref=function(a,b){var c=f.getPreference(a);return c=null===c?b:"Y"===c},f.getTabsLayout=p,f.storeTabsLayout=q,f.loadTabsLayout=r,f.activateTab=s,f.getTab=function(a){var c=B[a];return b(c.tabs).find(".ui-tabs-nav").first().children().eq(c.index)};var Fa=b("#pe");b(function(){function e(a,c){var d,e,f=b(a.target),g=f.closest(".ui-tabs");c.item.removeClass("ui-tabs-active ui-state-active ui-state-hover ui-state-focus"),c.sender&&(d=b("#"+c.item.attr(G)),e=c.item.prev(),c.item.remove(),e.length?e.after(c.item):f.prepend(c.item),g.append(d),c.sender.closest(".ui-tabs").tabs(L)),g.tabs(L),g.tabs(J,K,c.item.index()),q()}function g(a){var c,d,e,f,g,h,i,j,k=null,l=null,n=a.which;if(a.shiftKey&&(n===m.UP||n===m.LEFT?l=-1:n!==m.DOWN&&n!==m.RIGHT||(l=1),l)){if(f=b(a.target),d=f.closest(".ui-tabs-nav"),c=d.children().length,e=d.closest(".ui-tabs"),g=Ea.indexOf("#"+e[0].id),h=f.index(),h+=l,h>=0&&h<c)l>0?f.next().after(f):f.prev().before(f);else{if(g+=l,!(g>=0&&g<Ea.length))return;k=b(Ea[g]).find(".ui-tabs-nav").first(),j=k.closest(".ui-tabs"),i=b("#"+f.attr(G)),f.remove(),l<0?k.append(f):k.prepend(f),h=f.index(),j.append(i),e.tabs(L),e=j}return e.tabs(L),e.tabs(J,K,h),f.focus(),q(),!1}}var j="useComponentView",k=h.getScopedSessionStorage({useAppId:!0,usePageId:!0}),l=h.getScopedLocalStorage({prefix:"ORA_WWV_apex.builder.pageDesigner",useAppId:!1}),m=b.ui.keyCode;b("#sp_main").show(),v(),w(),x(),a.init({isInternal:gIsInternal,isReadOnly:gIsReadOnly}),setTimeout(function(){var a=f.goToPage(b("#go_to_page").val(),!0);b.when(a).done(function(){var a=t(window.location.hash);a&&f.goToComponent(a.typeId,a.componentId)})},0),i.add([{name:T,onLabel:f.msg("RESTORE"),offLabel:f.msg("EXPAND"),get:function(){return this.isCenterExpanded},set:function(a){this.isCenterExpanded=a,b("#sp_main_content.a-Splitter, #sp_glv_content:visible, #sp_right_content").splitter(J,"collapsed",this.isCenterExpanded)},isCenterExpanded:!1,updateState:function(){var a=this;this.isCenterExpanded=!0,b("#sp_main_content.a-Splitter, #sp_glv_content:visible, #sp_right_content").each(function(){if(!b(this).splitter(J,"collapsed"))return a.isCenterExpanded=!1,!1}),this.icon=this.isCenterExpanded?"icon-restore":"icon-maximize",i.update(this.name)}},{name:U,label:f.msg("ACTION.GOTO_HELP"),action:function(a,c){return s(ya),b("#help-container")[0].focus(),!0}},{name:V,label:f.msg("ACTION.GOTO_RENDERING"),action:function(a,c){return s(za),b("#PDrenderingTree").treeView("focus"),!0}},{name:W,label:f.msg("ACTION.GOTO_DA"),action:function(a,c){return s(Aa),b("#PDdynamicActionTree").treeView("focus"),!0}},{name:X,label:f.msg("ACTION.GOTO_PROCESSING"),action:function(a,c){return s(Ba),b("#PDprocessingTree").treeView("focus"),!0}},{name:Y,label:f.msg("ACTION.GOTO_SHARED"),action:function(a,c){return s(Ca),b("#PDsharedCompTree").treeView("focus"),!0}},{name:Z,label:f.msg("ACTION.GOTO_GLV"),action:function(a,c){return s(ua),b("#glv").gridlayout("focus"),!0}},{name:$,label:f.msg("ACTION.GOTO_CV"),action:function(a,c){var d,e=b("#componentView-container").find(".a-CV-component");return s(va),d=e.filter(".is-selected"),d.length||(d=e),d.first().find("a").focus(),!0}},{name:_,label:f.msg("ACTION.GOTO_PE"),action:function(a,b){return s(Da),Fa.propertyEditor("focus"),!0}},{name:ba,label:f.msg("ACTION.GOTO_REGIONS"),action:function(a,c){return s(ua),u("sp_glv_content"),b("#gallery-tabs").tabs(J,K,0),b("#cg-regions .a-Gallery.a-IconList").iconList("focus"),!0}},{name:ca,label:f.msg("ACTION.GOTO_ITEMS"),action:function(a,c){return s(ua),u("sp_glv_content"),b("#gallery-tabs").tabs(J,K,1),b("#cg-items .a-Gallery.a-IconList").iconList("focus"),!0}},{name:da,label:f.msg("ACTION.GOTO_BUTTONS"),action:function(a,c){return s(ua),u("sp_glv_content"),b("#gallery-tabs").tabs(J,K,2),b("#cg-buttons .a-Gallery.a-IconList").iconList("focus"),!0}},{name:ea,label:f.msg("ACTION.GOTO_MSGS"),action:function(a,c){return s(wa),b("#messages-container").find(".a-AlertMessages-message").first().each(function(){this.focus()}),!0}},{name:aa,label:f.msg("ACTION.PAGE_SEARCH"),action:function(a,c){var d=b(a.target),e=d.closest(".a-PropertyEditor");return e.length?e.parent().find("."+E).focus():(s(xa),b("#P4500_LOCAL_SEARCH").focus()),!0}},{name:fa,label:null,title:null,disabled:!0,pageId:null,action:function(){f.goToPage(this.pageId)}},{name:ga,label:null,title:null,disabled:!0,pageId:null,action:function(){f.goToPage(this.pageId)}},{name:ha,label:f.msg("KBD_SHORTCUTS"),action:function(a,e){var g,h,j,k,l,m=[],n={},o=c.htmlBuilder(),p=i.listShortcuts();for(g=0;g<p.length;g++)j=p[g],k=n[j.actionName],k||(m.push(j.actionName),k={actionLabel:j.actionLabel,shortcuts:[]},n[j.actionName]=k),k.shortcuts.push(j.shortcutDisplay);for(m.sort(function(a,b){return n[a].actionLabel>n[b].actionLabel?1:n[a].actionLabel<n[b].actionLabel?-1:0}),o.markup("<div").attr("id","shortcutDlg").attr(I,f.msg("KBD_SHORTCUTS")).markup(" tabindex='0'>").markup("<ul class='a-AVPList a-AVPList--shortcuts'>"),g=0;g<m.length;g++){for(k=n[m[g]],o.markup("<li class='a-AVPList-item'><span class='a-AVPList-label'>").content(k.actionLabel).markup("</span><span class='a-AVPList-value'>"),
l=k.shortcuts,h=0;h<l.length;h++)h>0&&o.markup("<br>"),o.content(l[h]);o.markup("</span></li>")}return o.markup("</ul></div>"),b(o.toString()).dialog({modal:!0,closeText:d.getMessage("APEX.DIALOG.CLOSE"),minWidth:300,width:460,height:380,close:function(a,c){b(this).dialog("destroy").remove()},open:function(){this.focus()},buttons:[{text:f.msg("OK"),click:function(){b(this).dialog("close")}}]}),!0}}]),b("#helpMenu_menu").on("menucreate",function(){var a=b("#helpMenu_menu").menu("find","keyboardShortcuts");a&&(a.hide=!1,a.action=ha)}),f.clearHelpText();var y=null;b("body").on("splitterchange splittercreate",function(a,b){var c=i.lookup(T);y||(y=setTimeout(function(){y=null,c.updateState()},100))}),apex.builder.nameBuilderWindow(),b(".a-TabsContainer").tabs({heightStyle:"fill",activate:function(a,b){var c,d,e,f;b.newPanel.is(".resize")&&b.newPanel.resize(),c=b.newTab.parents(".ui-tabs"),d=c.attr("id"),e=c.tabs(J,K),f=c.find(".ui-tabs-nav").first().children().eq(e).attr(G),k.setItem(d,e),"editor_tabs"===d&&(f===va?l.setItem(j,"true"):f===ua&&l.removeItem(j))}}).on("resize",function(a){o()}),b(".ui-tabs").each(function(){var a,c=b(this).data("ui-tabs");a=c._handlePageNav,c._handlePageNav=function(b){return!!b.shiftKey||a.call(c,b)}}),p(),setTimeout(function(){var a;f.getBoolPref(sa,!1)||f.getPreference(ra)?(f.getBoolPref(sa,!1)?(a=f.getPreference(qa),a&&a.indexOf("2:")<0&&(a=C.replace(/0:/g,"1:")),a||(a=C.replace(/0:/g,"1:")),i.disable(oa)):(a=f.getPreference(ra),a&&a.indexOf("2:")<0&&(a=C),a||(a=C),i.disable(pa)),r(a,!0)):i.disable(pa),p(),b(".a-TabsContainer").each(function(){var a=b(this),c=a.attr("id"),d=k.getItem(c);d?a.tabs(J,K,d):"editor_tabs"===c&&s("true"===l.getItem(j)?va:ua)})},1),b("#editor_tabs").find(".ui-tabs-nav").sortable({axis:"x",connectWith:"#trees > .a-Tabs-toolbar > .ui-tabs-nav, #peTabs > .a-Tabs-toolbar > .ui-tabs-nav",update:e}).on("dblclick",function(){i.toggle(T)}).on("keydown",g),b("#trees").find(".ui-tabs-nav").sortable({axis:"x",connectWith:"#editor_tabs > .a-Tabs-toolbar > .ui-tabs-nav, #peTabs > .a-Tabs-toolbar > .ui-tabs-nav",update:e}).on("keydown",g),b("#peTabs").find(".ui-tabs-nav").sortable({axis:"x",connectWith:"#editor_tabs > .a-Tabs-toolbar > .ui-tabs-nav, #trees > .a-Tabs-toolbar > .ui-tabs-nav",update:e}).on("keydown",g),b("#editor_tabs [aria-controls=help]").addClass("ui-tabs-helpTab"),apex.theme.pageResizeInit(),b(window).on("beforeunload",function(b){if(a.hasChanged())return f.msg("BEFORE_PAGE_UNLOAD_UNSAVED_CHANGES")}),b("#pdNotificationClose").on("click",function(){f.hideNotification()}),b(".a-ControlBar,.a-PageDesigner").tooltip({item:"button[title]",show:apex.tooltipManager.defaultShowOption()}),b(document.body).append("<div id='apexActionKeyDisplay' style='display:none;'></div>"),i.partialShortcutInput=function(a){a=a||"",setTimeout(function(){b("#apexActionKeyDisplay").text(a)[a?"show":"hide"]()},a?1:800)},apex.gPageContext$.on("apexafterclosedialog",function(a,b){b.FB_FLOW_ID&&b.FB_FLOW_PAGE_ID&&(b.successMessage?f.showSuccess(b.successMessage.text):f.hideNotification(),f.goToPage(b.FB_FLOW_PAGE_ID,b.successMessage))}),setTimeout(function(){var a,c,d=function(a,b){var c={name:a,shortcut:b};return c},e=[d("spotlight-search","Ctrl+Quote"),d(P,"Ctrl+Z"),d(Q,"Ctrl+Y"),d(R,"Alt+F7"),d(S,"Alt+F8"),d(T,"Alt+F11"),d(U,"Alt+F1"),d(V,"Ctrl+/,R"),d(W,"Ctrl+/,A"),d(X,"Ctrl+/,P"),d(Y,"Ctrl+/,S"),d(Z,"Ctrl+/,L"),d($,"Ctrl+/,O"),d(_,"Ctrl+/,E"),d(ba,"Ctrl+/,G,R"),d(ca,"Ctrl+/,G,I"),d(da,"Ctrl+/,G,B"),d(ea,"Ctrl+/,M"),d(aa,"Ctrl+/,F"),d(fa,"Alt+Shift+Page Down"),d(ga,"Alt+Shift+Page Up"),d(ha,"Alt+Shift+F1"),d("glv-disp-from-page","Ctrl+/,D,T"),d("glv-disp-from-region","Ctrl+/,D,H"),d("glv-hide-empty","Ctrl+/,D,E"),d(ia,"Ctrl+/,U,A"),d(ja,"Ctrl+/,C,P"),d(ka,"Ctrl+/,C,C"),d(la,"Ctrl+/,C,F"),d(ma,"Ctrl+/,C,S"),d(na,"Ctrl+/,C,B")];for(b.each([P,Q],function(){var a=i.lookup(this);a.contextLabel=a.label}),c=b("#menu-create").attr(H),b.each([ja,ka,la,ma,na],function(){var a=i.lookup(this);a.contextLabel=c+": "+a.label}),c=b("#menu-utilities").attr(H),b.each([ia],function(){var a=i.lookup(this);a.contextLabel=c+": "+a.label}),a=0;a<e.length;a++)e[a].type="global";i.setShortcutKeyBindings(e),n(f.getBoolPref(ta,!0))},1)})}(pe,apex.jQuery,apex.util,apex.lang,apex.navigation,window.pageDesigner,apex.server,apex.storage,apex.actions,apex.item,apex.commandHistory);
!function(a,b,c,d,e,f){"use strict";function g(a){return e.getMessage("PD.TREE."+a)}function h(a){var b=g(a),c=[b].concat(Array.prototype.slice.call(arguments,1));return e.formatNoEscape.apply(this,c)}function i(a,b){var c=j(a,f.extend({isHeader:!0},b));return c.children=[],c.state={},b.isOpen&&(c.state={opened:!0}),b.omitIfEmpty&&(c.commands.omitIfEmpty=!0),b.showHasComponents&&(c.commands.showHasComponents=!0),c}function j(c,d){var e={type:d.type,label:d.title,classes:"",data:{},commands:{}};return d.component instanceof a.Component?(e.data={typeId:d.component.typeId,componentId:d.component.id,isPlain:d.isPlain},d.isPlain||(b.isNever(d.component)?e.classes=b.CSS.IS_NEVER:b.isConditional(d.component)&&(e.classes=b.CSS.IS_CONDITIONAL),d.component.hasChanged()&&(e.classes=b.CSS.IS_CHANGED),d.component.hasErrors()&&(e.classes+=" "+b.CSS.IS_ERROR,e.commands.openAllParents=!0),d.component.hasWarnings()&&(e.classes+=" "+b.CSS.IS_WARNING)),d.title||(e.label=d.component.getDisplayTitle())):(d.hasWarnings&&(e.classes+=" "+b.CSS.IS_WARNING),d.hasErrors&&(e.classes+=" "+b.CSS.IS_ERROR,e.commands.openAllParents=!0)),d.isNotImportant&&(e.classes+=" "+la.IS_NOT_IMPORTANT),d.hasOwnProperty("id")?e.id=d.id:d.component instanceof a.Component?(e.id=e.type+"_"+d.component.typeId+"_"+d.component.id,0!==e.type.indexOf("inline_")&&0!==e.type.indexOf("page_load_da_")||(e.id=c.id+"_"+e.id)):(e.id=d.type,d.idPostfix&&(e.id+=d.idPostfix),c&&(e.id=c.id+"_"+e.id)),d.tooltip&&(e.tooltip=d.tooltip),d.hasOwnProperty("icon")&&(d.icon===!1?e.icon=null:e.icon=d.icon),d.openAllParents&&(e.commands.openAllParents=!0),c&&c.children.push(e),e}function k(a,b){var c,d;if(b=f.extend({component:{},hasWarnings:!1,hasErrors:!1,isOpen:!1,isPlain:!1,openAllParents:!1,omitIfEmpty:!1,showHasComponents:!1},b),b.isHeader=!0,b.isNotImportant=!0,c=i(a,b),b.filter)if("parent"===b.filter.setFilter)for(d=0;d<b.filter.properties.length;d++)a.data[b.filter.properties[d].id]=b.filter.properties[d].value;else if(b.filter.properties)for(d=0;d<b.filter.properties.length;d++)c.data[b.filter.properties[d].id]=b.filter.properties[d].value;if(b.data)for(var e in b.data)b.data.hasOwnProperty(e)&&(c.data[e]=b.data[e]);return c}function l(b){if(b.children){for(var c=0;c<b.children.length;)l(b.children[c])?b.children.splice(c,1):(b.children[c].commands.openAllParents&&(b.state.opened||(b.state.opened=!0),b.commands.openAllParents||(b.commands.openAllParents=!0)),(b.children[c].state&&b.children[c].state.hasComponents||b.children[c].data.hasOwnProperty("componentId")&&!a.getComponents(b.children[c].data.typeId,{id:b.children[c].data.componentId})[0].isOnGlobalPage())&&(b.state.hasComponents||(b.state.hasComponents=!0,b.commands.showHasComponents&&(b.classes+=" "+la.IS_POPULATED))),c++);return 0===b.children.length&&delete b.state,b.commands.omitIfEmpty&&(b.children&&0===b.children.length||!b.children)}return delete b.state,!1}function m(c,d){var e,g,h,l,m,n,o=d.setFilter,p=[],q={};if(void 0===o&&(o=b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)?"header":"parent"),d.header===!1){if(l=c,"parent"===o)for(n=0;n<d.component.filter.properties.length;n++)c.data[d.component.filter.properties[n].id]=d.component.filter.properties[n].value}else{if(e=d.header.component instanceof a.Component?d.header.component.getDisplayTitle():d.header.title?d.header.title:a.getComponentType(d.component.typeId).title.plural,o)if(h={setFilter:o,properties:[]},f.isArray(d.component))for(n=0;n<d.component.length;n++)h.properties=h.properties.concat(d.component[n].filter.properties);else d.component.filter.properties&&(h.properties=d.component.filter.properties);l=k(c,{title:e,type:d.header.type,id:d.header.id,idPostfix:d.header.idPostfix,isPlain:d.header.isPlain,hasWarnings:d.header.hasWarnings,hasErrors:d.header.hasErrors,isOpen:d.header.isOpen,openAllParents:d.header.openAllParents,omitIfEmpty:d.header.omitIfEmpty,component:d.header.component,filter:h})}if(f.isArray(d.component))for(n=0;n<d.component.length;n++)p[n]={typeId:d.component[n].typeId,filter:d.component[n].filter},q[d.component[n].typeId]=d.component[n];else p[0]={typeId:d.component.typeId,filter:d.component.filter},q[d.component.typeId]=d.component;for(g=a.getComponentsAdvanced(p),n=0;n<g.length;n++)b.isDisplayed(g[n])&&(q[g[n].typeId].addSubComponents?(m=i(l,{title:g[n].getDisplayTitle(),type:q[g[n].typeId].type,component:g[n],isHeader:!1,isPlain:q[g[n].typeId].isPlain,isOpen:q[g[n].typeId].isOpen,openAllParents:!g[n].isOnGlobalPage()&&q[g[n].typeId].openAllParents,omitIfEmpty:q[g[n].typeId].omitIfEmpty}),q[g[n].typeId].addSubComponents(m,g[n])):j(l,{title:g[n].getDisplayTitle(),type:q[g[n].typeId].type,isPlain:q[g[n].typeId].isPlain,component:g[n],openAllParents:!g[n].isOnGlobalPage()&&q[g[n].typeId].openAllParents}))}function n(b,c){var d;return b===a.COMP_TYPE.BRANCH?d=a.PROP.BRANCH_POINT:b===a.COMP_TYPE.PAGE_COMPUTATION?d=a.PROP.COMPUTATION_POINT:b===a.COMP_TYPE.PAGE_PROCESS&&(d=a.PROP.PROCESS_POINT),a.getLovTitle(b,d,c)}function o(c,d,e){var f={type:"branches",isOpen:!0,omitIfEmpty:e};b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)&&(f.title=n(a.COMP_TYPE.BRANCH,d.point)),m(c,{header:f,component:{type:"branch",typeId:a.COMP_TYPE.BRANCH,filter:{properties:[{id:a.PROP.BRANCH_POINT,value:d.point}]},openAllParents:!0}})}function p(b,c,d){var e,f,g,h="inline_",i=[],j={isOpen:!0,omitIfEmpty:d};c.hasOwnProperty("regionColumn")?(g=c.regionColumn.getProperty(a.PROP.COLUMN_NAME).getValue(),e=function(){var b;return this.getProperty(a.PROP.VALIDATION_REGION).getValue()===c.region.id&&(b=this.getProperty(a.PROP.REGION_VAL_COLUMN),b&&b.getValue()===g||this.getProperty(a.PROP.ASSOCIATED_COLUMN).getValue()===g)}):c.hasOwnProperty("region")?(j.isOpen=!1,e=function(){return!(this.getProperty(a.PROP.VALIDATION_REGION).getValue()!==c.region.id||""!==this.getProperty(a.PROP.ASSOCIATED_COLUMN).getValue()||this.getProperty(a.PROP.REGION_VAL_COLUMN))}):c.hasOwnProperty("pageItem")?(f=c.pageItem.getProperty(a.PROP.ITEM_NAME).getValue(),e=function(){var b;return""===this.getProperty(a.PROP.VALIDATION_REGION).getValue()&&(b=this.getProperty(a.PROP.VAL_ITEM),this.getProperty(a.PROP.ASSOCIATED_ITEM).getValue()===c.pageItem.id||b&&b.getValue()===f)}):(h="",j.isOpen=!0,j.openAllParents=!0),j.type=h+"validations",m(b,{header:j,setFilter:!1,component:{type:h+"validation",typeId:a.COMP_TYPE.VALIDATION,filter:{properties:i,filterFunction:e}}})}function q(c,d,e,f){var g,h=d.hasOwnProperty("pageItem")?"inline_":"",i={type:h+"computations",isOpen:!0,omitIfEmpty:e};d.hasOwnProperty("point")?(b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)&&(i.title=n(a.COMP_TYPE.PAGE_COMPUTATION,d.point)),g={id:a.PROP.COMPUTATION_POINT,value:d.point}):d.hasOwnProperty("pageItem")&&(g={id:a.PROP.COMPUTATION_ITEM_NAME,value:d.pageItem.getProperty(a.PROP.ITEM_NAME).getValue()}),m(c,{header:i,component:{type:h+"computation",typeId:a.COMP_TYPE.PAGE_COMPUTATION,filter:{properties:[g]},openAllParents:f}})}function r(c,d,e,g){function h(b,c){var d=c.getProperty(a.PROP.PAGE_PROCESS_TYPE).getValue();f.inArray(d,["NATIVE_WEB_SERVICE","NATIVE_WEB_SERVICE_LEGACY"])!==-1&&(m(b,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:a.COMP_TYPE.PAGE_PROC_WS_P_I,filter:{parentId:c.id}}}),"ITEMS"===c.getProperty(a.getPluginProperty(a.COMP_TYPE.PAGE_PROCESS,d,2).id).getValue()&&m(b,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:a.COMP_TYPE.PAGE_PROC_WS_P_O,filter:{parentId:c.id}}}),m(b,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:a.COMP_TYPE.PAGE_PROC_WS_P_A,filter:{parentId:c.id}}}))}var i,j,k=d.hasOwnProperty("region")?"inline_":"";j=!("ON_DEMAND"===d.point&&!b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1))&&{type:k+"processes",isOpen:!0,omitIfEmpty:e},d.hasOwnProperty("point")?(b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)&&(j.title=n(a.COMP_TYPE.PAGE_PROCESS,d.point)),i={id:a.PROP.PROCESS_POINT,value:d.point}):d.hasOwnProperty("region")&&(i={id:a.PROP.PROCESS_REGION,value:d.region.id},j.isOpen=!1),m(c,{header:j,component:{type:k+"process",typeId:a.COMP_TYPE.PAGE_PROCESS,filter:{properties:[i]},addSubComponents:h,openAllParents:g}})}function s(b,d){function e(b,c,d,e){m(b,{header:{title:e,type:"da_actions_"+d,isOpen:!0,omitIfEmpty:!1},setFilter:"header",component:{type:"da_action",typeId:a.COMP_TYPE.DA_ACTION,filter:{parentId:c.id,properties:[{id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:d.toUpperCase()}]}}})}function f(a,b){e(a,b,"true",g("TRUE")),e(a,b,"false",g("FALSE"))}var h,i=!1,j=[],k={title:g("DYNAMIC_ACTIONS"),isOpen:!0,omitIfEmpty:!0};h="inline_",d.hasOwnProperty("regionColumn")?(j.push({id:a.PROP.WHEN_REGION,value:d.region.id}),j.push({id:a.PROP.WHEN_COLUMNS,value:new RegExp("(^|,|\\s)"+c.escapeRegExp(d.regionColumn.getProperty(a.PROP.COLUMN_NAME).getValue())+"($|,|\\s)")})):d.hasOwnProperty("region")?(j.push({id:a.PROP.WHEN_TYPE,value:"REGION"}),j.push({id:a.PROP.WHEN_REGION,value:d.region.id}),k.isOpen=!1):d.hasOwnProperty("pageItem")?j.push({id:a.PROP.WHEN_ITEMS,value:new RegExp("(^|,|\\s)"+c.escapeRegExp(d.pageItem.getProperty(a.PROP.ITEM_NAME).getValue())+"($|,|\\s)")}):d.hasOwnProperty("button")?j.push({id:a.PROP.WHEN_BUTTON,value:d.button.id}):d.hasOwnProperty("event")&&(j.push({id:a.PROP.EVENT,value:d.event}),h="",i="header",""===d.event?k.title=g("UNDEFINED_EVENT"):k.title=a.getLovTitle(a.COMP_TYPE.DA_EVENT,a.PROP.EVENT,d.event),k.idPostfix="_"+d.event,k.omitIfEmpty=!1),k.type=h+"da_events",m(b,{header:k,setFilter:i,component:{type:h+"da_event",typeId:a.COMP_TYPE.DA_EVENT,filter:{properties:j},addSubComponents:f}})}function t(c,d){function e(c,d){var e={NATIVE_IR:u,NATIVE_IG:v,NATIVE_SQL_REPORT:w,NATIVE_FNC_REPORT:w,NATIVE_TABFORM:x,NATIVE_FLASH_MAP:y,NATIVE_FLASH_CHART5:z,NATIVE_JET_CHART:A,NATIVE_CALENDAR:B},f=d.getProperty(a.PROP.REGION_TYPE).getValue();d.isOnGlobalPage()||(e.hasOwnProperty(f)?e[f](c,d):C(c,d)),d.getProperty(a.PROP.SOURCE_WEB_SRC_QUERY)&&m(c,{header:{type:"region_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"region_web_src_param",typeId:a.COMP_TYPE.REGION_WS_PARAM,filter:{parentId:d.id}}}),b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)?t(c,{region:d}):(D(c,d),E(c,d),p(c,{region:d},!0),s(c,{region:d}),t(c,{region:d}))}var f,h={},i={isOpen:!1,omitIfEmpty:!0};d.hasOwnProperty("region")?(f=a.getRegionTemplate(d.region.id).displayPointsMap.SUB_REGIONS,i.title=f?f.name:g("SUB_REGIONS"),i.type="sub_regions",h.properties=[{id:a.PROP.PARENT_REGION,value:d.region.id}]):d.hasOwnProperty("point")?(i.title=d.point.name,i.type="regions",i.id="rdp_"+d.point.id,i.omitIfEmpty=!d.point.isQuickPick,h.properties=[],h.properties.push({id:a.PROP.PARENT_REGION,value:""}),h.properties.push({id:a.PROP.REGION_POSITION,value:d.point.id})):d.hasOwnProperty("validPointsMap")&&(i.title=g("INVALID_POSITION"),i.type="regions",i.id="invalid_region_dp",i.hasWarnings=!0,h.filterFunction=function(){var b=this.getProperty(a.PROP.REGION_POSITION);return!!b&&!d.validPointsMap.hasOwnProperty(b.getValue())}),m(c,{header:i,setFilter:"header",component:{type:"region",typeId:a.COMP_TYPE.REGION,filter:h,addSubComponents:e,isOpen:!0,openAllParents:!0,omitIfEmpty:!1}})}function u(b,c){var d,e,h,j=a.getComponents(a.COMP_TYPE.IR_ATTRIBUTES,{parentId:c.id})[0];m(b,{header:{title:g("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_report_column",typeId:a.COMP_TYPE.IR_COLUMN,filter:{parentId:j.id}}}),d=i(b,{type:"ir_attributes",title:a.getComponentType(j.typeId).title.singular,component:j,isHeader:!1,isOpen:!1,omitIfEmpty:!1}),m(d,{header:{type:"ir_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_column_group",typeId:a.COMP_TYPE.IR_COLUMN_GROUP,filter:{parentId:j.id}}}),m(d,{header:{type:"ir_saved_reports",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_saved_report",typeId:a.COMP_TYPE.IR_SAVED_REPORT,filter:{parentId:j.id}}}),e=j.getProperty(a.PROP.SHOW_DOWNLOAD),e&&"Y"===e.getValue()&&(h=j.getProperty(a.PROP.DOWNLOAD_FORMATS).getValue().split(":"),f.inArray("XLS",h)===-1&&f.inArray("PDF",h)===-1&&f.inArray("RTF",h)===-1||i(d,{type:"ir_print",title:a.getComponentType(a.COMP_TYPE.IR_PRINT_ATTR).title.singular,component:a.getComponents(a.COMP_TYPE.IR_PRINT_ATTR,{parentId:j.id})[0],isHeader:!1,isOpen:!1,omitIfEmpty:!1}))}function v(b,c){function d(a,b){p(a,{region:c,regionColumn:b},!0),s(a,{region:c,regionColumn:b})}var e,h,j,k=a.getComponents(a.COMP_TYPE.IG_ATTRIBUTES,{parentId:c.id})[0];m(b,{header:{title:g("REPORT_COLUMNS"),type:"ig_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column",typeId:a.COMP_TYPE.IG_COLUMN,isOpen:!1,filter:{parentId:c.id},addSubComponents:d}}),e=i(b,{type:"ig_attributes",title:a.getComponentType(k.typeId).title.singular,component:k,isHeader:!1,isOpen:!1,omitIfEmpty:!1}),m(e,{header:{type:"ig_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column_group",typeId:a.COMP_TYPE.IG_COLUMN_GROUP,filter:{parentId:c.id}}}),h=k.getProperty(a.PROP.ENABLE_DOWNLOAD),h&&"Y"===h.getValue()&&(j=k.getProperty(a.PROP.IG_DOWNLOAD_FORMATS).getValue().split(":"),f.inArray("XLS",j)===-1&&f.inArray("PDF",j)===-1&&f.inArray("RTF",j)===-1||i(e,{type:"ig_print",title:a.getComponentType(a.COMP_TYPE.IG_PRINT).title.singular,component:a.getComponents(a.COMP_TYPE.IG_PRINT,{parentId:c.id})[0],isHeader:!1,isOpen:!1,omitIfEmpty:!1}))}function w(b,c){var d,e;m(b,{header:{title:g("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"classic_report_column",typeId:a.COMP_TYPE.CLASSIC_RPT_COLUMN,isOpen:!1,filter:{parentId:c.id}}}),d=a.getComponents(a.COMP_TYPE.CLASSIC_REPORT,{parentId:c.id})[0],e=i(b,{type:"classic_report_attributes",title:a.getComponentType(d.typeId).title.singular,component:d,isHeader:!1,isOpen:!1,omitIfEmpty:!1}),"Y"===d.getProperty(a.PROP.ENABLE_PRINTING).getValue()&&i(e,{type:"classic_report_print",title:a.getComponentType(a.COMP_TYPE.CLASSIC_RPT_PRINT).title.singular,component:a.getComponents(a.COMP_TYPE.CLASSIC_RPT_PRINT,{parentId:d.id})[0],isHeader:!1,isOpen:!1,omitIfEmpty:!1})}function x(b,c){function d(a,b){p(a,{region:c,regionColumn:b},!0)}var e,f;m(b,{header:{title:g("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"tabform_column",typeId:a.COMP_TYPE.TAB_FORM_COLUMN,isOpen:!1,filter:{parentId:c.id},addSubComponents:d}}),e=a.getComponents(a.COMP_TYPE.TABULAR_FORM,{parentId:c.id})[0],f=i(b,{type:"tabform_attributes",title:a.getComponentType(e.typeId).title.singular,component:e,isHeader:!1,isOpen:!1,omitIfEmpty:!1}),"Y"===e.getProperty(a.PROP.ENABLE_PRINTING).getValue()&&i(f,{type:"tabform_print",title:a.getComponentType(a.COMP_TYPE.TAB_FORM_PRINT).title.singular,component:a.getComponents(a.COMP_TYPE.TAB_FORM_PRINT,{parentId:e.id})[0],isHeader:!1,isOpen:!1,omitIfEmpty:!1})}function y(b,c){var d,e=a.getComponents(a.COMP_TYPE.MAP_CHART,{parentId:c.id})[0];d=i(b,{type:"map_chart",title:a.getComponentType(e.typeId).title.singular,component:e,isHeader:!1,isOpen:!0,omitIfEmpty:!1}),m(d,{header:{type:"map_chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"map_chart_serie",typeId:a.COMP_TYPE.MAP_CHART_SERIES,filter:{parentId:e.id}}})}function z(b,c){var d,e=a.getComponents(a.COMP_TYPE.CHART,{parentId:c.id})[0];d=i(b,{type:"chart_attributes",title:a.getComponentType(e.typeId).title.singular,component:e,isHeader:!1,isOpen:!0,omitIfEmpty:!1}),m(d,{header:{type:"chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"chart_serie",typeId:a.COMP_TYPE.CHART_SERIES,filter:{parentId:e.id}}})}function A(b,c){function d(b,c){c.getProperty(a.PROP.SOURCE_WEB_SRC_QUERY)&&m(b,{header:{type:"jet_chart_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"jet_chart_web_src_param",typeId:a.COMP_TYPE.JET_CHART_WS_PARAM,filter:{parentId:c.id}}})}var e=a.getComponents(a.COMP_TYPE.JET_CHART,{parentId:c.id})[0],f=e.getProperty(a.PROP.JET_CHART_TYPE).getValue();i(b,{type:"jet_chart_attributes",title:a.getComponentType(e.typeId).title.singular,component:e,isHeader:!1,isOpen:!0,omitIfEmpty:!1});m(b,{header:{type:"jet_chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_serie",typeId:a.COMP_TYPE.JET_CHART_SERIES,filter:{parentId:e.id},addSubComponents:d}}),f in{area:1,bar:1,boxPlot:1,bubble:1,combo:1,line:1,lineWithArea:1,stock:1,scatter:1,range:1,gantt:1}&&m(b,{header:{type:"jet_chart_axes",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_axis",typeId:a.COMP_TYPE.JET_CHART_AXES,filter:{parentId:e.id}}})}function B(b,c){var d=a.getComponents(a.COMP_TYPE.CLASSIC_CALENDAR,{parentId:c.id})[0];i(b,{type:"classic_calendar",title:a.getComponentType(d.typeId).title.singular,component:d,isHeader:!1,isOpen:!1,omitIfEmpty:!1})}function C(b,c){var d,e,h=a.getComponentType(a.COMP_TYPE.REGION_PLUGIN_ATTR).pluginType.plugins;e=c.getProperty(a.PROP.REGION_TYPE).getValue(),d=a.getComponents(a.COMP_TYPE.REGION_PLUGIN_ATTR,{parentId:c.id}),f.inArray("COLUMNS",h[e].features)!==-1&&m(b,{header:{title:g("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"region_column",typeId:a.COMP_TYPE.REGION_COLUMN,filter:{parentId:c.id}}}),d.length>0&&i(b,{type:"region_plugin_attributes",title:a.getComponentType(a.COMP_TYPE.REGION_PLUGIN_ATTR).title.singular,component:d[0],isHeader:!1,isOpen:!1,omitIfEmpty:!1})}function D(c,d){function e(a,b){p(a,{pageItem:b},!0),s(a,{pageItem:b}),q(a,{pageItem:b},!0)}function f(a,b){s(a,{button:b})}var h={type:"page_items",isOpen:!1,omitIfEmpty:!0};b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)?d instanceof a.Component?h.component=d:(h.title=g("NO_REGION"),h.type="no_region",h.hasWarnings=!0):h.title=g("ITEMS"),m(c,{header:h,setFilter:"header",component:[{type:"page_item",typeId:a.COMP_TYPE.PAGE_ITEM,isOpen:!1,openAllParents:!0,filter:{properties:[{id:a.PROP.REGION,value:d instanceof a.Component?d.id:""}]},addSubComponents:e},{type:"form_button",typeId:a.COMP_TYPE.BUTTON,isOpen:!1,openAllParents:!0,filter:{properties:[{id:a.PROP.REGION,value:d instanceof a.Component?d.id:""},{id:a.PROP.BUTTON_POSITION,value:"BODY"}]},addSubComponents:f}]})}function E(c,d){function e(a,b){s(a,{button:b})}var f={type:"region_buttons",isOpen:!1,omitIfEmpty:!0},h=d instanceof a.Component?d.id:"";b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)?d instanceof a.Component?f.component=d:(f.title=g("NO_REGION"),f.type="no_region",f.hasWarnings=!0):f.title=g("REGION_BUTTONS"),m(c,{header:f,component:{type:"region_button",typeId:a.COMP_TYPE.BUTTON,isOpen:!1,openAllParents:!0,filter:{filterFunction:function(){var b=this.getProperty(a.PROP.REGION).getValue();return(b===h||""===b&&"no_region"===f.type)&&"BODY"!==this.getProperty(a.PROP.BUTTON_POSITION).getValue()}},addSubComponents:e}})}function F(){var c,d;return d=a.getComponents(a.COMP_TYPE.PAGE),c=i(void 0,{component:d[0],type:"page",title:h("PAGE_TITLE",d[0].id,d[0].getDisplayTitle()),isHeader:!1,isOpen:!0}),c.data[a.PROP.COMPUTATION_POINT]="BEFORE_BOX_BODY",c.data[a.PROP.PROCESS_POINT]="AFTER_HEADER",c.data[a.PROP.BRANCH_POINT]="BEFORE_HEADER",c.data[a.PROP.REGION_POSITION]="BODY",c.data[a.PROP.BUTTON_POSITION]="BELOW_BOX","Y"===b.getPreference("GROUP_BY_COMPONENT_TYPE")?H(c):G(c),l(c),c}function G(b){var c,d,e,h,i=a.isGlobalPage();h=a.getPageTemplate(),c=k(b,{title:g("PRE_RENDERING"),type:"pre_rendering",showHasComponents:!0,omitIfEmpty:!0}),i||(e=k(c,{title:n(a.COMP_TYPE.PAGE_PROCESS,"ON_NEW_INSTANCE"),type:"on_new_instance",isOpen:!0,omitIfEmpty:!0}),q(e,{point:"ON_NEW_INSTANCE"},!0),r(e,{point:"ON_NEW_INSTANCE"},!0),e=k(c,{title:n(a.COMP_TYPE.PAGE_PROCESS,"BEFORE_HEADER"),type:"before_header",isOpen:!0}),o(e,{point:"BEFORE_HEADER"},!0),q(e,{point:"BEFORE_HEADER"},!0),r(e,{point:"BEFORE_HEADER"},!0)),e=k(c,{title:n(a.COMP_TYPE.PAGE_PROCESS,"AFTER_HEADER"),type:"after_header",isOpen:!0,omitIfEmpty:i}),i||(q(e,{point:"AFTER_HEADER"},!0),r(e,{point:"AFTER_HEADER"},!0)),t(e,{point:{id:"AFTER_HEADER"}}),i||(e=k(c,{title:n(a.COMP_TYPE.PAGE_PROCESS,"BEFORE_BOX_BODY"),type:"before_regions",isOpen:!0}),q(e,{point:"BEFORE_BOX_BODY"},!0),r(e,{point:"BEFORE_BOX_BODY"},!0)),e=k(b,{title:a.getComponentType(a.COMP_TYPE.REGION).title.plural,type:"main_regions",isOpen:!0});for(var j=0;j<h.displayPoints.length;j++)f.inArray(h.displayPoints[j].id,["AFTER_HEADER","BEFORE_FOOTER"])===-1&&t(e,{point:h.displayPoints[j]});t(e,{validPointsMap:h.displayPointsMap}),e=k(b,{title:g("NO_REGION"),type:"no_region",hasWarnings:!0,isOpen:!0,omitIfEmpty:!0}),D(e,null),E(e,null),d=k(b,{title:g("POST_RENDERING"),type:"post_rendering",showHasComponents:!0}),i||(e=k(d,{title:n(a.COMP_TYPE.PAGE_PROCESS,"AFTER_BOX_BODY"),type:"after_regions",isOpen:!0}),q(e,{point:"AFTER_BOX_BODY"},!0),r(e,{point:"AFTER_BOX_BODY"},!0)),e=k(d,{title:n(a.COMP_TYPE.PAGE_PROCESS,"BEFORE_FOOTER"),type:"before_footer",isOpen:!0}),i||(q(e,{point:"BEFORE_FOOTER"},!0),r(e,{point:"BEFORE_FOOTER"},!0)),t(e,{point:{id:"BEFORE_FOOTER",name:a.getComponentType(a.COMP_TYPE.REGION).title.plural}}),i||(e=k(d,{title:n(a.COMP_TYPE.PAGE_PROCESS,"AFTER_FOOTER"),type:"after_footer",isOpen:!0}),q(e,{point:"AFTER_FOOTER"},!0),r(e,{point:"AFTER_FOOTER"},!0))}function H(b){var c,d,e,f,g,h=a.isGlobalPage();for(d=a.getPageTemplate(),c=k(b,{title:a.getComponentType(a.COMP_TYPE.REGION).title.plural,type:"main_regions",isOpen:!0}),t(c,{validPointsMap:d.displayPointsMap}),g=0;g<d.displayPoints.length;g++)t(c,{point:d.displayPoints[g]});for(f=a.getComponents(a.COMP_TYPE.REGION,{}),c=k(b,{title:a.getComponentType(a.COMP_TYPE.BUTTON).title.plural,type:"main_buttons",isOpen:!0}),E(c,null),g=0;g<f.length;g++)E(c,f[g]);for(c=k(b,{title:a.getComponentType(a.COMP_TYPE.PAGE_ITEM).title.plural,type:"main_page_items",isOpen:!0}),D(c,null),g=0;g<f.length;g++)D(c,f[g]);if(!h){for(c=k(b,{title:a.getComponentType(a.COMP_TYPE.PAGE_COMPUTATION).title.plural,type:"main_computations",isOpen:!0}),e=["ON_NEW_INSTANCE","BEFORE_HEADER","AFTER_HEADER","BEFORE_BOX_BODY","AFTER_BOX_BODY","BEFORE_FOOTER","AFTER_FOOTER"],g=0;g<e.length;g++)q(c,{point:e[g]},!0,!0);for(c=k(b,{title:a.getComponentType(a.COMP_TYPE.PAGE_PROCESS).title.plural,type:"main_processes",isOpen:!0}),e=["ON_NEW_INSTANCE","BEFORE_HEADER","AFTER_HEADER","BEFORE_BOX_BODY","AFTER_BOX_BODY","BEFORE_FOOTER","AFTER_FOOTER"],g=0;g<e.length;g++)r(c,{point:e[g]},!0,!0);c=k(b,{title:a.getComponentType(a.COMP_TYPE.BRANCH).title.plural,type:"main_branches",isOpen:!0}),o(c,{point:"BEFORE_HEADER"},!0)}}function I(){function b(b,c,d,e){var f=[{id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:d.toUpperCase()}];"ready"!==c.getProperty(a.PROP.EVENT).getValue()&&f.push({id:a.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}),m(b,{header:{title:e,type:"page_load_da_actions_"+d,isOpen:!0,omitIfEmpty:!0},setFilter:"header",component:{type:"page_load_da_action",typeId:a.COMP_TYPE.DA_ACTION,isPlain:!0,filter:{parentId:c.id,properties:f}}})}var c,d,e={id:"da",children:[],state:{},commands:{omitIfEmpty:!1}},f={ready:!0,change:!0,click:!0,apexafterclosedialog:!0};m(e,{header:{title:g("FIRED_ON_PAGE_LOAD"),type:"page_load_da_events",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"page_load_da_event",typeId:a.COMP_TYPE.DA_EVENT,isPlain:!0,filter:{filterFunction:function(){var b=!0;return"ready"!==this.getProperty(a.PROP.EVENT).getValue()&&(b=this.getChilds(a.COMP_TYPE.DA_ACTION,{properties:[{id:a.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}]},!1).length>0),b}},addSubComponents:function(a,c){b(a,c,"true",g("TRUE")),b(a,c,"false",g("FALSE"))}}}),c=k(e,{title:g("EVENTS"),type:"da_events",isOpen:!0,filter:{properties:[{id:a.PROP.EVENT,value:""}]}}),d=a.getComponents(a.COMP_TYPE.DA_EVENT,{});for(var h=0;h<d.length;h++)f[d[h].getProperty(a.PROP.EVENT).getValue()]=!0;for(var i in f)f.hasOwnProperty(i)&&s(c,{event:i});return l(e),e}function J(){var a={id:"rd",children:[],state:{},commands:{omitIfEmpty:!1}};return"Y"===b.getPreference("GROUP_BY_COMPONENT_TYPE")?L(a):K(a),l(a),a}function K(b){var c,d=a.isGlobalPage();d||(c=k(b,{title:n(a.COMP_TYPE.PAGE_COMPUTATION,"AFTER_SUBMIT"),type:"after_submit"}),r(c,{point:"ON_SUBMIT_BEFORE_COMPUTATION"},!0,!0),o(c,{point:"BEFORE_COMPUTATION"},!0),q(c,{point:"AFTER_SUBMIT"},!0,!0),c=k(b,{title:n(a.COMP_TYPE.BRANCH,"BEFORE_VALIDATION"),type:"validating"}),o(c,{point:"BEFORE_VALIDATION"},!0),p(c,{},!0),c=k(b,{title:n(a.COMP_TYPE.PAGE_PROCESS,"AFTER_SUBMIT"),type:"processing",isOpen:!0}),o(c,{point:"BEFORE_PROCESSING"},!0),r(c,{point:"AFTER_SUBMIT"},!0,!0),c=k(b,{title:n(a.COMP_TYPE.BRANCH,"AFTER_PROCESSING"),type:"after_processing",isOpen:!0}),o(c,{point:"AFTER_PROCESSING"},!0),c=k(b,{title:n(a.COMP_TYPE.PAGE_PROCESS,"ON_DEMAND"),id:"ajax_callbacks",type:"processes",isOpen:!0}),r(c,{point:"ON_DEMAND"},!1,!0))}function L(b){var c,d,e,f=a.isGlobalPage();if(!f){for(c=k(b,{title:a.getComponentType(a.COMP_TYPE.PAGE_COMPUTATION).title.plural,type:"main_computations",isOpen:!0,filter:{properties:[{id:a.PROP.COMPUTATION_POINT,value:"AFTER_SUBMIT"}]}}),q(c,{point:"AFTER_SUBMIT"},!0,!0),p(b,{},!1),c=k(b,{title:a.getComponentType(a.COMP_TYPE.PAGE_PROCESS).title.plural,type:"main_processes",isOpen:!0,filter:{properties:[{id:a.PROP.PROCESS_POINT,value:"AFTER_SUBMIT"}]}}),d=["ON_SUBMIT_BEFORE_COMPUTATION","AFTER_SUBMIT","ON_DEMAND"],e=0;e<d.length;e++)r(c,{point:d[e]},!0,!0);for(c=k(b,{title:a.getComponentType(a.COMP_TYPE.BRANCH).title.plural,type:"main_branches",isOpen:!0,filter:{properties:[{id:a.PROP.BRANCH_POINT,value:"AFTER_PROCESSING"}]}}),d=["BEFORE_COMPUTATION","BEFORE_VALIDATION","BEFORE_PROCESSING","AFTER_PROCESSING"],e=0;e<d.length;e++)o(c,{point:d[e]},!0)}}function M(){function b(b,c,d){var e,g,i,j,l,n,o,p=a.getComponentType(c.typeId);o=k(b,{title:c.title||(c.titleTypeId?a.getComponentType(c.titleTypeId).title.singular:p.title.plural),type:c.type+"s",isOpen:!1,omitIfEmpty:d,data:{typeId:c.typeId}}),e=N(c.typeId),n={};for(var q=0;q<e.length;q++){g=a.getComponents(e[q].typeId,{});for(var r=0;r<g.length;r++)l=!1,e[q].typeId===a.COMP_TYPE.PAGE&&f.inArray(e[q].propertyId,[a.PROP.PAGE_TEMPLATE,a.PROP.DIALOG_TEMPLATE,a.PROP.NAVIGATION_LIST,a.PROP.TAB_SET])!==-1?!g[r].getProperty(e[q].propertyId)||e[q].propertyId!==a.PROP.PAGE_TEMPLATE&&e[q].propertyId!==a.PROP.DIALOG_TEMPLATE||(l=!0,j=a.getPageTemplate().id):(i=g[r].getProperty(e[q].propertyId),i&&(j=i.getValue(),""!==j&&(c.typeId!==a.COMP_TYPE.BUILD_OPTION&&c.typeId!==a.COMP_TYPE.AUTHORIZATION||!/^[-!]/.test(j)||(j=j.substr(1)),l=!0))),l&&""!==j&&(n.hasOwnProperty(j)||(n[j]={}),n[j].hasOwnProperty(e[q].typeId)||(n[j][e[q].typeId]=[]),n[j][e[q].typeId].push(g[r]))}for(var s in n)n.hasOwnProperty(s)&&m(o,{header:!1,component:{type:c.type,typeId:c.typeId,isOpen:!1,filter:{id:s,properties:[]},addSubComponents:function(b){var c,d;for(var e in n[s])if(n[s].hasOwnProperty(e)){c=a.getComponentType(e),d=k(b,{title:h("REFERENCED_BY",1===n[s][c.id].length?c.title.singular:c.title.plural),type:"references",isOpen:!0,omitIfEmpty:!1});for(var f=0;f<n[s][c.id].length;f++)m(d,{header:!1,component:{type:"referenced_by",typeId:c.id,isPlain:!0,filter:{id:n[s][c.id][f].id,properties:[]}}})}}}});return o}function c(d,e,g){for(var h,i,j=!1,l=0;l<e.length;l++)f.inArray(e[l].type,["navigation_menu_list","navigation_bar_list","nav_list_template","tab_set"])!==-1?("navigation_menu_list"===e[l].type?(i=a.getNavListId(),j=!0):"navigation_bar_list"===e[l].type?(i=a.getNavBarListId(),j=!0):"nav_list_template"===e[l].type?i=a.getNavListTemplateId():"tab_set"===e[l].type&&(i=a.getTabSetId()),i&&m(d,{header:{title:e[l].title,type:e[l].type+"s",isOpen:j,omitIfEmpty:!0,data:{typeId:e[l].typeId}},component:{type:e[l].type,typeId:e[l].typeId,isOpen:!1,filter:{id:i,properties:[]}}})):h=e[l].hasOwnProperty("typeId")?b(d,e[l],g):k(d,{title:e[l].title,type:e[l].type+"s",isOpen:!0,omitIfEmpty:g}),e[l].children&&c(h,e[l].children,!0)}var d={id:"sd",children:[],state:{},commands:{omitIfEmpty:!1}};return c(d,pa,!1),l(d),d}function N(b){for(var c,d,e=a.getComponentType(b),f=[],g=0;g<e.refByProperties.length;g++){c=a.getProperty(e.refByProperties[g]);for(var h=0;h<c.refByComponentTypes.length;h++)d=a.getComponentType(c.refByComponentTypes[h]),(d.isPageComponent||d.id===a.COMP_TYPE.PAGE)&&f.push({typeId:d.id,propertyId:c.id})}return f}function O(b){function c(a){var c;a.hasOwnProperty("value")?d.push({id:a.id,value:a.value}):a.typeId?(c=aa(a.typeId,b._parent),d.push({id:a.id,value:c?c.id:""})):a.id&&d.push({id:a.id,value:ba(a.id,b._parent)+""})}var d=[];switch(b.type){case"region":"regions"===b._parent.type?(c({id:a.PROP.PARENT_REGION,value:""}),c({id:a.PROP.REGION_POSITION})):c({id:a.PROP.PARENT_REGION,typeId:a.COMP_TYPE.REGION});break;case"page_item":c({id:a.PROP.REGION,typeId:a.COMP_TYPE.REGION});break;case"form_button":c({id:a.PROP.REGION,typeId:a.COMP_TYPE.REGION}),c({id:a.PROP.BUTTON_POSITION});break;case"region_button":c({id:a.PROP.REGION,typeId:a.COMP_TYPE.REGION}),c({id:a.PROP.BUTTON_POSITION});break;case"da_action":c({id:a.PROP.DA_EVENT,typeId:a.COMP_TYPE.DA_EVENT}),c({id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS});break;case"computation":c({id:a.PROP.COMPUTATION_POINT});break;case"process":c({id:a.PROP.PROCESS_POINT});break;case"branch":c({id:a.PROP.BRANCH_POINT})}return d}function P(b,c){var d,e,f,g=[];if(b.items.length>0){e=a.transaction.message({action:a.MESSAGE_ACTION.MOVE,component:_(b.items[0].toNode),count:b.items.length}),f=a.transaction.start("",e);for(var h=0;h<b.items.length;h++)g[h]=_(b.items[h].toNode),0===b.items[h].toIndex?d=null:(d=_(b.parentNode.children[b.items[h].toIndex-1]),d||(d="last")),g[h].move(d,O(b.items[h].toNode));apex.commandHistory.execute(f)}}function Q(b,c){var d,e,f,g,h=[];if(b.items.length>0){f=a.transaction.message({action:a.MESSAGE_ACTION.DUPLICATE,component:_(b.items[0].toNode),count:b.items.length}),g=a.transaction.start("",f);for(var i=0;i<b.items.length;i++)d=_(b.items[i].toNode),0===b.items[i].toIndex?e=null:(e=_(b.parentNode.children[b.items[i].toIndex-1]),e||(e="last")),h[i]=d.duplicate(),h[i].move(e,O(b.items[i].toNode));apex.commandHistory.execute(g),U(h,c,b.items[0].toNode._parent.id,!0)}}function R(b,c){var d,e,f;if(b.items.length>0){e=a.transaction.message({action:a.MESSAGE_ACTION.DELETE,component:_(b.items[0].node),count:b.items.length}),f=a.transaction.start("",e);for(var g=0;g<b.items.length;g++)d=_(b.items[g].node),d&&d.remove()}apex.commandHistory.execute(f)}function S(b,c){var d,e,f=[];if(b.length>0){d=a.transaction.message({action:a.MESSAGE_ACTION.DUPLICATE,component:_(b[0]),count:b.length}),e=a.transaction.start("",d);for(var g=0;g<b.length;g++)f.push(_(b[g]).duplicate());apex.commandHistory.execute(e),U(f,c,b[0]._parent.id,!0)}}function T(b,c){var d,e;if(b.length>0){d=a.transaction.message({action:a.MESSAGE_ACTION.DELETE,component:_(b[0]),count:b.length}),e=a.transaction.start("",d);for(var f=0;f<b.length;f++)_(b[f]).remove();apex.commandHistory.execute(e)}}function U(a,b,c,d){var e,g,h=[],i=f(),j=c;if(c||"PDdynamicActionTree"!==b[0].id||(j="da_da_events"),d){for(g=0;g<a.length;g++)i=i.add(Z(a[g],b,j));b.treeView("setSelection",i)}else{for(g=0;g<a.length;g++)e=$(a[g],b,j),e&&h.push(e);b.treeView("setSelectedNodes",h,!1,!0)}}function V(b,c){var d,e,f,g,h,i,j,k={NATIVE_SHOW:"NATIVE_HIDE",NATIVE_HIDE:"NATIVE_SHOW",NATIVE_ENABLE:"NATIVE_DISABLE",NATIVE_DISABLE:"NATIVE_ENABLE",NATIVE_ADD_CLASS:"NATIVE_REMOVE_CLASS",NATIVE_REMOVE_CLASS:"NATIVE_ADD_CLASS"},l=[],m=[];i=a.transaction.message({action:a.MESSAGE_ACTION.CREATE,component:_(b[0]),count:b.length}),j=a.transaction.start("",i);for(var n=0;n<b.length;n++){if(d=_(b[n]),e=d.getProperty(a.PROP.DA_ACTION_TYPE).getValue(),k.hasOwnProperty(e)){for(l.push({id:a.PROP.DA_ACTION_TYPE,value:k[e]}),f=1,g=a.getPluginProperty(a.COMP_TYPE.DA_ACTION,e,f);g&&f<=oa;)l.push({id:a.getPluginProperty(a.COMP_TYPE.DA_ACTION,k[e],f).id,value:d.getProperty(g.id).getValue()}),f++,g=a.getPluginProperty(a.COMP_TYPE.DA_ACTION,e,f);l.push({id:a.PROP.FIRE_ON_PAGE_LOAD,value:d.getProperty(a.PROP.FIRE_ON_PAGE_LOAD).getValue()
})}h="TRUE"===d.getProperty(a.PROP.FIRE_WHEN_EVENT_RESULT_IS).getValue()?"FALSE":"TRUE",l.push({id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:h}),m.push(d.duplicate(l)),m[m.length-1].move("last")}apex.commandHistory.execute(j),U(m,c,b[0]._parent._parent.id,!0)}function W(b,c,d,e){function h(a){var c;a.hasOwnProperty("value")?s.push({id:a.id,value:a.value}):a.typeId?(c=aa(a.typeId,b),s.push({id:a.id,value:c?c.id:""})):a.id&&s.push({id:a.id,value:ba(a.id,b)+""})}var i,j,k,l,m,n,o,p,q,r=_(b),s=[];if(d===a.COMP_TYPE.REGION)h("SUB_REGION"===e?{id:a.PROP.PARENT_REGION,typeId:a.COMP_TYPE.REGION}:r&&""!==r.getProperty(a.PROP.PARENT_REGION).getValue()?{id:a.PROP.PARENT_REGION}:{id:a.PROP.REGION_POSITION});else if(d===a.COMP_TYPE.PAGE_ITEM)h({id:a.PROP.REGION,typeId:a.COMP_TYPE.REGION});else if(d===a.COMP_TYPE.BUTTON)h({id:a.PROP.REGION,typeId:a.COMP_TYPE.REGION}),h({id:a.PROP.BUTTON_POSITION});else if(d===a.COMP_TYPE.PAGE_COMPUTATION)j=aa(a.COMP_TYPE.PAGE_ITEM,b),j?(h({id:a.PROP.COMPUTATION_ITEM_NAME,value:j.getProperty(a.PROP.ITEM_NAME).getValue()}),h({id:a.PROP.COMPUTATION_POINT,value:"BEFORE_BOX_BODY"})):h({id:a.PROP.COMPUTATION_POINT});else if(d===a.COMP_TYPE.PAGE_PROCESS)h({id:a.PROP.PROCESS_POINT});else if(d===a.COMP_TYPE.VALIDATION){if(j=aa([a.COMP_TYPE.PAGE_ITEM,a.COMP_TYPE.REGION,a.COMP_TYPE.TAB_FORM_COLUMN,a.COMP_TYPE.IG_COLUMN],b))switch(j.typeId){case a.COMP_TYPE.PAGE_ITEM:h({id:a.PROP.ASSOCIATED_ITEM,value:j.id});break;case a.COMP_TYPE.REGION:h({id:a.PROP.VALIDATION_REGION,value:j.id});break;case a.COMP_TYPE.TAB_FORM_COLUMN:k=j.getProperty(a.PROP.COLUMN_NAME).getValue(),h({id:a.PROP.VALIDATION_REGION,value:j.parentId}),h({id:a.PROP.ASSOCIATED_COLUMN,value:k}),h({id:a.PROP.REGION_VALIDATION_TYPE,value:"ITEM_NOT_NULL"}),h({id:a.PROP.REGION_VAL_COLUMN,value:k}),h({id:a.PROP.ERROR_MESSAGE,value:g("COLUMN_NOT_NULL_VALIDATION")});break;case a.COMP_TYPE.IG_COLUMN:k=j.getProperty(a.PROP.COLUMN_NAME).getValue(),h({id:a.PROP.VALIDATION_REGION,value:j.parentId}),h({id:a.PROP.ASSOCIATED_COLUMN,value:k}),h({id:a.PROP.REGION_VALIDATION_TYPE,value:"ITEM_NOT_NULL"}),h({id:a.PROP.REGION_VAL_COLUMN,value:k}),h({id:a.PROP.ERROR_MESSAGE,value:g("COLUMN_NOT_NULL_VALIDATION")})}}else if(d===a.COMP_TYPE.BRANCH)h({id:a.PROP.BRANCH_POINT});else if(d===a.COMP_TYPE.DA_EVENT)if(j=aa([a.COMP_TYPE.PAGE_ITEM,a.COMP_TYPE.BUTTON,a.COMP_TYPE.REGION,a.COMP_TYPE.PAGE,a.COMP_TYPE.IG_COLUMN],b))switch(j.typeId){case a.COMP_TYPE.PAGE_ITEM:h({id:a.PROP.EVENT,value:"change"}),h({id:a.PROP.WHEN_TYPE,value:"ITEM"}),h({id:a.PROP.WHEN_ITEMS,value:j.getProperty(a.PROP.ITEM_NAME).getValue()});break;case a.COMP_TYPE.BUTTON:h(f.inArray(j.getProperty(a.PROP.BUTTON_ACTION).getValue(),["REDIRECT_PAGE","REDIRECT_APP"])!==-1?{id:a.PROP.EVENT,value:"apexafterclosedialog"}:{id:a.PROP.EVENT,value:"click"}),h({id:a.PROP.WHEN_TYPE,value:"BUTTON"}),h({id:a.PROP.WHEN_BUTTON,value:j.id});break;case a.COMP_TYPE.REGION:h({id:a.PROP.EVENT,value:"apexafterrefresh"}),h({id:a.PROP.WHEN_TYPE,value:"REGION"}),h({id:a.PROP.WHEN_REGION,value:j.id});break;case a.COMP_TYPE.PAGE:h({id:a.PROP.EVENT,value:"ready"});break;case a.COMP_TYPE.IG_COLUMN:h({id:a.PROP.EVENT,value:"change"}),h({id:a.PROP.WHEN_TYPE,value:"COLUMN"}),h({id:a.PROP.WHEN_REGION,value:j.parentId}),h({id:a.PROP.WHEN_COLUMNS,value:j.getProperty(a.PROP.COLUMN_NAME).getValue()})}else h({id:a.PROP.EVENT});else d===a.COMP_TYPE.DA_ACTION?(h({id:a.PROP.DA_EVENT,typeId:a.COMP_TYPE.DA_EVENT}),h(void 0!==e?{id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:e}:{id:a.PROP.FIRE_WHEN_EVENT_RESULT_IS})):d===a.COMP_TYPE.TAB_FORM_COLUMN||d===a.COMP_TYPE.CLASSIC_RPT_COLUMN?(j=aa(a.COMP_TYPE.REGION,b),i=j.id,l=j.getChilds(d),h({id:a.PROP.QUERY_COLUMN_ID,value:l.length+1}),h({id:a.PROP.DERIVED_COLUMN,value:"Y"}),h({id:a.PROP.DISABLE_SORT_COLUMN,value:"Y"}),"ROW_SELECTOR"===e?(h({id:a.PROP.COLUMN_NAME,value:ma}),h({id:a.PROP.TAB_FORM_COLUMN_TYPE,value:"ROW_SELECTOR"}),h({id:a.PROP.COLUMN_HEADING,value:"&nbsp;"})):"VIRTUAL"===e&&(l=j.getChilds(d,{properties:[{id:a.PROP.DERIVED_COLUMN,value:"Y"}]},function(b,c){return b.getProperty(a.PROP.COLUMN_NAME).getValue()>c.getProperty(a.PROP.COLUMN_NAME).getValue()?1:-1}),h({id:a.PROP.COLUMN_NAME,value:"DERIVED$"+(l.length<8?"0":"")+(l.length+1)}),h({id:d===a.COMP_TYPE.TAB_FORM_COLUMN?a.PROP.TAB_FORM_COLUMN_TYPE:a.PROP.CLASSIC_REPORT_COLUMN_TYPE,value:"LINK"}),h({id:a.PROP.COLUMN_HEADING,value:"&nbsp;"}))):d===a.COMP_TYPE.IG_COLUMN?(j=aa(a.COMP_TYPE.REGION,b),i=j.id,h({id:a.PROP.ITEM_TYPE,value:"NATIVE_DISPLAY_ONLY"}),h({id:a.PROP.IG_COLUMN_SOURCE_TYPE,value:"SQL_EXPRESSION"})):d===a.COMP_TYPE.IR_COLUMN_GROUP?i=aa(a.COMP_TYPE.IR_ATTRIBUTES,b).id:d===a.COMP_TYPE.IG_COLUMN_GROUP?i=aa(a.COMP_TYPE.REGION,b).id:d===a.COMP_TYPE.CHART_SERIES?(j=aa(a.COMP_TYPE.CHART,b),i=j.id,h({id:a.PROP.SERIES_CHART_TYPE,value:j.getProperty(a.PROP.CHART_TYPE).getValue()})):d===a.COMP_TYPE.JET_CHART_SERIES?(j=aa(a.COMP_TYPE.REGION,b).getChilds(a.COMP_TYPE.JET_CHART)[0],i=j.id,h({id:a.PROP.SERIES_CHART_TYPE,value:j.getProperty(a.PROP.JET_CHART_TYPE).getValue()})):d===a.COMP_TYPE.MAP_CHART_SERIES&&(j=aa(a.COMP_TYPE.MAP_CHART,b),i=j.id);r&&(m=b._parent.id),p=d===a.COMP_TYPE.TAB_FORM_COLUMN&&"ROW_SELECTOR"===e?void 0:d===a.COMP_TYPE.DA_EVENT?"last":r?r:"last",q=a.transaction.message({action:a.MESSAGE_ACTION.CREATE,component:d}),n=a.transaction.start("",q),o=new a.Component({previousComponent:p,typeId:d,parentId:i,values:s}),d===a.COMP_TYPE.DA_EVENT&&("apexafterclosedialog"===o.getProperty(a.PROP.EVENT).getValue()?new a.Component({typeId:a.COMP_TYPE.DA_ACTION,parentId:o.id,values:[{id:a.PROP.DA_ACTION_TYPE,value:"NATIVE_REFRESH"},{id:a.PROP.AFFECTED_TYPE,value:"REGION"},{id:a.PROP.AFFECTED_REGION,value:j?j.getProperty(a.PROP.REGION).getValue():""}]}):o.getProperty(a.PROP.WHEN_TYPE)&&"COLUMN"===o.getProperty(a.PROP.WHEN_TYPE).getValue()?new a.Component({typeId:a.COMP_TYPE.DA_ACTION,parentId:o.id,values:[{id:a.PROP.DA_ACTION_TYPE,value:"NATIVE_ENABLE"},{id:a.PROP.AFFECTED_TYPE,value:"COLUMN"}]}):new a.Component({typeId:a.COMP_TYPE.DA_ACTION,parentId:o.id,values:[{id:a.PROP.DA_ACTION_TYPE,value:"NATIVE_SHOW"},{id:a.PROP.AFFECTED_TYPE,value:"ITEM"}]})),apex.commandHistory.execute(n),U([o],c,m,!0)}function X(a,b){return b.treeView("getNodes",a)}function Y(b){for(var c=b.treeView("getSelectedNodes"),d=[],e=0;e<c.length;e++)c[e].data&&c[e].data.hasOwnProperty("componentId")&&d.push(a.getComponents(c[e].data.typeId,{id:c[e].data.componentId})[0]);return d}function Z(a,b,c){var d;return c&&(d=b.treeView("find",{depth:-1,match:function(a){return a.id===c}})),b.treeView("find",{parentNodeContent$:d,depth:-1,findAll:!0,match:function(b){return b.data.typeId===a.typeId&&b.data.componentId===a.id}})}function $(a,b,c){return b.treeView("getNodes",Z(a,b,c))[0]}function _(b,c){var d,e=[];return d=b instanceof jQuery?c.treeView("getNodes",b)[0]:b,d.data&&d.data.typeId&&d.data.componentId&&(e=a.getComponents(d.data.typeId,{id:d.data.componentId})),1===e.length?e[0]:void 0}function aa(a,b){var c,d=f.isArray(a)?a:[a];return b&&(c=_(b),(void 0===c||c&&f.inArray(c.typeId,d)===-1)&&(c=aa(d,b._parent))),c}function ba(a,b){var c;return c=b?b.data.hasOwnProperty(a)?b.data[a]:ba(a,b._parent):""}function ca(a,b,c){Z(a,b).each(function(){var a=f(this);c.call(X(a,b)[0]),b.treeView("update",a)})}function da(a,b,c){ca(a,c,function(){this.data&&this.data.isPlain||(this.classes+=" "+b)})}function ea(a,b,c){ca(a,c,function(){this.classes=f.grep(this.classes.split(" "),function(a){return a!==b}).join(" ")})}function fa(){function b(b){var c=_(b);return a.getComponents(c.typeId,{parentId:c.parentId}).length>1}function c(b){return"Y"===_(b).getProperty(a.PROP.DERIVED_COLUMN).getValue()}function d(b){return _(b).getProperty(a.PROP.COLUMN_NAME).getValue()!==ma}function e(b){return f.inArray(aa(a.COMP_TYPE.CHART,b).getProperty(a.PROP.CHART_TYPE).getValue(),["DOUGHNUT","PIE","DIAL","CANDLESTICK","PROJECT_GANTT","RESOURCE_GANTT"])===-1}function g(b){return f.inArray(aa(a.COMP_TYPE.REGION,b).getChilds(a.COMP_TYPE.JET_CHART)[0].getProperty(a.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])===-1}function h(b){return a.getComponents(a.COMP_TYPE.CHART_SERIES,{parentId:_(b).parentId}).length>1}function i(b){return a.getComponents(a.COMP_TYPE.JET_CHART_SERIES,{parentId:_(b).parentId}).length>1}function j(b){return f.inArray(_(b).getParent().getProperty(a.PROP.CHART_TYPE).getValue(),["DOUGHNUT","PIE","DIAL","CANDLESTICK","PROJECT_GANTT","RESOURCE_GANTT"])===-1}function k(b){return f.inArray(_(b).getParent().getProperty(a.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])===-1}function l(b){return a.getComponents(a.COMP_TYPE.MAP_CHART_SERIES,{parentId:_(b).parentId}).length>1}return{"default":{operations:{canAdd:!1,canDuplicate:!1,canDelete:!1,canRename:!1,canDrag:!1,canSearch:!1,canExtCreate:!1,canExtEdit:!1,canExtCopy:!1}},page:{icon:"icon-tree-page"},validations:{operations:{canAdd:!0},validChildren:["validation"]},validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canDrag:!0,canExtCopy:!0}},inline_validations:{validChildren:["inline_validation"]},inline_validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},pre_rendering:{},post_rendering:{},main_computations:{validChildren:["computations"]},computations:{operations:{canAdd:!0},validChildren:["computation"]},computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},inline_computations:{validChildren:["inline_computation"]},inline_computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},main_processes:{validChildren:["processes"]},processes:{operations:{canAdd:!0},validChildren:["process"]},process:{icon:"icon-tree-process",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},after_submit:{},processing:{},after_processing:{},validating:{},after_header:{},before_header:{},before_regions:{},after_regions:{},before_footer:{},after_footer:{},main_branches:{validChildren:["branches"]},branches:{operations:{canAdd:!0},validChildren:["branch"]},branch:{icon:"icon-tree-branch",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},main_regions:{validChildren:["regions"]},regions:{operations:{canAdd:!0},validChildren:["region"]},sub_regions:{operations:{canAdd:!0},validChildren:["region"]},region:{icon:"icon-tree-region",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["page_items","region_buttons","inline_da_events","region_columns","ig_columns","ir_attributes","ig_attributes","classic_report_attributes","classic_report_print","tabform_attributes","tabform_print","chart_series","map_chart_series","svg_chart_series","jet_chart_series","jet_chart_axes","region","page_item","region_button"]},main_page_items:{validChildren:["page_items"]},page_items:{operations:{canAdd:!0},validChildren:["page_item","region_button","form_button"]},page_item:{icon:"icon-tree-item",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canExtCopy:!0,canSearch:!0},validChildren:["computations","inline_validations","inline_da_events","computation"]},form_button:{icon:"icon-tree-button",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canExtCopy:!0}},region_columns:{operations:{canAdd:!0},validChildren:["classic_report_column","ir_report_column","tabform_column","region_column"]},classic_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDuplicate:!1,canDelete:b,canDrag:d,drag:{normal:"move"}}},classic_report_attributes:{},tabform_attributes:{},region_plugin_attributes:{},ir_attributes:{validChildren:["ir_column_groups","ir_saved_reports"]},ir_column_groups:{operations:{canAdd:!0},validChildren:["ir_column_group"]},ir_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ir_saved_reports:{validChildren:["ir_saved_report"]},ir_saved_report:{icon:"icon-tree-saved-report"},ir_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDelete:b,canDrag:!0}},ig_attributes:{validChildren:["ig_column_groups","ig_saved_reports"]},ig_column_groups:{operations:{canAdd:!0},validChildren:["ig_column_group"]},ig_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ig_saved_reports:{validChildren:["ig_saved_report"]},ig_saved_report:{icon:"icon-tree-saved-report"},ig_columns:{operations:{canAdd:!0},validChildren:["ig_column"]},ig_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:b}},tabform_column:{icon:"icon-tree-item",operations:{canRename:!1,canDrag:d,canDelete:c}},region_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:b}},chart_attributes:{validChildren:["chart_series"]},chart_series:{operations:{canAdd:e},validChildren:["chart_serie"]},chart_serie:{icon:"icon-tree-chart-series",operations:{canAdd:e,canDuplicate:j,canDelete:h,canRename:!0,canDrag:!0,drag:{normal:"move"}}},jet_chart_attributes:{validChildren:["jet_chart_series","jet_chart_axes"]},jet_chart_series:{operations:{canAdd:g},validChildren:["jet_chart_serie"]},jet_chart_serie:{icon:"icon-tree-chart-series",operations:{canAdd:g,canDuplicate:k,canDelete:i,canRename:!0,canDrag:!0,drag:{normal:"move"}}},jet_chart_axes:{validChildren:["jet_chart_axis"]},jet_chart_axis:{},map_chart_attributes:{validChildren:["map_chart_series"]},map_chart_series:{operations:{canAdd:!0},validChildren:["map_chart_serie"]},map_chart_serie:{icon:"icon-tree-map-series",operations:{canDuplicate:!0,canDelete:l,canRename:!0,canDrag:!0,drag:{normal:"move"}}},region_web_src_params:{validChildren:["region_web_src_param"]},jet_chart_web_src_params:{validChildren:["jet_chart_web_src_param"]},main_buttons:{validChildren:["region_buttons"]},region_buttons:{operations:{canAdd:!0},validChildren:["region_button","form_button"]},region_button:{icon:"icon-tree-button",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},main_da_events:{validChildren:["da_events"]},da_events:{validChildren:["da_event"]},da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},da_actions_true:{operations:{canAdd:!0},validChildren:["da_action"]},da_actions_false:{operations:{canAdd:!0},validChildren:["da_action"]},da_action:{icon:"icon-tree-da-action",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0}},inline_da_events:{validChildren:["inline_da_event"]},inline_da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},page_load_da_events:{operations:{canAdd:!0},validChildren:["page_load_da_event"]},page_load_da_event:{icon:"icon-tree-da-event",operations:{canDrag:!0,drag:{normal:"move"}}},tab_sets:{},tab_set:{icon:"icon-tree-tabs",operations:{canExtEdit:!0}},lovs:{operations:{canExtCreate:!0}},lov:{icon:"icon-tree-lov",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumbs:{operations:{canExtCreate:!0}},breadcrumb:{icon:"icon-tree-breadcrumb",operations:{canExtCreate:!0,canExtEdit:!0}},lists:{operations:{canExtCreate:!0}},list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_menu_lists:{operations:{canExtCreate:!0}},navigation_menu_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_bar_lists:{operations:{canExtCreate:!0}},navigation_bar_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},templates:{},page_templates:{operations:{canExtCreate:!0}},page_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},field_templates:{operations:{canExtCreate:!0}},field_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},button_templates:{operations:{canExtCreate:!0}},button_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},region_templates:{operations:{canExtCreate:!0}},region_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},list_templates:{operations:{canExtCreate:!0}},list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},nav_list_templates:{operations:{canExtCreate:!0}},nav_list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumb_templates:{operations:{canExtCreate:!0}},breadcrumb_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},calendar_templates:{operations:{canExtCreate:!0}},calendar_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},report_templates:{operations:{canExtCreate:!0}},report_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},authorizations:{operations:{canExtCreate:!0}},authorization:{icon:"icon-tree-authorization",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},plugins:{},plugin:{icon:"icon-tree-plugin"},build_options:{operations:{canExtCreate:!0}},build_option:{icon:"icon-tree-build-option",operations:{canExtCreate:!0,canExtEdit:!0}},data_load_tables:{},data_load_table:{icon:"icon-tree-data-load-table",operations:{canExtEdit:!0}},web_services:{operations:{canExtCreate:!0}},web_service:{icon:"icon-tree-web-service",operations:{canExtCreate:!0}},references:{},referenced_by:{operations:{canRename:!0}}}}function ga(c,d){function e(a){function b(a){return!(!d||d[a.id]!==!0)||!(!a.state||!a.state.opened||d&&d[a.id]===!1)}function c(a){for(var d=0;d<a.length;d++)b(a[d])&&e.push(a[d].id),a[d].children&&c(a[d].children)}var e=[];return b(a)&&e.push(a.id),c(a.children),e}var g=c(),h=f.apex.treeView.makeDefaultNodeAdapter(g,fa(),!0,e(g));return h.sortCompare=null,h.defaultGetIcon=h.getIcon,h.getIcon=function(c){var d;if(c.data){if(c.data.typeId===a.COMP_TYPE.REGION)return b.getComponentIconClass("region",_(c).getProperty(a.PROP.REGION_TYPE).getValue());if(c.data.typeId===a.COMP_TYPE.PAGE_ITEM)return b.getComponentIconClass("item",_(c).getProperty(a.PROP.ITEM_TYPE).getValue());if(c.data.typeId===a.COMP_TYPE.BUTTON)return b.getComponentIconClass("button","Y"===_(c).getProperty(a.PROP.BUTTON_IS_HOT).getValue()?"hot":"normal");if(c.data.typeId===a.COMP_TYPE.IG_COLUMN){if(d=_(c).getParent().getChilds(a.COMP_TYPE.IG_ATTRIBUTES,{})[0],"Y"===d.getProperty(a.PROP.IS_EDITABLE).getValue())return b.getComponentIconClass("item",_(c).getProperty(a.PROP.ITEM_TYPE).getValue())}else if(c.data.typeId===a.COMP_TYPE.JET_CHART_AXES)return"icon-"+_(c).getProperty(a.PROP.NAME).getValue().toLowerCase()+"-axis"}return this.defaultGetIcon(c)},h.extraCheck=function(b,c,d,e,g){var h,i;if(b){if(f.inArray(c,["canDelete","canRename","canDrag","canDuplicate"])!==-1)return h=_(d),h&&!h.isReadOnly()&&!a.isPageReadOnly();if("canAdd"===c&&a.isPageReadOnly())return!1;if("canAdd"===c&&"move"===e&&f.inArray(d.type,["region_columns","ig_columns","ir_column_groups","ig_column_groups","chart_series","map_chart_series","jet_chart_series","jet_chart_axes"])!==-1&&g)for(i=0;i<g.length;i++)if(g[i]._parent&&g[i]._parent!==d)return!1}return b},h.renderNodeContent=function(a,c,d,e){var f,g,h;d.nodeSelector>0&&c.markup('<span class="u-selector"></span>'),f=this.getIcon(a),null!==f&&c.markup("<span").attr("class","a-Icon "+f).markup("></span>"),g=this.getClasses(a),g&&(g.indexOf(b.CSS.IS_ERROR)>=0?h="icon-error":g.indexOf(b.CSS.IS_WARNING)>=0&&(h="icon-warning")),c.markup("<span role='treeitem' class='a-TreeView-label' tabIndex='-1'").attr("aria-level",e.level).optionalAttr("aria-selected",e.selected?"true":"false").optionalAttr("aria-disabled",e.disabled?"true":null).optionalAttr("aria-expanded",e.hasChildren===!1?null:e.expanded?"true":"false").markup(">"),h&&c.markup("<span class='a-Icon ").attr(h).markup("'></span>"),c.content(this.getLabel(a)).markup("</span>")},function(){return h}}function ha(a,c,e){a.treeView({getNodeAdapter:ga(c),showRoot:e,collapsibleRoot:!1,expandRoot:!1,contextMenu:ka(a),contextMenuId:a[0].id+"Menu",multiple:!0,doubleClick:"toggle",clickToRename:!1,keyboardRename:!1,keyboardAdd:!1,keyboardDelete:!0,tooltip:{show:apex.tooltipManager.defaultShowOption(),content:function(a,c){var d=_(c);if(d)return b.tooltipContentForComponent(d)}},dragAndDrop:!0,dragMultiple:!0,dragReorder:!0,delay:10,distance:5,dragAppendTo:document.body,dragCursor:"move",dragOpacity:.6,dragCursorAt:{left:10,bottom:10},dragAnimate:!1,dragContainment:"document",selectionChange:function(){var a,b=this.id;a=Y(f(this)),d.trace("%s: trigger event selectionChanged",b,a),f(document).trigger("selectionChanged",[b,a])},added:function(a,b){},moved:function(b,c){P(c,a)},copied:function(b,c){Q(c,a)},deleted:function(b,c){R(c,a)}}),a.on("refresh",function(){var b=a.treeView("getExpandedState");d.trace("%s: refresh tree",a[0].id),a.treeView("option","getNodeAdapter",ga(c,b))}),ja(a,c)}function ia(b){var c=b[0].id;a.unobserver(c,{}),f(document).off("selectionChanged."+c),b.off("refresh"),b.treeView("destroy")}function ja(c){function e(a){for(var b,c=0;c<a.length;c++){if(a[c].hasOwnProperty("typeId")){g[a[c].typeId]=!0,b=N(a[c].typeId);for(var d=0;d<b.length;d++)i.push({typeId:b[d].typeId}),j.push(b[d].propertyId)}a[c].children&&e(a[c].children)}}var g,h=c[0].id,i=null,j=[];if("PDrenderingTree"===h?(i=null,g=null):"PDdynamicActionTree"===h?i=[{typeId:a.COMP_TYPE.DA_EVENT},{typeId:a.COMP_TYPE.DA_ACTION}]:"PDprocessingTree"===h?i=[{typeId:a.COMP_TYPE.BRANCH},{typeId:a.COMP_TYPE.PAGE_COMPUTATION},{typeId:a.COMP_TYPE.PAGE_PROCESS},{typeId:a.COMP_TYPE.VALIDATION},{typeId:a.COMP_TYPE.PAGE_PROC_WS_P_I},{typeId:a.COMP_TYPE.PAGE_PROC_WS_P_O},{typeId:a.COMP_TYPE.PAGE_PROC_WS_P_A}]:"PDsharedCompTree"===h&&(i=[],g={},e(pa)),void 0===g){g={};for(var k=0;k<i.length;k++)g[i[k].typeId]=!0}a.observer(h,{components:i,events:[a.EVENT.DISPLAY_TITLE]},function(a){d.trace("%s: DISPLAY_TITLE component notification received",h,a),ca(a.component,c,function(){this.label=a.component.getDisplayTitle()})}),a.observer(h,{components:i,events:[a.EVENT.CREATE,a.EVENT.DELETE]},function(a){d.trace("%s: CREATE/DELETE component notification received",h,a),c.trigger("refresh")},!0),"PDsharedCompTree"===h?a.observer(h,{components:i,events:[a.EVENT.CHANGE,a.EVENT.ADD_PROP,a.EVENT.REMOVE_PROP],properties:j},function(a){d.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for shared component reference properties",h,a),c.trigger("refresh")},!0):(a.observer(h,{components:i,events:[a.EVENT.CHANGE,a.EVENT.ADD_PROP,a.EVENT.REMOVE_PROP],properties:[a.PROP.PAGE_TEMPLATE,a.PROP.DIALOG_TEMPLATE,a.PROP.EXECUTION_SEQUENCE,a.PROP.DISPLAY_SEQUENCE,a.PROP.BRANCH_POINT,a.PROP.PROCESS_POINT,a.PROP.COMPUTATION_POINT,a.PROP.BUTTON_POSITION,a.PROP.REGION_POSITION,a.PROP.PARENT_REGION,a.PROP.REGION,a.PROP.VALIDATION_REGION,a.PROP.VAL_ITEM,a.PROP.REGION_VAL_COLUMN,a.PROP.REGION_TYPE,a.PROP.ASSOCIATED_ITEM,a.PROP.ASSOCIATED_COLUMN,a.PROP.COMPUTATION_ITEM_NAME,a.PROP.EVENT,a.PROP.DA_EVENT,a.PROP.DA_ACTION_TYPE,a.PROP.FIRE_WHEN_EVENT_RESULT_IS,a.PROP.FIRE_ON_PAGE_LOAD,a.PROP.WHEN_REGION,a.PROP.WHEN_ITEMS,a.PROP.WHEN_COLUMNS,a.PROP.WHEN_BUTTON]},function(a){d.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for display relevant properties",h,a),c.trigger("refresh")},!0),a.observer(h,{components:i,events:[a.EVENT.CHANGE]},function(a){a.component.hasChanged()?da(a.component,b.CSS.IS_CHANGED,c):ea(a.component,b.CSS.IS_CHANGED,c)}),a.observer(h,{components:i,events:[a.EVENT.ERRORS,a.EVENT.NO_ERRORS]},function(a){a.component.hasErrors()?da(a.component,b.CSS.IS_ERROR,c):ea(a.component,b.CSS.IS_ERROR,c)}),a.observer(h,{components:i,events:[a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS]},function(a){a.component.hasWarnings()?da(a.component,b.CSS.IS_WARNING,c):ea(a.component,b.CSS.IS_WARNING,c)}),b.observerIsConditional(h,i,function(a){ea(a.component,b.CSS.IS_CONDITIONAL,c),ea(a.component,b.CSS.IS_NEVER,c),b.isNever(a.component)?da(a.component,b.CSS.IS_NEVER,c):b.isConditional(a.component)&&da(a.component,b.CSS.IS_CONDITIONAL,c)})),f(document).on("selectionChanged."+h,function(a,b,e){b!==h&&(d.trace("%s: selectionChanged event received from %s",h,b,e),(0===e.length||null===g||g.hasOwnProperty(e[0].typeId))&&U(e,c,null,!1))})}function ka(c){function d(b){return h("CREATE",a.getComponentType(b).title.singular)}function e(a){return a.call(c.treeView("getSelectedNodes"))}function i(b,c){return 1===b.length&&f.inArray(b[0].type,c)!==-1&&!a.isPageReadOnly()}function j(b,c){return!a.isGlobalPage()&&i(b,c)}function k(b,c){var d=aa(a.COMP_TYPE.REGION,b);return f.inArray(d.getProperty(a.PROP.REGION_TYPE).getValue(),c)!==-1}function l(b,c){var d;return f.inArray(b.type,["region","ig_column"])!==-1&&(d=aa(a.COMP_TYPE.REGION,b),"NATIVE_IG"===d.getProperty(a.PROP.REGION_TYPE).getValue())?"Y"===d.getChilds(a.COMP_TYPE.IG_ATTRIBUTES)[0].getProperty(a.PROP.IS_EDITABLE).getValue():c}function m(b,c){apex.navigation.redirect(b.replace(/\\u002525/g,"%").replace(/%25/g,"%").replace(/%session%/g,$v("pInstance")).replace(/%pk_value%/g,c).replace(/%application_id%/g,a.getCurrentAppId()).replace(/%page_id%/g,a.getCurrentPageId()))}function n(b,c){var d=_(b,c);m(a.getComponentType(d.typeId).editUrl,d.id)}function o(b,c){var d=_(b,c);m(a.getComponentType(d.typeId).copyUrl,d.id)}function p(b,c){var d;d=_(b,c)?_(b,c).typeId:b.data.typeId,m(a.getComponentType(d).createUrl)}function q(b,c){var d,e,g=_(b,c),h=g.getProperty(a.PROP.BRANCH_TYPE).getValue(),i=null;return"REDIRECT_URL"===h?(d=g.getProperty(a.PROP.TARGET).getValue(),/f\?p=([^:]*):([^:]*)/i.test(d)&&(e=RegExp.$1,"&FLOW_ID."!==e&&"&APP_ID."!==e&&e!==a.getCurrentAppId()||(i=RegExp.$2))):f.inArray(h,["BRANCH_TO_STEP","BRANCH_TO_PAGE_ACCEPT"])!==-1&&(i=g.getProperty(a.PROP.BRANCH_PAGE_NUMBER).getValue()),i}function r(a){var b,g,h={label:a.label,accelerator:a.accelerator,type:a.type};t++,h.id=c[0].id+"_ctx_"+t,h.type||(h.type="action",b=a.action),a.typeId&&(a.label||(h.label=d(a.typeId)),b||(b=function(){W(this[0],c,a.typeId)})),h.action=function(){return e(b)},a.visible&&(g=f.isFunction(a.visible)?a.visible:f.isArray(a.visible)?function(){return i(this,a.visible)}:a.visible.global===!1?function(){return j(this,a.visible.types)}:function(){return i(this,a.visible.types)},h.hide=function(){return!e(g)}),a.disabled&&(h.disabled=function(){return e(a.disabled)}),s.push(h)}var s=[],t=0;return r({typeId:a.COMP_TYPE.REGION,visible:["main_regions","regions","region","before_footer"]}),r({label:h("CREATE",g("SUB_REGION")),action:function(){W(this[0],c,a.COMP_TYPE.REGION,"SUB_REGION")},visible:function(){var a=_(this[0],c);return!(a&&(!a||a.isOnGlobalPage()))&&i(this,["region","sub_regions"])}}),r({typeId:a.COMP_TYPE.PAGE_ITEM,visible:["main_page_items","page_items","page_item","form_button","region"]}),r({typeId:a.COMP_TYPE.BUTTON,visible:["main_buttons","region_buttons","region_button","region","page_items","page_item","form_button"]}),r({typeId:a.COMP_TYPE.BRANCH,visible:{global:!1,types:["main_branches","branches","branch","before_header","after_submit","validating","processing","after_processing"]}}),r({typeId:a.COMP_TYPE.PAGE_COMPUTATION,visible:{global:!1,types:["main_computations","computations","computation","inline_computations","inline_computation","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","page_item"]}}),r({typeId:a.COMP_TYPE.PAGE_PROCESS,visible:{global:!1,types:["main_processes","processes","process","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","processing"]}}),r({typeId:a.COMP_TYPE.VALIDATION,visible:function(){return!!j(this,["validation","validations","validating","inline_validations","inline_validation","page_item"])||j(this,["region","tabform_column","ig_column"])&&(k(this[0],["NATIVE_TABFORM"])||l(this[0],!1))}}),r({typeId:a.COMP_TYPE.DA_EVENT,visible:function(){return!!i(this,["main_da_events","da_events","da_event","inline_da_events","inline_da_event","region","page_item","ig_column","region_button","form_button"])&&("ig_column"!==this[0].type||l(this[0],!1))}}),r({typeId:a.COMP_TYPE.DA_ACTION,visible:["da_action"]}),r({label:h("CREATE",g("TRUE_ACTION")),typeId:a.COMP_TYPE.DA_ACTION,action:function(){W(this[0],c,a.COMP_TYPE.DA_ACTION,"TRUE")},visible:["da_actions_true","da_event","inline_da_event"]}),r({label:h("CREATE",g("FALSE_ACTION")),typeId:a.COMP_TYPE.DA_ACTION,action:function(){W(this[0],c,a.COMP_TYPE.DA_ACTION,"FALSE")},visible:["da_actions_false","da_event","inline_da_event"]}),r({label:h("CREATE",g("OPPOSITE_DYNAMIC_ACTION")),typeId:a.COMP_TYPE.DA_ACTION,action:function(){V(this,c)},visible:function(){for(var a=0;a<this.length;a++)if("da_action"!==this[a].type||!c.treeView("getNodeAdapter").check("canDuplicate",this[a]))return!1;return!0}}),r({label:h("CREATE",g("VIRTUAL_COLUMN")),action:function(){k(this[0],["NATIVE_TABFORM"])?W(this[0],c,a.COMP_TYPE.TAB_FORM_COLUMN,"VIRTUAL"):W(this[0],c,a.COMP_TYPE.CLASSIC_RPT_COLUMN,"VIRTUAL")},visible:function(){return i(this,["region_columns","classic_report_column","tabform_column"])&&k(this[0],["NATIVE_SQL_REPORT","NATIVE_FNC_REPORT","NATIVE_TABFORM"])}}),r({label:h("CREATE",g("ROW_SELECTOR")),action:function(){W(this[0],c,a.COMP_TYPE.TAB_FORM_COLUMN,"ROW_SELECTOR")},visible:function(){var b;return!(!i(this,["region_columns","tabform_column"])||(b=aa(a.COMP_TYPE.REGION,this[0],c),"NATIVE_TABFORM"!==b.getProperty(a.PROP.REGION_TYPE).getValue()))&&0===b.getChilds(a.COMP_TYPE.TAB_FORM_COLUMN,{properties:[{id:a.PROP.COLUMN_NAME,value:ma}]}).length}}),r({typeId:a.COMP_TYPE.IG_COLUMN,visible:["ig_columns","ig_column"]}),r({typeId:a.COMP_TYPE.CHART_SERIES,visible:function(){return!!i(this,["chart_series","chart_serie"])&&c.treeView("getNodeAdapter").check("canAdd",this[0])}}),r({typeId:a.COMP_TYPE.JET_CHART_SERIES,visible:function(){return!!i(this,["jet_chart_series","jet_chart_serie"])&&c.treeView("getNodeAdapter").check("canAdd",this[0])}}),r({typeId:a.COMP_TYPE.MAP_CHART_SERIES,visible:["map_chart","map_chart_series","map_chart_serie"]}),r({typeId:a.COMP_TYPE.IR_COLUMN_GROUP,visible:["ir_attributes","ir_column_groups","ir_column_group"]}),r({typeId:a.COMP_TYPE.IG_COLUMN_GROUP,visible:["ig_attributes","ig_column_groups","ig_column_group"]}),r({label:g("DUPLICATE"),action:function(){S(this,c)},visible:function(){for(var a=0;a<this.length;a++)if(!c.treeView("getNodeAdapter").check("canDuplicate",this[a]))return!1;return!0}}),r({type:"separator"}),r({label:g("SYNCHRONIZE_COLUMNS"),action:function(){var b,d,e,f;b=aa(a.COMP_TYPE.REGION,this[0],c),d=a.getSourceLocationProperty(b),e=a.transaction.message({action:a.MESSAGE_ACTION.CHANGE,component:b,property:d}),f=a.transaction.start("",e),d.setValue(d.getValue(),!0),apex.commandHistory.execute(f)},visible:function(){var b;return!(a.isPageReadOnly()||!j(this,["region","ig_columns","region_columns"]))&&(b=aa(a.COMP_TYPE.REGION,this[0],c),a.getSourceLocationProperty(b))}}),r({type:"separator"}),r({label:g("DELETE"),accelerator:"Del",action:function(){return T(this,c),!0},visible:function(){for(var a=0;a<this.length;a++)if(!c.treeView("getNodeAdapter").allowDelete(this[a]))return!1;return!0}}),r({type:"separator"}),r({label:g("COPY_TO_PAGE"),action:function(){o(this[0])},visible:function(){return 1===this.length&&c.treeView("getNodeAdapter").check("canExtCopy",this[0])&&a.getComponentType(_(this[0]).typeId).isPageComponent&&!_(this[0]).isOnGlobalPage()}}),r({label:g("EDIT_SHARED_COMPONENT"),action:function(){n(this[0])},visible:function(){return 1===this.length&&c.treeView("getNodeAdapter").check("canExtEdit",this[0])&&!a.getComponentType(_(this[0],c).typeId).isPageComponent;
}}),r({label:g("COPY_SHARED_COMPONENT"),action:function(){o(this[0])},visible:function(){return 1===this.length&&c.treeView("getNodeAdapter").check("canExtCopy",this[0])&&!a.getComponentType(_(this[0],c).typeId).isPageComponent}}),r({label:g("CREATE_SHARED_COMPONENT"),action:function(){p(this[0])},visible:function(){return 1===this.length&&c.treeView("getNodeAdapter").check("canExtCreate",this[0])}}),r({label:g("PAGE_SEARCH"),action:function(){f(document).trigger("pageSearch",[_(this[0],c).getDisplayTitle()])},visible:function(){return 1===this.length&&c.treeView("getNodeAdapter").check("canSearch",this[0])}}),r({label:g("GOTO_TARGET_PAGE"),action:function(){b.goToPage(q(this[0],c))},visible:function(){return 1===this.length&&"branch"===this[0].type},disabled:function(){return null===q(this[0],c)}}),r({type:"separator"}),r({label:g("EXPAND_ALL_BELOW"),action:function(){c.treeView("expandAll",c.treeView("getSelection"))}}),r({label:g("COLLAPSE_ALL_BELOW"),action:function(){c.treeView("collapseAll",c.treeView("getSelection"))}}),{items:s}}var la={IS_HEADER:"is-header",IS_COMPONENT_VIEW:"is-component-view",IS_EVENT_VIEW:"is-event-view",IS_NOT_IMPORTANT:"is-not-important",IS_POPULATED:"is-populated"},ma="CHECK$01",na="is-active",oa=15,pa=[{title:g("NAVIGATION_MENU_LIST"),typeId:a.COMP_TYPE.LIST,type:"navigation_menu_list"},{title:g("NAVIGATION_BAR_LIST"),typeId:a.COMP_TYPE.LIST,type:"navigation_bar_list"},{title:g("TAB_SET"),typeId:a.COMP_TYPE.TAB_SET,type:"tab_set"},{typeId:a.COMP_TYPE.LOV,type:"lov"},{typeId:a.COMP_TYPE.LIST,type:"list"},{typeId:a.COMP_TYPE.AUTHORIZATION,type:"authorization"},{typeId:a.COMP_TYPE.BUILD_OPTION,type:"build_option"},{typeId:a.COMP_TYPE.DATA_LOAD_TABLE,type:"data_load_table"},{typeId:a.COMP_TYPE.WS_REF,type:"web_service"},{typeId:a.COMP_TYPE.BREADCRUMB,type:"breadcrumb"},{title:g("TEMPLATES"),type:"template",children:[{titleTypeId:a.COMP_TYPE.PAGE,typeId:a.COMP_TYPE.PAGE_TEMPLATE,type:"page_template"},{titleTypeId:a.COMP_TYPE.PAGE_ITEM,typeId:a.COMP_TYPE.FIELD_TEMPLATE,type:"field_template"},{titleTypeId:a.COMP_TYPE.BUTTON,typeId:a.COMP_TYPE.BUTTON_TEMPLATE,type:"button_template"},{titleTypeId:a.COMP_TYPE.REGION,typeId:a.COMP_TYPE.REGION_TEMPLATE,type:"region_template"},{titleTypeId:a.COMP_TYPE.LIST,typeId:a.COMP_TYPE.LIST_TEMPLATE,type:"list_template"},{title:g("CLASSIC_REPORT"),typeId:a.COMP_TYPE.REPORT_TEMPLATE,type:"report_template"},{title:g("NAVIGATION_MENU_LIST"),typeId:a.COMP_TYPE.LIST_TEMPLATE,type:"nav_list_template"},{titleTypeId:a.COMP_TYPE.BREADCRUMB,typeId:a.COMP_TYPE.BREADCRUMB_TEMPLATE,type:"breadcrumb_template"},{title:g("LEGACY_CALENDAR"),typeId:a.COMP_TYPE.CALENDAR_TEMPLATE,type:"calendar_template"}]}];f(function(){function a(){b.getBoolPref("GROUP_BY_COMPONENT_TYPE",!1)?(c.removeClass(la.IS_EVENT_VIEW),c.addClass(la.IS_COMPONENT_VIEW),j.removeClass(na),k.addClass(na)):(c.removeClass(la.IS_COMPONENT_VIEW),c.addClass(la.IS_EVENT_VIEW),j.addClass(na),k.removeClass(na))}var c=f("#trees"),e=f("#PDrenderingTree"),g=f("#PDdynamicActionTree"),h=f("#PDprocessingTree"),i=f("#PDsharedCompTree"),j=f("#r_event_view, #p_event_view"),k=f("#r_comp_view, #p_comp_view");j.click(function(){b.saveBoolPref("GROUP_BY_COMPONENT_TYPE",!1),f(document).trigger("settingsStateChanged",["view"])}),k.click(function(){b.saveBoolPref("GROUP_BY_COMPONENT_TYPE",!0),f(document).trigger("settingsStateChanged",["view"])}),a(),c.on("tabsactivate",function(a,b){var c,e=b.newPanel.find(".a-TreeView");e.length>0&&(c=Y(e),c.length>0&&(d.trace("%s: trigger event selectionChanged",e.id,c),f(document).trigger("selectionChanged",[e.id,c])))}),f(document).on("settingsStateChanged",function(b,c){"view"===c?(a(),e.trigger("refresh"),h.trigger("refresh")):"componentTitle"===c&&alert("Not yet implemented!")}),f(document).on("modelReady",function(){ha(e,F,!0),ha(g,I,!1),ha(h,J,!1),ha(i,M,!1),f(document).one("modelCleared",function(){ia(e),ia(g),ia(h),ia(i)})})})}(pe,window.pageDesigner,apex.util,apex.debug,apex.lang,apex.jQuery);
!function(a,b,c,d,e,f){"use strict";function g(a){return e.getMessage("PD.CV."+a)}function h(a){var b=g(a),c=[b].concat(Array.prototype.slice.call(arguments,1));return e.format.apply(this,c)}function i(b,c){var d,e;b.markup('<div class="a-CV-group"><div class="a-CV-groupHeader"><h3 class="a-CV-groupTitle">'),c.title?b.content(c.title):b.content(a.getComponentType(c.componentTypeId).title.plural),b.markup("</h3>"),!a.isPageReadOnly()&&c.componentTypeId&&(d=a.getComponentType(c.componentTypeId).createUrl,b.markup('<a class="a-Button a-Button--regionHeader create" href="#" '),d?b.attr("data-url",d):(b.attr("data-componenttypeid",c.componentTypeId),c.property&&b.attr("data-propertyid",c.property.id).attr("data-propertyvalue",c.property.value)),e=h("CREATE_COMPONENT",a.getComponentType(c.componentTypeId).title.singular),b.markup(' title="'+e+'" aria-label="'+e+'"><span class="a-Icon icon-plus" aria-hidden="true"></span></a>')),b.markup('</div><div class="a-CV-groupBody" '),c.domId&&b.attr("id",c.domId),b.markup(">")}function j(a){a.markup("</div></div>")}function k(c,d){var e="a-CV-componentGroup";c.markup("<div "),d.hasWarnings&&(e+=" "+b.CSS.IS_WARNING),c.attr("class",e),d.component instanceof a.Component&&c.attr("data-componenttypeid",d.component.typeId).attr("data-componentid",d.component.id),c.markup(">"),(d.component||d.title)&&(c.markup('<h4 class="a-CV-componentGroupTitle">'),d.component instanceof a.Component?c.markup('<span class="a-CV-componentGroupTitle-context">').content(a.getComponentType(d.component.typeId).title.singular).markup('</span><a class="edit" href="#" title="">').content(d.component.getDisplayTitle()).markup("</a>"):c.content(d.title),c.markup("</h4>"))}function l(a){a.markup("</div>")}function m(a){return"CVT"+a.typeId+"_"+a.id}function n(c,d,e){function g(){for(var a="",b=0;b<e.indent;b++)a+='<span class="a-CV-indent"></span>';return a}function h(b){var c={NATIVE_IR:a.COMP_TYPE.IR_ATTRIBUTES,NATIVE_IG:a.COMP_TYPE.IG_ATTRIBUTES,NATIVE_SQL_REPORT:a.COMP_TYPE.CLASSIC_REPORT,NATIVE_FNC_REPORT:a.COMP_TYPE.CLASSIC_REPORT,NATIVE_TABFORM:a.COMP_TYPE.TABULAR_FORM,NATIVE_FLASH_MAP:a.COMP_TYPE.MAP_CHART,NATIVE_FLASH_CHART5:a.COMP_TYPE.CHART,NATIVE_JET_CHART:a.COMP_TYPE.JET_CHART,NATIVE_CALENDAR:a.COMP_TYPE.CLASSIC_CALENDAR},e=a.COMP_TYPE.REGION_PLUGIN_ATTR;return c.hasOwnProperty(b)&&(e=c[b]),a.getComponents(e,{parentId:d.id})}function i(){var c,e=d.getProperty(a.PROP.BUTTON_TARGET);return c=e?b.splitApexUrl(e.getValue(),!0).display:d.getProperty(a.PROP.BUTTON_ACTION).getDisplayValue()}var j,k,l,n,o="",p=[];b.isNever(d)?o+=" "+b.CSS.IS_NEVER:b.isConditional(d)&&(o+=" "+b.CSS.IS_CONDITIONAL),d.hasChanged()&&(o+=" "+b.CSS.IS_CHANGED),d.hasErrors()&&(o+=" "+b.CSS.IS_ERROR),d.hasWarnings()&&(o+=" "+b.CSS.IS_WARNING),c.markup("<li ").attr("id",m(d)).attr("class","a-CV-component"+o).attr("data-componenttypeid",d.typeId).attr("data-componentid",d.id).markup(">"),e.type&&(k=f.isArray(e.type)?d.getProperty(e.type[0])||d.getProperty(e.type[1]):d.getProperty(e.type)),e.seq&&c.markup('<span class="a-CV-cell a-CV-cell--seq u-tE">').content(d.getProperty(e.seq).getDisplayValue()).markup("</span>"),e.name&&(c.markup('<span class="a-CV-cell a-CV-cell--primary">'),e.icon&&("region"===e.icon||"item"===e.icon?(n=b.getComponentIconClass(e.icon,k.getValue()),l=k.getDisplayValue()):"button"===e.icon?(n=b.getComponentIconClass("button","Y"===d.getProperty(a.PROP.BUTTON_IS_HOT).getValue()?"hot":"normal"),l=""):(n=e.icon,l=""),c.markup('<span class="a-CV-cellWrap">'+g()+"<span ").attr("class","a-CV-icon a-Icon "+n).attr("title",l).markup('></span><span class="u-VisuallyHidden">').content(l).markup("</span>")),c.markup('<a class="edit" href="#" title="">'),d.typeId===a.COMP_TYPE.REGION||e.name===!0?c.content(d.getDisplayTitle()):c.content(d.getProperty(e.name).getDisplayValue()),c.markup("</a></span>"),e.icon&&c.markup("</span>")),e.additional&&(j=e.additional.apply(d),c.markup('<span class="a-CV-cell a-CV-cell--secondary">').content(j).markup("</span>")),k&&(c.markup('<span class="a-CV-cell a-CV-cell--secondary">'),d.typeId===a.COMP_TYPE.REGION&&(p=h(k.getValue())),p.length>0?c.markup('<a class="edit" href="#" title=""').attr("data-componenttypeid",p[0].typeId).attr("data-componentid",p[0].id).markup(">").content(k.getDisplayValue()).markup("</a></span>"):k.id===a.PROP.BUTTON_ACTION?c.content(i()):c.content(k.getDisplayValue()),c.markup("</span>")),c.markup("</li>")}function o(c,d){var e,g,h={},i=[],j={},m=!1;if(f.isArray(d.component))for(g=0;g<d.component.length;g++)i[g]={typeId:d.component[g].typeId,filter:d.component[g].filter},j[d.component[g].typeId]=d.component[g];else i[0]={typeId:d.component.typeId,filter:d.component.filter},j[d.component.typeId]=d.component;if(e=a.getComponentsAdvanced(i),e.length>0){for(g=0;g<e.length;g++)if(!e[g].isOnGlobalPage()&&b.isDisplayed(e[g])){m=!0;break}if(m){for(d.header&&(h=d.header.component instanceof a.Component?{component:d.header.component}:d.header.title?{title:d.header.title}:{title:a.getComponentType(d.component.typeId).title.plural},h.hasWarnings=d.header.hasWarnings,k(c,h)),d.noComponentGrouping||c.markup('<ul class="a-CV-components">'),g=0;g<e.length;g++)!e[g].isOnGlobalPage()&&b.isDisplayed(e[g])&&(n(c,e[g],j[e[g].typeId].display),j[e[g].typeId].addSubComponents&&j[e[g].typeId].addSubComponents(c,e[g]));d.noComponentGrouping||c.markup("</ul>"),d.header&&l(c)}}}function p(a,b){return b.find("#"+c.escapeCSS(m(a)))}function q(a){for(var b=0;b<P.length;b++)p(P[b],a).addClass(N.IS_SELECTED)}function r(e,g){function h(a){var b=c.htmlBuilder(),h=f("#"+e.domId);d.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for display relevant properties",e.domId,a),g(b),h.empty().append(b.toString()),q(h)}function i(a){a&&m.push(a)}var j,k,l=[],m=[];if(i(e.display.seq),i(e.display.name),i(e.display.additional),i(e.display.type),i(e.pointPropertyId),l=e.componentTypeId?[{typeId:e.componentTypeId}]:e.components,e.addProperties)for(k=0;k<e.addProperties.length;k++)i(e.addProperties[k]);a.observer(M,{components:l,events:[a.EVENT.CREATE,a.EVENT.DELETE]},h,!0),a.observer(M,{components:l,events:[a.EVENT.CHANGE,a.EVENT.ADD_PROP,a.EVENT.REMOVE_PROP],properties:m},h,!0),a.observer(M,{components:l,events:[a.EVENT.ERRORS,a.EVENT.NO_ERRORS,a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS]},function(a){function c(b,c){b?p(a.component,j).addClass(c):p(a.component,j).removeClass(c)}j=f("#"+e.domId),c(a.component.hasErrors(),b.CSS.IS_ERROR),c(a.component.hasWarnings(),b.CSS.IS_WARNING)}),b.observerIsConditional(M,l,function(a){j=f("#"+e.domId),p(a.component,j).removeClass(b.CSS.IS_CONDITIONAL),p(a.component,j).removeClass(b.CSS.IS_NEVER),b.isNever(a.component)?p(a.component,j).addClass(b.CSS.IS_NEVER):b.isConditional(a.component)&&p(a.component,j).addClass(b.CSS.IS_CONDITIONAL)})}function s(b,c){function d(b){var d;for(d=0;d<c.points.length;d++)o(b,{header:{title:a.getLovTitle(c.componentTypeId,c.pointPropertyId,c.points[d])},component:{typeId:c.componentTypeId,filter:{properties:[{id:c.pointPropertyId,value:c.points[d]}]},display:c.display}})}i(b,{domId:c.domId,componentTypeId:c.componentTypeId,property:{id:c.pointPropertyId,value:c.defaultCreatePoint}}),d(b),j(b),r(c,d)}function t(b,c,d){var e,f={},h="";for(c instanceof a.Component?(h=c.id,f.component=c):(f.title=g("NO_REGION"),f.hasWarnings=!0),e=0;e<d.length;e++)d[e].filter.properties&&d[e].filter.properties.push({id:a.PROP.REGION,value:h});o(b,{header:f,component:d})}function u(b,c,d,e){s(b,{domId:c,componentTypeId:a.COMP_TYPE.BRANCH,pointPropertyId:a.PROP.BRANCH_POINT,defaultCreatePoint:e,points:d,display:{seq:a.PROP.EXECUTION_SEQUENCE,icon:"icon-tree-branch",name:a.PROP.NAME,type:a.PROP.BRANCH_TYPE}})}function v(b,c){function d(a){o(a,{header:!1,component:{typeId:e.componentTypeId,display:e.display}})}var e={domId:c,componentTypeId:a.COMP_TYPE.VALIDATION,display:{seq:a.PROP.EXECUTION_SEQUENCE,icon:"icon-tree-validation",name:a.PROP.NAME,type:[a.PROP.VALIDATION_TYPE,a.PROP.REGION_VALIDATION_TYPE]}};i(b,{domId:e.domId,componentTypeId:e.componentTypeId}),d(b),j(b),r(e,d)}function w(b,c,d,e){s(b,{domId:c,componentTypeId:a.COMP_TYPE.PAGE_COMPUTATION,pointPropertyId:a.PROP.COMPUTATION_POINT,defaultCreatePoint:e,points:d,display:{seq:a.PROP.EXECUTION_SEQUENCE,icon:"icon-tree-computation",name:a.PROP.COMPUTATION_ITEM_NAME,type:a.PROP.COMPUTATION_TYPE}})}function x(b,c,d,e){s(b,{domId:c,componentTypeId:a.COMP_TYPE.PAGE_PROCESS,pointPropertyId:a.PROP.PROCESS_POINT,defaultCreatePoint:e,points:d,display:{seq:a.PROP.EXECUTION_SEQUENCE,icon:"icon-tree-process",name:a.PROP.NAME,type:a.PROP.PAGE_PROCESS_TYPE}})}function y(b,c){function d(a){o(a,{header:!1,component:{typeId:e.componentTypeId,display:e.display}})}var e={domId:c,componentTypeId:a.COMP_TYPE.DA_EVENT,display:{seq:a.PROP.EXECUTION_SEQUENCE,icon:"icon-tree-da-event",name:a.PROP.NAME,additional:function(){var a,b;for(a=0;a<O.length;a++)if(b=this.getProperty(O[a]))return b.getDisplayValue();return""},type:a.PROP.EVENT}};i(b,{domId:e.domId,componentTypeId:e.componentTypeId}),d(b),j(b),e.addProperties=O,r(e,d)}function z(b,c,d){function e(a,b){z(a,{region:b},d+1)}var f={},h={};c.hasOwnProperty("region")?(h=!1,f.properties=[{id:a.PROP.PARENT_REGION,value:c.region.id}]):c.hasOwnProperty("point")?(h.title=c.point.name,f.properties=[],f.properties.push({id:a.PROP.PARENT_REGION,value:""}),f.properties.push({id:a.PROP.REGION_POSITION,value:c.point.id})):c.hasOwnProperty("validPointsMap")&&(h.title=g("INVALID_POSITION"),h.hasWarnings=!0,f.filterFunction=function(){var b=this.getProperty(a.PROP.REGION_POSITION);return!!b&&!c.validPointsMap.hasOwnProperty(b.getValue())}),o(b,{header:h,component:{typeId:a.COMP_TYPE.REGION,filter:f,addSubComponents:e,display:{seq:a.PROP.DISPLAY_SEQUENCE,icon:"region",name:a.PROP.TITLE,type:a.PROP.REGION_TYPE,indent:d}},noComponentGrouping:d>0})}function A(b,c){t(b,c,[{typeId:a.COMP_TYPE.PAGE_ITEM,filter:{properties:[]},display:{seq:a.PROP.DISPLAY_SEQUENCE,icon:"item",name:a.PROP.ITEM_NAME,additional:function(){var b=this.getProperty(a.PROP.ITEM_LABEL);return b?b.getDisplayValue():""},type:a.PROP.ITEM_TYPE}},{typeId:a.COMP_TYPE.BUTTON,filter:{properties:[{id:a.PROP.BUTTON_POSITION,value:"BODY"}]},display:{seq:a.PROP.DISPLAY_SEQUENCE,icon:"button",name:a.PROP.BUTTON_LABEL,type:a.PROP.BUTTON_ACTION}}])}function B(b,c){var d=c instanceof a.Component?c.id:"";t(b,c,[{typeId:a.COMP_TYPE.BUTTON,filter:{filterFunction:function(){return this.getProperty(a.PROP.REGION).getValue()===d&&"BODY"!==this.getProperty(a.PROP.BUTTON_POSITION).getValue()}},display:{seq:a.PROP.DISPLAY_SEQUENCE,icon:"button",name:a.PROP.BUTTON_LABEL,type:a.PROP.BUTTON_ACTION}}])}function C(b,c){function d(b){var c,d;for(c=a.getPageTemplate(),z(b,{validPointsMap:c.displayPointsMap},0),d=0;d<c.displayPoints.length;d++)z(b,{point:c.displayPoints[d]},0)}i(b,{domId:c,componentTypeId:a.COMP_TYPE.REGION}),d(b),j(b),r({domId:c,components:[{typeId:a.COMP_TYPE.REGION},{typeId:a.COMP_TYPE.PAGE}],display:{seq:a.PROP.DISPLAY_SEQUENCE,name:a.PROP.TITLE,type:a.PROP.REGION_TYPE},addProperties:[a.PROP.PARENT_REGION,a.PROP.REGION_POSITION,a.PROP.PAGE_TEMPLATE,a.PROP.DIALOG_TEMPLATE]},d)}function D(b,c){function d(b){var c,d=a.getComponents(a.COMP_TYPE.REGION,{});for(A(b,null),c=0;c<d.length;c++)A(b,d[c])}i(b,{domId:c,componentTypeId:a.COMP_TYPE.PAGE_ITEM}),d(b),j(b),r({domId:c,components:[{typeId:a.COMP_TYPE.REGION},{typeId:a.COMP_TYPE.PAGE_ITEM},{typeId:a.COMP_TYPE.BUTTON}],display:{},addProperties:[a.PROP.DISPLAY_SEQUENCE,a.PROP.ITEM_NAME,a.PROP.ITEM_LABEL,a.PROP.ITEM_TYPE,a.PROP.BUTTON_LABEL,a.PROP.BUTTON_ACTION,a.PROP.BUTTON_TARGET,a.PROP.REGION,a.PROP.TITLE]},d)}function E(b,c){function d(b){var c,d=a.getComponents(a.COMP_TYPE.REGION,{});for(B(b,null),c=0;c<d.length;c++)B(b,d[c])}i(b,{domId:c,componentTypeId:a.COMP_TYPE.BUTTON}),d(b),j(b),r({domId:c,components:[{typeId:a.COMP_TYPE.REGION},{typeId:a.COMP_TYPE.BUTTON}],display:{},addProperties:[a.PROP.DISPLAY_SEQUENCE,a.PROP.BUTTON_LABEL,a.PROP.BUTTON_ACTION,a.PROP.BUTTON_TARGET,a.PROP.REGION,a.PROP.TITLE]},d)}function F(){var b,c,d,e=f(this),g=e.data("url"),h=e.data("componenttypeid")+"",i=e.data("propertyid"),j=e.data("propertyvalue"),k=[];g?H(g):(i&&k.push({id:i,value:j}),b=a.transaction.message({action:a.MESSAGE_ACTION.CREATE,component:h}),c=a.transaction.start("",b),d=new a.Component({previousComponent:"last",typeId:h,values:k}),apex.commandHistory.execute(c),window.pageDesigner.goToComponent(d.typeId,d.id))}function G(){var b=f(this).closest("[data-componentid]"),c=a.getComponents(b.data("componenttypeid"),{id:b.data("componentid")})[0];window.pageDesigner.goToComponent(c.typeId,c.id,b.data("propertyid"))}function H(b,c){apex.navigation.redirect(b.replace(/\\u002525/g,"%").replace(/%25/g,"%").replace(/%session%/g,$v("pInstance")).replace(/%pk_value%/g,c).replace(/%application_id%/g,a.getCurrentAppId()).replace(/%page_id%/g,a.getCurrentPageId()))}function I(a,b){a.empty().append(b.toString()).on("click","a.create",F).on("click","a.edit",G)}function J(b){var d=c.htmlBuilder();C(d,"cvRenderingRegions"),E(d,"cvRenderingRegionButtons"),D(d,"cvRenderingPageItems"),a.isGlobalPage()||(w(d,"cvRenderingComputations",["ON_NEW_INSTANCE","BEFORE_HEADER","AFTER_HEADER","BEFORE_BOX_BODY","AFTER_BOX_BODY","BEFORE_FOOTER","AFTER_FOOTER"],"AFTER_HEADER"),x(d,"cvRenderingProcesses",["ON_NEW_INSTANCE","BEFORE_HEADER","AFTER_HEADER","BEFORE_BOX_BODY","AFTER_BOX_BODY","BEFORE_FOOTER","AFTER_FOOTER"],"AFTER_HEADER"),y(d,"cvRenderingDynamicActions")),I(b,d)}function K(b){var d=c.htmlBuilder();a.isGlobalPage()||(w(d,"cvProcessingComputations",["AFTER_SUBMIT"],"AFTER_SUBMIT"),v(d,"cvProcessingValidations"),x(d,"cvProcessingProcesses",["ON_SUBMIT_BEFORE_COMPUTATION","AFTER_SUBMIT","ON_DEMAND"],"AFTER_SUBMIT"),u(d,"cvProcessingBranches",["BEFORE_COMPUTATION","BEFORE_VALIDATION","BEFORE_PROCESSING","AFTER_PROCESSING"],"AFTER_PROCESSING")),I(b,d)}function L(a){a.empty().off("click","a.create").off("click","a.edit")}var M="COMPONENT_VIEW",N={IS_SELECTED:"is-selected"},O=[a.PROP.WHEN_REGION,a.PROP.WHEN_BUTTON,a.PROP.WHEN_ITEMS,a.PROP.WHEN_DOM_OBJECT,a.PROP.WHEN_JQUERY_SELECTOR,a.PROP.WHEN_JAVASCRIPT_EXPRESSION],P=[];f(function(){var b=f("#componentView-container"),c=f("#PDrenderingCV"),e=f("#PDprocessingCV");f(document).on("modelReady",function(){J(c),K(e),f(document).on("selectionChanged."+M,function(a,c,e){c!==M&&(d.trace("%s: selectionChanged event received from %s",M,c,e),b.find("li.a-CV-component."+N.IS_SELECTED).removeClass(N.IS_SELECTED),P=e,q(b))}),f(document).one("modelCleared",function(){a.unobserver(M,{}),f(document).off("selectionChanged."+M),P=[],L(c),L(e)})})})}(pe,window.pageDesigner,apex.util,apex.debug,apex.lang,apex.jQuery);
!function(a,b,c,d){"use strict";function e(b){var d,e,f,g="";g+="<table class='u-Report'><tr><th>Property</th><th>Value</th></tr>",g+="<tr><td>id</td><td>"+b.id+"</td></tr>",g+="<tr><td>title</td><td>"+c.escapeHTML(b.getDisplayTitle())+"</td></tr>",g+="<tr><td>parentId</td><td>"+b.parentId+"</td></tr>",g+="<tr><td>pageId</td><td>"+b.pageId+"</td></tr>",g+="<tr><td>seq</td><td>"+b.seq+"</td></tr>",g+="<tr><td>hasChanged()</td><td>"+b.hasChanged()+"</td></tr>",g+="<tr><td>hasErrors()</td><td>"+b.hasErrors()+"</td></tr>",g+="<tr><td>hasWarnings()</td><td>"+b.hasWarnings()+"</td></tr>",g+="<tr><td>isReadOnly()</td><td>"+b.isReadOnly()+"</td></tr>",g+="<tr><td>_status</td><td>"+b._status+"</td></tr>",b._grid&&(g+="<tr><td>_grid</td><td>hasGridSupport: "+b._grid.hasGridSupport+"<br>maxColumns: "+b._grid.maxColumns+"<br>"+(b._grid.isUnknown?"isUnknown: true":"")+"</td></tr>"),b.typeId===a.COMP_TYPE.PAGE&&(g+="<tr><td>_lock</td><td>",b._lock&&(g+="isLockedByCurrentUser: "+(b._lock.isLockedByCurrentUser?"true":"false")+"<br>owner: "+b._lock.owner+"<br>on: "+b._lock.on+"<br>comment: "+b._lock.comment),g+="</td></tr>"),g+="</table>",d=b.getProperties(),d.sort(function(a,b){return a.getMetaData().displaySeq-b.getMetaData().displaySeq}),g+="<table class='u-Report'i><tr><th>Property</th><th>Value</th><th>has Changed</th><th>Errors</th><th>Warnings</th><th>_isRequired</th><th>Columns</th></tr>";for(var h=0;h<d.length;h++){if(e=d[h].id,g+="<tr><td>",g+=d[h].getMetaData().prompt+" ("+e+")",g+="</td><td>",g+=c.escapeHTML(d[h].getDisplayValue()),d[h].getDisplayValue()!==d[h].getValue()&&(g+="<br>["+c.escapeHTML(d[h].getValue())+"]"),g+="</td><td>",g+=d[h].hasChanged?"true":"",g+="</td><td>",g+=d[h].errors.join("<br>"),g+="</td><td>",g+=d[h].warnings.join("<br>"),g+="</td><td>",g+=d[h]._isRequired?"true":"",g+="</td><td>",f=d[h].getColumns(),f.length>0){g+="<table class='u-Report'><tr><th>Name</th><th>Type</th></tr>";for(var i=0;i<f.length;i++)g+="<tr><td>"+c.escapeHTML(f[i].name)+"</td><td>"+c.escapeHTML(f[i].type)+"</td></tr>";g+="</table>"}g+="</td></tr>"}return g+="</table>"}function f(b,c,f){var j;if(i){for(d.trace("%s: selectionChanged event triggered by %s",g,c,f),a.unobserver(g,{events:[a.EVENT.CHANGE]}),j=0;j<f.length;j++)a.observer(g,{component:f[j],events:[a.EVENT.CHANGE,a.EVENT.META_DATA]},function(a){d.trace("%s: CHANGE or META_DATA notification received",g,a),h.find("#dump"+a.component.id).html(e(a.component))});for(h.empty(),j=0;j<f.length;j++)h.append('<div id="dump'+f[j].id+'">'+e(f[j])+"</div>")}}var g="dump",h=b("#dumpContent"),i=!0;b(document).on("modelReady",function(){b(document).one("modelCleared",function(){h.empty()})}),b(document).on("selectionChanged."+g,f),a.observer(g,{},function(a){d.trace("%s: %s notification(s)",g,a.events.join(", "),a)}),window.pageDesigner.hideDumpTab=function(){b('#dump, [href="#dump"]').closest("li").hide(),i=!1},window.pageDesigner.showDumpTab=function(){b('#dump, [href="#dump"]').closest("li").show(),b("#editor_tabs").tabs("refresh"),i=!0},b(function(){window.pageDesigner.hideDumpTab()})}(pe,apex.jQuery,apex.util,apex.debug);
!function(a,b,c,d,e){"use strict";function f(a){return e.getMessage("PE."+a)}function g(a){var b=f(a),c=[b].concat(Array.prototype.slice.call(arguments,1));return e.format.apply(this,c)}function h(a){var b=f(a),c=[b].concat(Array.prototype.slice.call(arguments,1));return e.formatNoEscape.apply(this,c)}function i(b,c){var d=a.extend({"class":"",style:""},c);b.markup("<div"),d["class"]&&b.attr("class",a.isArray(d["class"])?d["class"].join(" "):d["class"]),d.style&&b.attr("style",d.style),b.markup(">")}function j(a){a.markup("</div>")}function k(a,b,c){a.markup("<span").attr("class",b).attr("aria-hidden",!0).markup("></span>"),c&&a.markup("<span").attr("class",La).markup(">").content(c).markup("</span>")}function l(b,c,d){var e,f;return e=d?Va[d]:Wa,!c&&d?void(Va[b]=e):(f=a.extend(Object.create(e),c),f["super"]=function(){var a=Array.prototype.slice,b=f["super"];return function(c){var d,f=a.call(arguments,1),g=this["super"];return this["super"]=b,d=e[c].apply(this,f),this["super"]=g,d}}(),void(Va[b]=f))}var m="a-PropertyEditor",n=m+"-wrapper",o=m+"--stacked",p=m+"-propertyGroup",q=m+"-message",r=m+"-messageText",s=m+"-editParent",t=m+"-filter",u="a-Button--stickyFilter",v="a-Toolbar-items--left",w="has-active-filter",x=p+"-header",y=p+"-title",z=p+"-body",A="a-Property",B=A+"-notFound",C=A+"--stacked",D=A+"-buttonContainer",E=D+"--comboBox",F=D+"--colorPicker",G=A+"-labelContainer",H=A+"-label",I=H+"--withIcon",J=A+"-radioGroup",K=J+"--buttonSet",L=J+"--buttonSet",M=A+"-radio",N=M+"-label",O=M+"-input",P=A+"-checkboxGroup",Q=A+"-checkbox",R=Q+"-label",S=Q+"-input",T=A+"-fieldContainer",U=T+"--comboBox",V=T+"--radioGroup",W=T+"--checkboxGroup",X=T+"--colorPicker",Y=A+"-field",Z=Y+"--readOnly",$=Y+"--text",_=Y+"--textarea",aa=Y+"--select",ba=Y+"--filter",ca=A+"-unitContainer",da=A+"-unit",ea=A+"-colorPreview",fa=A+"--scrollable",ga="js-showAll",ha="a-Button",ia=ha+"--small",ja=ha+"--noLabel",ka=ha+"--withIcon",la=ha+"--full",ma=ha+"--primary",na=ha+" "+ia+" "+ja+" "+ka,oa="is-active",pa="is-focused",qa="is-error",ra="is-warning",sa="is-expanded",ta="is-variable",ua="is-empty",va="is-changed",wa="is-disabled",xa="a-Icon",ya=xa+" icon-down-arrow",za=xa+" icon-right-arrow",Aa=xa+" icon-required",Ba=xa+" icon-error",Ca=xa+" icon-warning",Da=xa+" icon-popup-lov",Ea=xa+" icon-variable",Fa=xa+" icon-quick-pick",Ga=xa+" icon-color-picker",Ha=xa+" icon-circle",Ia=xa+"--large",Ja=xa+" "+Ia+" icon-warning",Ka=xa+" icon-open-in-dialog",La="u-VisuallyHidden",Ma="ui-dialog-flushBody",Na="u-textLower",Oa="u-textUpper",Pa="u-hidden",Qa="a-Property-highlight",Ra="data-property-id",Sa="data-group-id",Ta={COMBOBOX:"COMBOBOX",NUMBER:"NUMBER",INTEGER:"INTEGER",SELECT_LIST:"SELECT LIST",TEXT:"TEXT",TEXTAREA:"TEXTAREA",YES_NO:"YES NO",PILL_BUTTONS:"PILL BUTTONS",CHECKBOXES:"CHECKBOXES",RADIOS:"RADIOS",COLOR:"COLOR",POPUP_LOV:"POPUP LOV"},Ua={},Va={},Wa={renderDivOpen:i,renderDivClose:j,renderIcon:k,stacked:!1,noLabel:!1,labelVisible:!0,render:function(a,b,c){},init:function(a,b){this.addKeyboardHandlersForVariesState(a,b),this.addTooltipsForErrors(a,b)},destroy:function(a,b){a.closest("div."+A).off()},validate:function(){},setValue:function(a,b,c){a.val(c),b.value=c},addValue:function(a,b,c){var d,e=!1,f=a.val(),g=f?f.split(b.metaData.multiValueDelimiter):[];for(d=0;d<g.length;d++)if(c===g[d]){e=!0;break}e||g.push(c),a.val(g.join(b.metaData.multiValueDelimiter))},getValue:function(a){var b=a.find("["+Ra+"]").val();return a.hasClass(ta)&&""===b&&(b=Ua),b},getDisplayValue:function(a){return a.value},setFocus:function(a){a[0].focus()},renderCommonAttributes:function(a,b,c){a.attr("id",b).attr(Ra,c.propertyName).optionalAttr("aria-required",c.metaData.isRequired?"true":null).optionalAttr("aria-invalid",c.errors.length>0?"true":null)},commonAttributes:function(a){var b={};return b[Ra]=a.propertyName,b["aria-required"]=a.metaData.isRequired,b["aria-invalid"]=a.errors.length>0,b},renderBaseInput:function(b,c){var d,e,f=a.extend({id:"",type:"text",value:"",inputClass:[],data:{},readonly:!1,maxLength:"",attributes:{}},c);if(b.markup("<input").attr("id",f.id).attr("type",f.type).attr("value",f.value).optionalAttr("readonly",f.readonly),f.inputClass.length>0&&b.attr("class",a.isArray(f.inputClass)?f.inputClass.join(" "):f.inputClass),f.maxLength&&b.attr("maxlength",f.maxLength),f.ariaDescribedBy&&b.attr("aria-describedby",f.ariaDescribedBy),!a.isEmptyObject(f.data))for(e in f.data)f.data.hasOwnProperty(e)&&b.attr("data-"+e,f.data[e]);if(!a.isEmptyObject(f.attributes))for(d in f.attributes)f.attributes.hasOwnProperty(d)&&b.attr(d,f.attributes[d]);b.markup(" />")},renderText:function(b,c,d,e){var f,g=d.value,h=!1,i=[],j={},k=g===Ua;e=a.extend({"class":$,type:"text",textCase:d.metaData.textCase,manualEntry:!0,attributes:{}},e),i.push(Y),i.push(e["class"]),e.textCase&&i.push(this.getTextCaseClass(e.textCase)),d.metaData.isReadOnly&&(h=!0,i.push(Z),k||(g=Va[d.metaData.type].getDisplayValue(d))),e.manualEntry||(h=!0,i.push(Z),k||""===d.value||(j["return-value"]=d.value,d.metaData.lovValues(function(b){var c,e=a("["+Ra+"="+d.propertyName+"]");c=b.length>0&&b[0].r===d.value?b[0].d:d.value,Va[d.metaData.type].setValue(e,d,d.value,c)},{id:d.value}))),k&&(g="",i.push(ta)),f={id:c,type:e.type,value:g,inputClass:i,data:j,attributes:a.extend(e.attributes,this.commonAttributes(d)),readonly:h},d.metaData.maxLen&&(f.maxLength=d.metaData.maxLen),d.metaData.unit&&(f.ariaDescribedBy=f.id+"_unit"),this.renderBaseInput(b,f)},renderOption:function(a,b,c){return a.markup("<option").attr("value",b.r).optionalAttr("selected",b.r===c?"true":null),b.hasOwnProperty("isSupported")&&a.attr("data-is-supported",b.isSupported?"true":"false"),b.hasOwnProperty("isLegacy")&&a.attr("data-is-legacy",b.isLegacy?"true":"false"),a.markup(">").content(b.d).markup("</option>"),b.r===c},renderLovValues:function(b,c,d){var e,f=c,g=!1;for(a.isFunction(f)&&(f=f()),e=0;e<f.length;e++)f[e].hasOwnProperty("group")?(b.markup("<optgroup").attr("label",f[e].group).markup(">"),this.renderLovValues(b,f[e].values,d)&&(g=!0),b.markup("</optgroup>")):this.renderOption(b,f[e],d)&&(g=!0);return g},renderIconButton:function(b,c){var d=a.extend({id:"",icon:"",text:"",dataFor:null,disabled:!1,isMenuButton:!1,addContainer:!1,containerClass:"",buttonClass:""},c);d.addContainer&&this.renderDivOpen(b,{"class":D+(d.containerClass?" "+d.containerClass:"")}),b.markup("<button type='button'").attr("id",d.id).attr("class",na+(d.buttonClass?" "+d.buttonClass:"")+(d.isMenuButton?" js-menuButton":"")).attr("title",d.text).attr("aria-label",d.text).optionalAttr("disabled",d.disabled),d.dataFor&&b.attr("data-for",d.dataFor),d.isMenuButton&&b.attr("aria-haspopup","true").attr("aria-expanded","false").attr("data-menu",d.id+"_menu"),b.markup(">"),this.renderIcon(b,d.icon),b.markup("</button>"),d.addContainer&&this.renderDivClose(b)},addValueVariesStateStyle:function(c,d,e,g){var h=b.htmlBuilder(),i=b.htmlBuilder();c.addClass(ta),d.addClass(ta),g.renderIcon(h,Ea),i.markup("<span").attr("class",La).markup(">").content(f("VALUE_VARIES_POSTFIX")).markup("</span>"),a("#"+e+"_label").prepend(h.toString()).append(i.toString())},removeValueVariesStateStyle:function(b,c){var d=a("#"+b.attr("id")+"_label");b.removeClass(ta),c.removeClass(ta),d.find("span.icon-variable").remove().end().find("span."+La).remove()},addKeyboardHandlersForVariesState:function(b,c){var d,e,f;c.metaData.isReadOnly||(d=this,e=b.closest("div."+A),f=b.attr("id"),e.on("keydown","#"+f,function(b){var g=a(this);b.which===a.ui.keyCode.ESCAPE&&c.value===Ua&&(d.addValueVariesStateStyle(g,e,f,d),setTimeout(function(){g[0].value=""},1))}).on("keypress","#"+f,function(b){var c=a(this);b.which&&c.hasClass(ta)&&d.removeValueVariesStateStyle(c,e)}))},addChangeHandlersForVariesState:function(b,c){var d,e,f;c.metaData.isReadOnly||(d=this,e=b.closest("div."+A),f=b.attr("id"),e.on("change","#"+f,function(b){var g=a(this),h=g.val();g.hasClass(ta)?d.removeValueVariesStateStyle(g,e):""===h&&c.value===Ua&&d.addValueVariesStateStyle(g,e,f,d)}))},addTooltipsForErrors:function(a,b){var c=a.attr("id");a.tooltip().off("mouseover mouseout"),b.errors.length>0&&a.tooltip({items:"#"+c,content:function(a){var c,d;for(c="<ul>",d=0;d<b.errors.length;d++)c+="<li>"+b.errors[d]+"</li>";c+="</ul>",a(c)},position:{my:"left bottom",at:"left top",of:"#"+c+"_label"}}),b.warnings.length>0&&a.tooltip({items:"#"+c,content:function(a){var c,d;for(c="<ul>",d=0;d<b.warnings.length;d++)c+="<li>"+b.warnings[d]+"</li>";c+="</ul>",a(c)},position:{my:"left bottom",at:"left top",of:"#"+c+"_label"}})},initQuickPicks:function(b,c){function d(){b.val(this.value).trigger("change")}var e,g,h,i,j,k,l=[];if(c.metaData.quickPicks&&(i=c.metaData.quickPicks(),j=i.length,!c.metaData.isReadOnly&&j>0)){for(c.metaData.isRequired||(void 0===c.metaData.nullText?(l.push({type:"action",label:f("QUICK_PICK.CLEAR"),hide:function(){return""===b.val()},action:function(){b.val("").trigger("change")}}),l.push({type:"separator",hide:function(){return""===b.val()}})):l.push({type:"action",label:c.metaData.nullText,action:function(){b.val("").trigger("change")}})),e=0;e<j;e++)h={type:"action",label:i[e].d,value:i[e].r,action:d},i[e].icon&&(h.icon=i[e].icon),i[e].iconStyle&&(h.iconStyle=i[e].iconStyle),l.push(h);g=b.attr("id")+"_quickPickBtn_menu",k=a("#"+g),0===k.length&&(k=a("<div id='"+g+"'></div>").appendTo("body")),k.menu({items:l}),c.metaData.hasInitQuickPick=!0}},removeQuickPick:function(b,c){var d;c.metaData.hasInitQuickPick&&(d=b.attr("id")+"_quickPickBtn_menu",a("#"+d).remove())},addLabelClickHandler:function(a,b){var c=this,d=a.closest("div."+A),e=a.attr("id");d.on("click","#"+e+"_label",function(d){c.setFocus(a,b)})},renderQuickPickButton:function(a,b,c,d){var e,f=!!d;c.metaData.quickPicks&&(e=c.metaData.quickPicks(),c.metaData.isReadOnly||e.length>0&&this.renderIconButton(a,{id:b+"_quickPickBtn",icon:Fa,text:h("QUICK_PICK",c.metaData.prompt),isMenuButton:!0,addContainer:f,buttonClass:"a-Button--quickPick"}))},renderRadioCheckbox:function(b,c,d,e,f){var g,h,i,j,k,l;e===Ta.CHECKBOXES?(i="checkbox",j=Q,k=S,l=R):(i="radio",j=M,k=O,l=N),g=a.extend({type:i,name:c+"_name",inputValue:null,inputLabel:null,currentValue:d.value!==Ua?d.value.split(":"):d.value},f),h=c+g.inputValue,this.renderDivOpen(b,{"class":j}),b.markup("<input").attr("type",g.type).attr("id",h).attr("value",g.inputValue).attr("name",g.name).attr("class",k).optionalAttr("checked",a.inArray(g.inputValue,g.currentValue)!==-1?"true":null).markup(" />"),b.markup("<label").attr("for",h).attr("class",l).markup(">"),g.icon?b.markup('<span class="a-Icon '+g.icon+'" aria-hidden="true"></span>').markup('<span class="u-VisuallyHidden">').content(g.inputLabel).markup("</span>"):b.content(g.inputLabel),b.markup("</label>"),this.renderDivClose(b)},renderRadiosCheckboxes:function(b,c,d,e){var g,h,i=[],j=[],k=c+"_label";if(i.push(T),e===Ta.CHECKBOXES?(i.push(W),j.push(P)):e===Ta.RADIOS&&(i.push(V),j.push(J)),this.renderDivOpen(b,{"class":i}),d.metaData.isReadOnly)this.renderText(b,c,d);else{if(d.value===Ua&&j.push(ta),b.markup("<div").attr("role","group").attr("class",j.join(" ")).attr("aria-labelledby",k).attr("tabindex","-1"),this.renderCommonAttributes(b,c,d),b.markup(">"),d.metaData.type!==Ta.YES_NO)for(h=d.metaData.lovValues,a.isFunction(h)&&(h=h()),g=0;g<h.length;g++)this.renderRadioCheckbox(b,c,d,e,{inputValue:h[g].r,inputLabel:h[g].d,icon:h[g].icon});else this.renderRadioCheckbox(b,c,d,e,{inputValue:d.metaData.yesValue,inputLabel:f("YES")}),this.renderRadioCheckbox(b,c,d,e,{inputValue:d.metaData.noValue,inputLabel:f("NO")});this.renderDivClose(b)}this.renderDivClose(b)},getTextCaseClass:function(a){var b="";return"UPPER"===a?b=Oa:"LOWER"===a&&(b=Na),b}};l(Ta.TEXT,{render:function(a,b,c,d){this.renderDivOpen(a,{"class":T}),this.renderText(a,b,c,d),this.renderDivClose(a),this.renderQuickPickButton(a,b,c,!0)},init:function(a,b){this.initQuickPicks(a,b),this["super"]("init",a,b)},destroy:function(a,b){this.removeQuickPick(a,b),this["super"]("destroy",a,b)}}),l(Ta.NUMBER,{init:function(b,c){c.metaData.isReadOnly||c.metaData.supportsSubstitution||b.on("keydown",function(b){var c=d.getDecimalSeparator(),e=[8,9,13,37,39,45,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,107,109,110,189];"."===c?e.push(190):","===c&&e.push(188),a.inArray(b.which,e)===-1&&b.preventDefault()}),this["super"]("init",b,c)}},Ta.TEXT),l(Ta.INTEGER,{init:function(b,c){c.metaData.isReadOnly||c.metaData.supportsSubstitution||b.on("keydown",function(b){var c=[8,9,13,37,39,45,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,107,109,189];a.inArray(b.which,c)===-1&&b.preventDefault()}),this["super"]("init",b,c)}},Ta.TEXT),l(Ta.TEXTAREA,{stacked:!0,render:function(a,b,c,d){var e,f=Y+" "+_;this.renderDivOpen(a,{"class":D}),d&&this.renderIconButton(a,{id:b+"_modalBtn",icon:Ka,text:h("CODE_EDITOR",c.metaData.prompt),buttonClass:"a-Button--simple"}),this.renderQuickPickButton(a,b,c),this.renderDivClose(a),this.renderDivOpen(a,{"class":T}),e=c.value,e===Ua&&(e="",f+=" "+ta),f+=" "+this.getTextCaseClass(c.metaData.textCase),a.markup("<textarea rows=3").attr("maxlength",c.metaData.maxLen).attr("class",f).optionalAttr("readonly",c.metaData.isReadOnly?"true":null),this.renderCommonAttributes(a,b,c),a.markup(">").content(e).markup("</textarea>"),this.renderDivClose(a)},init:function(a,b){var c=50,d=150,e=a.prop("scrollHeight");e>c&&(e>d&&(e=d),a.height(e)),this.initQuickPicks(a,b),this["super"]("init",a,b)},destroy:function(a,b){this.removeQuickPick(a,b),this["super"]("destroy",a,b)}}),l(Ta.COMBOBOX,{manualEntry:!0,render:function(a,b,c){this.renderDivOpen(a,{"class":[T,U]}),this.renderText(a,b,c,{manualEntry:this.manualEntry}),this.renderDivClose(a),this.renderIconButton(a,{id:b+"_lovBtn",icon:Da,text:h("LIST_OF_VALUES",c.metaData.prompt),addContainer:!0,containerClass:E}),this.renderQuickPickButton(a,b,c,!0)},init:function(c,d,e){function g(){var e,f=b.htmlBuilder();f.markup("<div").attr("id","lovDlg").attr("title",j.dialogTitle).markup(">").markup("</div>"),e=a(f.toString()).lovDialog({modal:!0,minWidth:520,height:500,filters:j.filters,columnDefinitions:j.columnDefinitions,filterLov:j.filterLov,dialogClass:Ma,resizable:!1,multiValue:j.multiValue,valueSelected:function(a,b){var e,f;e=void 0!==b.r?b.r:b[j.columnDefinitions[0].name],i.manualEntry||(f=b.d?b.d:e),d.metaData.multiValueDelimiter?i["super"]("addValue",c,d,e):i.setValue(c,d,e,f),c.trigger("change")},resultsDisplay:j.resultsDisplay})}var i=this,j=a.extend({columnDefinitions:[{name:"d",title:d.metaData.prompt}],filters:[{name:"search",title:f("SEARCH"),type:"search"}],filterLov:function(b,c){a.isFunction(d.metaData.lovValues)?d.metaData.lovValues(function(a){i.manualEntry||d.metaData.isRequired||a.unshift({r:"",d:void 0!==d.metaData.nullText?d.metaData.nullText:f("SELECT")}),c(a,b.search)},b):c(d.metaData.lovValues,b.search)},multiValue:!1,dialogTitle:h("PICK",d.metaData.prompt),resultsDisplay:"table"},e),k=a("#"+c.attr("id")+"_lovBtn");this["super"]("init",c,d),k.on("click",g),k.prop("disabled",d.metaData.isReadOnly),this.initQuickPicks(c,d)},setValue:function(a,b,c,d){this.manualEntry?a.val(c):(a.data("return-value",c),d&&a.val(d)),b.value=c},getValue:function(a){var b;return b=this.manualEntry?this["super"]("getValue",a):a.find("["+Ra+"]").data("return-value")},destroy:function(a,b){this.removeQuickPick(a,b),this["super"]("destroy",a,b)}}),l(Ta.CHECKBOXES,{noLabel:!0,render:function(a,b,c){this.renderRadiosCheckboxes(a,b,c,Ta.CHECKBOXES)},init:function(a,b){this.addChangeHandlersForVariesState(a,b),this.addLabelClickHandler(a,b),this.addTooltipsForErrors(a,b)},getValue:function(a){var b=[];return a.find("input").each(function(){this.checked&&b.push(this.value)}),b.join(":")},getDisplayValue:function(b){var c,d,e,f=[],g=b.value.split(":");if(c=b.metaData.lovValues,a.isFunction(c)&&(c=c()),c){for(e=0;e<c.length;e++)a.inArray(c[e].r,g)>-1&&f.push(c[e].d);d=f.join(":")}return d},setValue:function(b,c,d){var e=b.find("input"),f=d.split(":");e.prop("checked",!1),e.each(function(){var b=a(this);a.inArray(b.val(),f)>-1&&b.prop("checked",!0)}),c.value=d},setFocus:function(a,b){b.metaData.isReadOnly?a[0].focus():a.find(":input")[0].focus()}}),l(Ta.RADIOS,{noLabel:!0,render:function(a,b,c){this.renderRadiosCheckboxes(a,b,c,Ta.RADIOS)},init:function(a,b){this.addChangeHandlersForVariesState(a,b),this.addLabelClickHandler(a,b),this.addTooltipsForErrors(a,b)},getValue:function(a){var b="";return a.find("input").each(function(){if(this.checked)return b=this.value,!1}),b},getDisplayValue:function(b){var c,d,e;if(c=b.metaData.lovValues,a.isFunction(c)&&(c=c()),c)for(e=0;e<c.length;e++)if(c[e].r===b.value){d=c[e].d;break}return d},setValue:function(b,c,d){var e=b.find("input");e.each(function(){var b=a(this);if(b.prop("checked")){if(b.val()===d)return!1;b.prop("checked",!1)}else if(b.val()===d)return b.prop("checked",!0),!1}),c.value=d},setFocus:function(a,b){b.metaData.isReadOnly?a[0].focus():a.find(":input")[0].focus()}}),l(Ta.YES_NO,{init:function(a,b){this["super"]("init",a,b),b.metaData.isReadOnly||a.addClass(K)},getDisplayValue:function(a){return f(a.metaData.yesValue===a.value?"YES":"NO")}},Ta.RADIOS),l(Ta.PILL_BUTTONS,{init:function(a,b){this["super"]("init",a,b),b.metaData.isReadOnly||a.addClass(L)}},Ta.RADIOS),l(Ta.SELECT_LIST,{render:function(a,b,c,d){var e=Y+" "+aa,h=c.value,i=!1;this.renderDivOpen(a,{"class":T}),c.metaData.isReadOnly?this.renderText(a,b,c):(h===Ua&&(e+=" "+ta),a.markup("<select size=1").attr("class",e),this.renderCommonAttributes(a,b,c),a.markup(">"),h===Ua?(i=this.renderOption(a,{r:"",d:""},""),c.metaData.isRequired||this.renderOption(a,{r:"",d:void 0!==c.metaData.nullText?c.metaData.nullText:f("SELECT")},null),h=""):c.metaData.isRequired&&""!==h||(i=this.renderOption(a,{r:"",d:void 0!==c.metaData.nullText?c.metaData.nullText:f("SELECT")},h)),this.renderLovValues(a,c.metaData.lovValues,h)||i||this.renderOption(a,{r:h,d:g("INVALID",h)},h),a.markup("</select>")),j(a),this.renderQuickPickButton(a,b,c,!0),d&&this.renderIconButton(a,{id:b+"_btn",icon:d.icon,text:d.text,addContainer:!0})},init:function(a,b){this.addChangeHandlersForVariesState(a,b),this.addTooltipsForErrors(a,b),this.initQuickPicks(a,b)},getDisplayValue:function(b){var c,d;if(""!==b.value){if(c=b.metaData.lovValues,a.isFunction(c)&&(c=c()),c)for(var e=0;e<c.length;e++)if(c[e].r===b.value){d=c[e].d;break}}else d=b.metaData.nullText?b.metaData.nullText:b.value;return d},destroy:function(a,b){this.removeQuickPick(a,b),this["super"]("destroy",a,b)}}),l(Ta.COLOR,{render:function(a,b,c){var d=["#FF3B30","#FF9500","#FFCC00","#4CD964","#34AADC","#007AFF","#5856D6","#FF2D55","#FFFFFF","#C7C7CC","#8E8E93","#000000"];this.renderDivOpen(a,{"class":[T,X]}),a.markup("<span").attr("id",b+"_preview").attr("class",ea).markup(">").markup("</span>"),this.renderText(a,b,c,{manualEntry:this.manualEntry}),this.renderDivClose(a),this.renderIconButton(a,{id:b+"_picker",icon:Ga,text:h("COLOR_PICKER",c.metaData.prompt),addContainer:!0,containerClass:F}),c.metaData.quickPicks=function(){var a,b=[];for(a=0;a<d.length;a++)b.push({d:d[a],r:d[a],icon:Ha,iconStyle:"color: "+d[a]+";"});return b},this.renderQuickPickButton(a,b,c,!0)},init:function(b,c){var d=this,e=b.attr("id"),f=a("#"+e+"_picker"),g=a("#"+e+"_preview");this["super"]("init",b,c),b.ColorPicker({eventName:"xxx",onSubmit:function(a,c,d,e){b.trigger("change").ColorPickerHide()},onBeforeShow:function(){a(this).ColorPickerSetColor(this.value)},onShow:function(b){return a(b).fadeIn("fast").position({my:"right top",at:"right bottom",of:"#"+e+"_picker"}).css("z-index",200),!1},onHide:function(c){return a(c).fadeOut("fast"),b.trigger("change"),!1},onChange:function(c,d,e){var f=b.attr("id"),g=a("#"+f+"_preview"),h="#"+d.toUpperCase();g.css("background-color",h),b.val(h)}}).ColorPickerHide(),b.on("change",function(a){var e=a.target;e.value=e.value.toUpperCase(),d.setValue(b,c,e.value)}),f.on("click",function(a){b.ColorPickerShow(),a.preventDefault()}),g.css("background-color",b.val()),this.initQuickPicks(b,c)},setValue:function(b,c,d){var e=b.attr("id"),f=a("#"+e+"_preview");b.val(d),f.css("background-color",d),c.value=d},destroy:function(a,b){this.removeQuickPick(a,b),this["super"]("destroy",a,b)}},Ta.TEXT),l(Ta.POPUP_LOV,{manualEntry:!1,init:function(a,b){this["super"]("init",a,b)}},Ta.COMBOBOX),a.widget("apex.propertyEditor",{version:"5.1",widgetEventPrefix:"propertyeditor",baseId:null,nextId:1,idMap:{},propMap:{},currentPropertyName:null,hasSearchField:!1,options:{data:{propertySet:[],componentCount:[]},idPrefix:null,showAll:!1,labelsAlwaysAbove:!1,hideDisplayGroups:!1,searchable:!1,searchKey:null,pinSearch:!1,stackLabelsWidth:280,focusPropertyName:null,externalEdit:null,expand:null,collapse:null,activate:null,deactivate:null,change:null},_create:function(){var b=this.options;if(!b.data||!b.data.propertySet)throw"Missing required data option.";this.baseId=(b.idPrefix||this.element[0].id||"pe")+"_",this.element.addClass(m),this.options.showAll&&this.element.addClass(ga),this._on(this._eventHandlers),this.options.searchable&&this._on(this.element.prev(),this._SearchEventHandlers),this.refresh(),this.options.labelsAlwaysAbove?this.element.addClass(o):this.element.hasClass("resize")?(this._on({resize:function(b){this.options.labelsAlwaysAbove||this.element.toggleClass(o,a(b.target).width()<this.options.stackLabelsWidth)}}),this.element.toggleClass(o,this.element.width()<this.options.stackLabelsWidth)):this.element.removeClass(o)},_eventHandlers:{click:function(b){var c=null,d=a(b.target);d.is("."+x)?c=d.parent():d.parent("."+x).length>0&&(c=d.parent().parent()),c&&this._toggle(c),d.attr("id")===this.baseId+"externalEdit"&&this.options.externalEdit()},keydown:function(b){var c=null,d=!1,e=a.ui.keyCode,f=b.keyCode,g=a(b.target);g.is("."+x)&&(f===e.HOME?c=g.parent().parent().children(":visible").first():f===e.END?c=g.parent().parent().children(":visible").last():f===e.DOWN?(c=g.parent().nextAll().filter(":visible").first(),0===c.length&&(c=g.parent().parent().children(":visible").first())):f===e.UP?(c=g.parent().prevAll().filter(":visible").first(),0===c.length&&(c=g.parent().parent().children(":visible").last())):f===e.LEFT?(this._collapse(g.parent()),d=!0):f===e.RIGHT?(this._expand(g.parent()),d=!0):f!==e.SPACE&&f!==e.ENTER||(this._toggle(g.parent()),d=!0),d&&b.preventDefault(),c&&(c.children("."+x)[0].focus(),b.preventDefault()))},"focusin div.a-Property":function(b){var c=a(b.target).closest("div.a-Property");c.addClass(oa+" "+pa),this._activate(c)},"focusout div.a-Property":function(b){var c=a(b.target).closest("div.a-Property");c.removeClass(oa+" "+pa)},"change div.a-Property":function(b){var c=a(b.target).closest("div.a-Property");this._checkForChange(c)},"focusin div.a-PropertyEditor-propertyGroup-header":function(b){this._deactivate(),a(b.target).closest("div.a-PropertyEditor-propertyGroup-header").addClass(pa)},"focusout div.a-PropertyEditor-propertyGroup-header":function(b){a(b.target).closest("div.a-PropertyEditor-propertyGroup-header").removeClass(pa)}},_SearchEventHandlers:{"keyup input.a-Property-field--filter":function(b){27===b.which?(this.clearSearch(),this.expandAll()):this.search(a(b.target).val())},"click button.a-Button--stickyFilter":function(b){var c=this.options;a(b.currentTarget).toggleClass(oa).hasClass(oa)?c.pinSearch=!0:(c.pinSearch=!1,c.searchKey=null)}},_destroy:function(){this.element.removeClass(m+" "+ga).empty()},_setOption:function(a,b){var c,d,e,f;if("data"===a)for(e=this.options.data.propertySet,c=0;c<e.length;c++)for(f=e[c],d=0;d<f.properties.length;d++)Va[f.properties[d].metaData.type].destroy(this._getElement(f.properties[d]),f.properties[d]);if(this._super(a,b),"data"===a){if(!b.propertySet)throw"Missing required properties.";this.refresh()}else"showAll"===a?this.element.toggleClass(ga,!!b):"labelsAlwaysAbove"===a&&(b?this.element.addClass(o):this.element.hasClass("resize")?this.element.toggleClass(o,this.element.width()<this.options.stackLabelsWidth):this.element.removeClass(o))},_callPropertyInit:function(a){var c=a.propertyName,d=this.element.find("["+Ra+"="+b.escapeCSS(c)+"]");Va[a.metaData.type].init(d,a)},_renderLabel:function(a,c){var d=b.htmlBuilder(),e=c.errors.length>0,g=c.warnings.length>0,h=c.value===Ua,l=H,m=[],n=this._getId(c)+"_label";m.push(G),Va[c.metaData.type].labelVisible?(e||g||h)&&(l+=" "+I):(l+=" "+La,m.push(G+"--hiddenLabel")),i(a,{"class":m}),Va[c.metaData.type].noLabel?a.markup("<span").attr("id",n).attr("class",l).markup(">"):a.markup("<label").attr("id",n).attr("for",this._getId(c)).attr("class",l).markup(">"),Va[c.metaData.type].labelVisible&&(e&&k(d,Ba),g&&k(d,Ca),c.value===Ua&&k(d,Ea)),a.markup(d.html),a.content(c.metaData.prompt),Va[c.metaData.type].labelVisible&&(e&&a.markup("<span").attr("class",La).markup(">").content(f("ERROR_POSTFIX")).markup("</span>"),g&&a.markup("<span").attr("class",La).markup(">").content(f("WARNING_POSTFIX")).markup("</span>"),c.value===Ua&&a.markup("<span").attr("class",La).markup(">").content(f("VALUE_VARIES_POSTFIX")).markup("</span>")),Va[c.metaData.type].noLabel?a.markup("</span>"):a.markup("</label>"),j(a)},_countVisibleProperties:function(a){var b,c,d,e=this.options.componentCount>0;for(b=0,c=0;c<a.length;c++)d=a[c],e&&d.metaData.isUnique||this._isCommon(d)&&(b+=1);return b},_renderDisplayGroup:function(a,b,c){var d,e,f,g,h,i,l,m,n=this.options.componentCount>0,o=b.properties;if(g=o.length,m=p,this.options.hideDisplayGroups)for(d=0;d<g;d++)e=o[d],n&&e.metaData.isUnique||this._renderProperty(a,e);else{for(h=this._countVisibleProperties(o),l=!b.collapsed,l?(f=ya,m+=" "+sa):f=za,0===h&&(m+=" "+ga),i=this.baseId+"g_"+c,a.markup("<div role='group'").attr("class",m).attr(Sa,b.displayGroupId).attr("aria-labelledby",i+"_LABEL").markup(">"),a.markup("<div tabindex='0'").attr("class",x).attr("aria-controls",i).attr("aria-expanded",l?"true":"false").attr("aria-labelledby",i+"_LABEL").markup(">"),k(a,f),a.markup("<h2").attr("class",y).attr("id",i+"_LABEL").markup(">").content(b.displayGroupTitle).markup("</h2>"),j(a),a.markup("<div").attr("id",i).attr("class",z),l||a.attr("style","display:none;"),a.markup(">"),d=0;d<g;d++)e=o[d],n&&e.metaData.isUnique||this._renderProperty(a,e);j(a),j(a)}},_renderDisplayGroups:function(a){var b,c=this.options.data.propertySet;for(b=0;b<c.length;b++)this._renderDisplayGroup(a,c[b],b)},_renderProperty:function(a,b){var c,d=[A];b.hasChanged&&d.push(va),Va[b.metaData.type].stacked&&d.push(C),Va[b.metaData.type].minHeight&&(c="min-height: "+Va[b.metaData.type].minHeight+"px;"),Va[b.metaData.type].maxHeight&&(c="max-height: "+Va[b.metaData.type].maxHeight+"px;",d.push(fa)),Va[b.metaData.type].height&&(c="max-height: "+Va[b.metaData.type].height+"px;",d.push(fa)),b.errors.length>0&&d.push(qa),b.warnings.length>0&&d.push(ra),b.value===Ua&&d.push(ta),this._isCommon(b)||d.push(ga);var e={"class":d,style:c};i(a,e),b.metaData.isRequired&&k(a,Aa,f("REQUIRED")),this._renderLabel(a,b),Va[b.metaData.type].render(a,this._getId(b),b),b.metaData.unit&&(a.markup("<div").attr("class",ca).markup(">"),a.markup("<span").attr("class",da).attr("id",this._getId(b)+"_unit").markup(">").content(b.metaData.unit).markup("</span>"),a.markup("</div>")),j(a)},_getProperty:function(a){return this.propMap[a]},_getId:function(a,b){var c;return c=this.idMap[a.propertyName],c||(c=this.baseId+this.nextId,this.nextId+=1,this.idMap[a.propertyName]=c),b&&(c+=b),c},_getElement:function(b,c){return a("#"+this._getId(b,c))},_isCommon:function(a){return a.metaData.isCommon||a.value!==a.metaData.defaultValue||a.errors.length>0||a.warnings.length>0},_activate:function(a){var b=this,c=a.find("["+Ra+"]").attr(Ra),d=this._getProperty(c);this.currentPropertyName!==c&&(this._deactivate(),this.currentPropertyName=c,setTimeout(function(){b._trigger("activate",{},d)},0))},_deactivate:function(){var a=this;this.currentPropertyName=null,setTimeout(function(){a._trigger("deactivate")},0)},_checkForChange:function(b){var d,e,f,g,h=b.find("["+Ra+"]").attr(Ra),i=this._getProperty(h),j=i.oldValue;if(c.info("propertyEditor _checkForChange",b),e=this.getValue(b,i),f=a("#"+this.idMap[h]),f.hasClass(ta)&&""===e&&(e=Ua),e!==j){if(i.value=e,i.oldValue=e,this.options.showAll){b.toggleClass(ga,!this._isCommon(i)),g=b.closest("div."+p);var k=g.find("div."+A).filter(":not(."+ga+")").length;g.toggleClass(ga,0===k)}d={propertyName:h,property:this._getProperty(h),previousValue:j,property$:b},this._trigger("change",{},d),b.addClass("is-changed")}},_expand:function(a){a.hasClass(sa)||(a.addClass(sa).children("."+z).show(),a.children("."+x).attr("aria-expanded","true").children("."+xa).removeClass(za).addClass(ya),this._trigger("expand",{},{displayGroupId:a.attr("data-group-id")}))},_collapse:function(a){a.hasClass(sa)&&(a.removeClass(sa).children("."+z).hide(),a.children("."+x).attr("aria-expanded","false").children("."+xa).removeClass(ya).addClass(za),this._trigger("collapse",{},{displayGroupId:a.attr("data-group-id")}))},_toggle:function(a){a.hasClass(sa)?this._collapse(a):this._expand(a)},refresh:function(){var a,d,e,g,h,i=b.htmlBuilder(),j=this.options,k=this.element,l=f("PIN_FILTER"),m=j.componentCount,o=j.data.propertySet,p=j.externalEdit;if(this.nextId=1,this.idMap={},this.propMap={},c.info("propertyEditor refresh"),this._deactivate(),0===m||1===m&&0===o.length?h=f("NO_COMMON_PROPERTIES"):0===o.length&&(h=f("NO_COMPONENTS_SELECTED")),h)return i.markup("<div").attr("class",q).markup(">"),i.markup("<span").attr("class",Ja).markup(">"),i.markup("<span").attr("class",La).markup(">").content(f("WARNING")).markup("</span>").markup("</span>"),i.markup("<p").attr("class",r).markup(">").content(h).markup("</p>"),i.markup("</div>"),k.html(i.toString()).addClass(ua),void(j.searchable&&(k.prev().addClass(wa).find("."+ba).prop("disabled",!0),j.pinSearch||this.clearSearch()));for(k.removeClass(ua),p&&i.markup("<div").attr("class",s).markup(">").markup("<button").attr("type","button").attr("id",this.baseId+"externalEdit").attr("class",ha+" "+la+" "+ma).markup(">").content(f("EDIT_COMPONENT")).markup("</button>").markup("</div>"),this._renderDisplayGroups(i),k.children().remove(),k.html('<div class="resize u-ScrollingViewport '+n+'">'+i.toString()+"</div>"),j.searchable&&k.find("."+n).css("height",k.css("height")).css("width",k.css("width")),a=0;a<o.length;a++)for(e=o[a].properties,d=0;d<e.length;d++)g=e[d],this.propMap[g.propertyName]=g,this._callPropertyInit(g);j.focusPropertyName&&this.focus(j.focusPropertyName),j.searchable&&(this.hasSearchField?(j.pinSearch?this.search(j.searchKey):this.clearSearch(),k.prev().removeClass(wa).find("."+ba).prop("disabled",!1)):(k.prev().find("."+v).prepend('<div class="'+t+'"><input aria-controls="pe" type="search" class="'+Y+" "+ba+'" aria-label="'+f("FILTER_PROPERTIES")+'" placeholder="'+f("FILTER")+'" /><span class="a-Icon icon-search a-PropertyEditor-filter-icon" aria-hidden="true"></span><button class="a-Button a-Button--noLabel a-Button--simple '+u+'" type="button" title="'+l+'" aria-label="'+l+'"><span class="a-Icon icon-pin" aria-hidden="true"></span></button></div>'),this.hasSearchField=!0))},getPropertyValue:function(a){var b=this._getProperty(a),c=this._getElement(b),d=b.metaData.type;return Va[d].getValue(c.closest("div."+A))},updatePropertyValue:function(a,b,d){var e,f,g,h;c.info("propertyEditor updatePropertyValue: Property "+a+" to "+b),f=this._getProperty(a),f&&(g=this._getElement(f),h=f.metaData.type,e=f.value,b!==e&&(f.value=b,f.oldValue=b,b!==Ua?Va[h].setValue(g,f,b):this.updateProperty(f),d||g.trigger("change")))},updateProperty:function(a){var d,e,f=this.options.data.propertySet,g=b.htmlBuilder();for(c.info("propertyEditor updateProperty: ",a),d=0;d<f.length;d++)for(e=0;e<f[d].properties.length;e++)f[d].properties[e].propertyName===a.propertyName&&(f[d].properties.splice(e,1),f[d].properties.splice(e,0,a));this._renderProperty(g,a),this._getElement(a).closest("div."+A).replaceWith(g.toString()),Va[a.metaData.type].destroy(this._getElement(a),a),
this._callPropertyInit(a)},addProperty:function(d){var e,f,g,h,i,j,k,l=b.htmlBuilder(),m=b.htmlBuilder(),n=this.options.data.propertySet,o=0,p=0,q=!1,r=!1,s=a.extend({property:{},prevPropertyName:null,displayGroup:{},prevDisplayGroupId:null},d);for(c.info("propertyEditor addProperty: ",s),e=0;e<n.length;e++)if(n[e].displayGroupId===s.property.metaData.displayGroupId){p=e,q=!0;break}if(!q){for(f=0;f<n.length;f++)if(n[f].displayGroupId===s.prevDisplayGroupId){p=f+1;break}n.splice(p,0,s.displayGroup)}for(i=n[p].properties,g=0;g<i.length;g++)if(i[g].propertyName===s.property.propertyName){o=g,r=!0;break}if(!r){for(h=0;h<i.length;h++)if(i[h].propertyName===s.prevPropertyName){o=h+1;break}n[p].properties.splice(o,0,s.property),this.propMap[s.property.propertyName]=s.property,q?(this._renderProperty(l,s.property),0===o?this.element.find("div["+Sa+"="+b.escapeCSS(s.displayGroup.displayGroupId)+"]").find("div."+z).prepend(l.toString()):a("#"+this.idMap[s.prevPropertyName]).closest("div."+A).after(l.toString()),j=this._countVisibleProperties(n[p].properties),k=this.element.find("div["+Sa+"="+b.escapeCSS(s.displayGroup.displayGroupId)+"]"),j>0&&k.hasClass(ga)&&k.removeClass(ga)):(this._renderDisplayGroup(m,s.displayGroup,p),0===p?this.element.prepend(m.toString()):this.element.find("div["+Sa+"="+b.escapeCSS(s.prevDisplayGroupId)+"]").after(m.toString())),this._callPropertyInit(s.property)}},removeProperty:function(a){var b,d,e,f,g,h=!1,i=this.options.data.propertySet,j=!1;for(c.info("propertyEditor removeProperty: ",a),this.currentPropertyName===a&&this._deactivate(),b=0;b<i.length;b++)if(!j)for(h=1===i[b].properties.length,d=0;d<i[b].properties.length;d++)if(i[b].properties[d].propertyName===a){f=i[b].properties[d],e=this._getElement(f),g=e.closest("div."+p),h?(i.splice(b,1),g.remove()):(Va[f.metaData.type].destroy(e,f),i[b].properties.splice(d,1),e.closest("div."+A).remove()),j=!0;break}},expand:function(a){var c=this.element.find("div."+p).filter("["+Sa+"="+b.escapeCSS(a)+"]");this._expand(c)},expandAll:function(){var b=this;this.element.find("div."+p).each(function(){b._expand(a(this))})},collapseAll:function(){var b=this;this.element.find("div."+p).each(function(){b._collapse(a(this))})},getValueVariesConstant:function(){return Ua},setValue:function(a,b,c){Va[b.metaData.type].setValue(a,b,c)},getValue:function(a,b){return Va[b.metaData.type].getValue(a)},focus:function(a){var b,c,d,e;e=a?a:this.currentPropertyName?this.currentPropertyName:this.options.data.propertySet[0].properties[0].propertyName,c=this._getProperty(e),d=this._getElement(c),b=d.closest("div."+p),b.hasClass(sa)||this._expand(b),Va[c.metaData.type].setFocus(d,c)},saveProperty:function(a){var b,c,d;a?b=a:this.currentPropertyName&&(b=this.currentPropertyName),b&&(c=this._getProperty(b),d=this._getElement(c),d.trigger("change"))},goToGroup:function(a){var c=this.options,d=this.element.find("div."+p).filter("["+Sa+"="+b.escapeCSS(a)+"]").find("["+Ra+"]").first().attr(Ra);c.searchable&&this.clearSearch(),this.collapseAll(),this.expand(a),this.focus(d)},search:function(b){var c,d=this.element,e=d.prev();if(d.find("."+Pa+", ."+Qa).removeClass(Pa+" "+Qa),a("."+B).remove(),e.removeClass(w),!b||b.length<2)return void(this.options.searchKey=null);c=b.trim().toLowerCase(),this.options.searchKey=c,e.addClass(w);var g=[],h=[],i={},j=[],k=[],l=this,m=function(b){var c,d=a("#"+b),e=d.get(0).tagName.toUpperCase();return c="INPUT"===e||"TEXTAREA"===e?$v(b):"SELECT"===e?a("#"+b+" option:selected").text():"BUTTON"===e?d.text():"DIV"===e?d.find("input:checked").next().text():"",c.toLowerCase()},o=(function(){a("."+y).each(function(b){var c=a(this),d=c.text().toLowerCase(),e=c.attr("id"),f=[];j.push(e),g[b]={pe_id:e,pe_title:d,pe_children:[]},f=g[b].pe_children,c.parent().next().find("."+H).each(function(){var b=a(this),c=b.attr("id");f.push({pe_label_id:c,pe_label:b.text().toLowerCase(),pe_value:m(c.slice(0,-6))}),k.push(c),i[c]=e})})}(),function(a){var b,c,d,e,f,i=g.length;for(b=0;b<i;b++)for(d=g[b],d.pe_title.indexOf(a)!=-1&&h.push(d.pe_id),f=d.pe_children.length,c=0;c<f;c++)e=d.pe_children[c],e.pe_label.indexOf(a)==-1&&e.pe_value.indexOf(a)==-1||h.push(e.pe_label_id);p(h)}),p=function(b){var d,e,g,h,m,o,p,q,r=[],s=b.length,t=j.length,u=k.length;0===s&&a("."+n).append('<div class="'+B+'"> <span class="a-Icon icon-search" aria-hidden="true"></span><br />'+f("FILTER_NO_MATCH")+"</div>");var v=function(a){return a.indexOf("_g_")!==-1?a:i[a]},w=function(){l._expand(q.parent().removeClass(Pa))},x=function(a,b){var c=a.text().replace(new RegExp("("+b+")","gi"),'<span class="'+Qa+'">$1</span>');a.html(c)};for(e=0;e<t;e++)a("#"+j[e]).parent().parent().addClass(Pa);for(g=0;g<u;g++)a("#"+k[g]).parent().parent().addClass(Pa);for(d=0;d<s;d++)m=b[d],p=a("#"+m),q=p.parent().parent(),q.removeClass(Pa),m.indexOf("_g_")!==-1&&q.find("."+Pa).removeClass(Pa),x(p,c),r.push(v(m));for(r=a.unique(r),o=r.length,h=0;h<o;h++)p=a("#"+r[h]),q=p.parent().next(),w()};o(c)},clearSearch:function(){this.options.searchKey=null,a("#peToolbar").removeClass(w).find("."+ba).val("").trigger("keyup").siblings("."+u).removeClass(oa)}}),a.apex.propertyEditor.PROP_TYPE=Ta,a.apex.propertyEditor.addPropertyType=l}(apex.jQuery,apex.util,apex.debug,apex.locale,apex.lang);
!function(a,b,c,d){"use strict";function e(a){return d.getMessage("LOV_DIALOG."+a)}var f="a-PopupLOV",g=f+"-search",h=f+"-filters",i=f+"-filterGroup",j=i+"--lineFilter",k=f+"-filterLabel",l=f+"-filterItem",m=l+"-label",n=l+"-select",o=l+"-text",p=f+"-results",q=f+"-resultsSet",r=f+"-resultsGrid",s=r+"-wrap",t=q+"-link",u=f+"-iconGrid-item",v="a-SearchBox",w=v+"-field",x=v+"-icon",y=v+"-input",z="a-Icon",A="icon-search",B="icon-right-chevron",C="a-Button",D=C+"--noLabel",E=C+"--withIcon",F=C+"--slim",G=C+"--pillEnd",H=C+"--primary",I="a-Form-label",J="a-Form-field",K="a-Form-select",L="apex-button-group",M="apex-item-grid-row",N="apex-item-option",O="visuallyhidden",P="u-textRight",Q="u-textLeft",R="u-textCenter",S="table";a.widget("apex.lovDialog",a.ui.dialog,{version:"5.2",widgetEventPrefix:"lovdialog",baseId:null,filterHasSubFilter:[],filterIsSearch:[],filterFiltersOnChange:[],currentFilters:{},deferredFilterLov:a.Deferred(),options:{filterLov:null,idPrefix:null,multiValue:!1,filters:[],columnDefinitions:[],resultsDisplay:S},_create:function(){var b,c=this.options;if(!a.isFunction(c.filterLov))throw"Missing required 'filterLov' option.";if(0===c.columnDefinitions.length)throw"Missing required 'columnDefinitions' option.";this.baseId=(c.idPrefix||this.element[0].id||"lovDialog")+"_",this.element.addClass(f);for(var e=0;e<this.options.columnDefinitions.length;e++)this.options.columnDefinitions[e]=a.extend({alignment:"left",escape:!0},this.options.columnDefinitions[e]);return this.filterHasSubFilter=[],this.filterIsSearch=[],this.filterFiltersOnChange=[],this.currentFilters={},this.resultsDisplayTableMode=this.options.resultsDisplay===S,this.options.closeText=d.getMessage("APEX.DIALOG.CLOSE"),b=this._super(),this._renderLovDialog(),b},_renderLovDialog:function(){var c,d,g,h,i,j,k=this,l=b.htmlBuilder();if(l.markup("<div").attr("class",f).markup(">"),this._renderFilters(l,this.options.filters),l.markup("<div").attr("class",p).markup(">"),this.resultsDisplayTableMode){for(l.markup("<table").attr("class",q).attr("id",k.baseId+"lovEntries").markup(">").markup("<caption").attr("class",O).markup(">").content(e("LOV_ENTRIES")).markup("</caption>"),l.markup("<tr>"),this.options.multiValue&&l.markup("<th>").content(e("SELECT")).markup("</th>"),c=0;c<this.options.columnDefinitions.length;c++)j=this.options.columnDefinitions[c].title,i="left"===this.options.columnDefinitions[c].alignment?Q:R,l.markup("<th").attr("class",i).optionalAttr("width",this.options.columnDefinitions[c].width).markup(">"),this.options.columnDefinitions[c].escape?l.content(j):l.markup(j),l.markup("</th>");l.markup("</tr>"),l.markup("</table>")}else l.markup("<div").attr("class",s).markup("><ul").attr("class",r).markup("></ul></div>");for(l.markup("</div>"),this.element.empty().append(l.toString()),this._lovEntries$=a("#"+this.baseId+"lovEntries"),this._filterLov(this.options.filters),this._on({click:this._resultsLinkClick}),d=0;d<this.filterIsSearch.length;d++)this._on("#"+this.filterIsSearch[d]+"_button",{click:this._doSearch}),this._on("#"+this.filterIsSearch[d],{keypress:function(a){13===a.which&&(k._doSearch(a),a.preventDefault())}});for(h=0;h<this.filterFiltersOnChange.length;h++)this._on("#"+this.filterFiltersOnChange[h],{change:this._doSearch});for(g=0;g<this.filterHasSubFilter.length;g++)this._on("#"+this.filterHasSubFilter[g],{change:this._filterHasSubFilterChange})},_resultsLinkClick:function(b){var c,d,e,f,g=a(b.target),h=!1;if(g.hasClass(t)){c=this.lovEntries[g.data("lov-entry-idx")];for(var i in this.currentFilters){for(d=0;d<this.options.filters.length;d++)if(this.options.filters[d].name===i){if(h=!0,this.options.filters[d].lov)for(e=0;e<this.options.filters[d].lov.length;e++)if(this.options.filters[d].lov[e].value===this.currentFilters[i]){this.options.filters[d].lov[e].valueFormatting&&(f=this.options.filters[d].lov[e].valueFormatting);break}break}if(h)break}f&&a.extend(c,{valueFormatting:f}),this._trigger("valueSelected",{},c),this.options.multiValue===!1&&this.close()}},_doSearch:function(a){this._filterLov(this.options.filters)},_filterHasSubFilterChange:function(c){for(var d=b.htmlBuilder(),e=this.options.filters,f=a(c.target),g=f.data("filter-name"),h=0;h<e.length;h++)if(e[h].name===g)for(var j=0;j<e[h].lov.length;j++)if(e[h].lov[j].filters)if(f.val()===e[h].lov[j].value)this._renderFilters(d,e[h].lov[j].filters,!0),f.closest("div."+i).after(d.toString());else for(var k=0;k<e[h].lov[j].filters.length;k++)this.element.find("[data-filter-name="+e[h].lov[j].filters[k].name+"]").closest("div."+i).remove()},_filterLovEntries:function(a){var b,c,d,e,f=[];if(""!==a){for(d=a instanceof RegExp?a:new RegExp(a,"i"),b=0;b<this.lovEntries.length;b++)for(c=0;c<this.options.columnDefinitions.length;c++)if(e=this.lovEntries[b][this.options.columnDefinitions[c].name]+"",e.match(d)){f.push(this.lovEntries[b]);break}this.lovEntries=f}},_renderLovEntries:function(a,c){var d,f,g,h,i,j,k=b.htmlBuilder(),l=this;if(this.lovEntries=a.slice(),c&&this._filterLovEntries(c),this.resultsDisplayTableMode){for(d=0;d<this.lovEntries.length;d++){for(k.markup("<tr>"),this.options.multiValue&&k.markup("<td>").markup("<input").attr("type","checkbox").attr("title",e("SELECT")).attr("data-lov-row",d).markup(" />").markup("</td>"),f=0;f<this.options.columnDefinitions.length;f++)i=this.options.columnDefinitions[f].cellFormatting?function(a){k.markup(l.options.columnDefinitions[f].cellFormatting(a))}:this.options.columnDefinitions[f].escape?function(a){k.content(a)}:function(a){k.markup(a)},h=this.lovEntries[d][this.options.columnDefinitions[f].name],h=0!==h?h||"":h,"left"===this.options.columnDefinitions[f].alignment?g=Q:"right"===this.options.columnDefinitions[f].alignment?g=P:"center"===this.options.columnDefinitions[f].alignment&&(g=R),k.markup("<td").attr("class",g).markup(">"),0===f?(k.markup("<a").attr("class",t).attr("href","#").attr("data-lov-entry-idx",d).markup(">"),i(h),k.markup("</a>")):i(h),k.markup("</td>");k.markup("</tr>")}this._lovEntries$.find("tr").after(k.toString())}else{for(d=0;d<this.lovEntries.length;d++)k.markup("<li").attr("class",u).markup(">"),h=this.lovEntries[d].r,j=this.lovEntries[d].d,h=0!==h?h||"":h,k.markup("<a").attr("class",t).attr("href","#").attr("data-lov-entry-idx",d).markup(">"),k.markup("<span").attr("class","fa "+h).attr("aria-hidden","true").markup("></span>"),k.content(j),k.markup("</a>"),k.markup("</li>");this.element.find("."+r).append(k.toString())}},_updateCurrentFilters:function(b){var c,d,e,f;for(c=0;c<b.length;c++)if(d=b[c].name,a("#"+this.baseId+d).length>0&&(e=a("#"+this.baseId+b[c].name),a.inArray(b[c].type,["text","select","search"])>-1?f=e.val():"buttonset"===b[c].type&&(f=e.find("input:checked").val()),this.currentFilters[d]=f,b[c].lov))for(var g=0;g<b[c].lov.length;g++)b[c].lov[g].value===f&&b[c].lov[g].filters&&this._updateCurrentFilters(b[c].lov[g].filters)},_filterLov:function(c){var d,e=this;e.deferredFilterLov.reject({status:0},"superseded",null),e.deferredFilterLov=a.Deferred().always(function(){b.delayLinger.finish("lovDialog",function(){d.remove()})}).done(function(a,b){e._renderLovEntries(a,b)}),this.resultsDisplayTableMode?this._lovEntries$.find("tr").not(":first").remove():this.element.find("."+r).empty(),this._updateCurrentFilters(c),b.delayLinger.start("lovDialog",function(){d=b.showSpinner(a(".a-PopupLOV-results"))}),this.options.filterLov(this.currentFilters,function(a,b){e.deferredFilterLov.resolve(a,b)})},_renderSearch:function(a,b){a.markup("<div").attr("class",g).markup(">"),a.markup("<div").attr("class",v).markup(">"),a.markup("<div").attr("class",w).markup(">"),a.markup("<span").attr("class",x).markup(">"),a.markup("<span").attr("class",z+" "+A).markup(">").markup("</span>"),a.markup("</span>"),a.markup("<input").attr("id",this.baseId+b.name).attr("data-filter-name",b.name).attr("type","text").attr("class",y).attr("title",b.title).attr("placeholder",b.title).attr("aria-controls",this.baseId+"lovEntries").attr("value",b.defaultValue?b.defaultValue:"").optionalBoolAttr("aria-required",b.isRequired).markup(" />"),a.markup("</div>"),a.markup("<button").attr("class",C+" "+D+" "+E+" "+F+" "+G+" "+H).attr("value",e("GO")).attr("type","button").attr("id",this.baseId+b.name+"_button").attr("title",e("GO")).attr("aria-controls",this.baseId+"lovEntries").markup(">"),a.markup("<span").attr("class",z+" "+B).markup(">").markup("</span>"),a.markup("<span").attr("class",O).markup(">").content("Go").markup("</span>"),a.markup("</button>"),a.markup("</div>"),a.markup("</div>"),this.filterIsSearch.push(this.baseId+b.name)},_renderText:function(a,b){a.markup("<div").attr("class",i+" "+j).markup(">"),a.markup("<span").attr("class",k).markup(">"),a.markup("<label").attr("for",this.baseId+b.name).attr("class",I+" "+m).markup(">").content(b.title).markup("</label>"),a.markup("</span>"),a.markup("<span").attr("class",l).markup(">"),a.markup("<input").attr("id",this.baseId+b.name).attr("data-filter-name",b.name).attr("type","text").attr("class",J+" "+o).attr("value",b.defaultValue?b.defaultValue:"").optionalBoolAttr("aria-required",b.isRequired).markup(" />"),a.markup("</span>"),a.markup("</div>")},_renderSelect:function(a,b){function c(c){var d=b.defaultValue===c.value;a.markup("<option").attr("value",c.value).optionalAttr("selected",d).markup(">").content(c.display).markup("</option>"),c.filters&&(this.filterHasSubFilter.push(this.baseId+b.name),d&&(f=c.filters))}var d,f=[];for(this.filterFiltersOnChange.push(this.baseId+b.name),a.markup("<div").attr("class",i+" "+j).markup(">"),a.markup("<span").attr("class",k).markup(">"),a.markup("<label").attr("for",this.baseId+b.name).attr("class",I+" "+m).markup(">").content(b.title).markup("</label>"),a.markup("</span>"),a.markup("<span").attr("class",l).markup(">"),a.markup("<select").attr("id",this.baseId+b.name).attr("data-filter-name",b.name).attr("size","1").attr("class",J+" "+K+" "+n).attr("aria-controls",this.baseId+"lovEntries").optionalBoolAttr("aria-required",b.isRequired).markup(">"),b.isRequired||c({display:e("SELECT_VALUE"),value:""}),d=0;d<b.lov.length;d++)c(b.lov[d]);return a.markup("</select>"),a.markup("</span>"),a.markup("</div>"),f},_renderButtonSet:function(a,b){var c,d,e=[];for(this.filterFiltersOnChange.push(this.baseId+b.name),a.markup("<div").attr("class",i+" "+j).markup(">"),a.markup("<span").attr("class",l+" "+L).attr("id",this.baseId+b.name).attr("role","group").attr("aria-label",b.title).attr("aria-controls",this.baseId+"lovEntries").markup(">"),a.markup("<div").attr("class",M).markup(">"),c=0;c<b.lov.length;c++)d=b.defaultValue===b.lov[c].value,a.markup("<div").attr("class",N).markup(">"),a.markup("<input").attr("id",this.baseId+b.name+"_"+b.lov[c].value).attr("type","radio").optionalAttr("checked",d).attr("value",b.lov[c].value).attr("name",this.baseId+b.name).attr("data-filter-name",b.name).markup(" />"),a.markup("<label").attr("for",this.baseId+b.name+"_"+b.lov[c].value).markup(">").content(b.lov[c].display).markup("</label>"),a.markup("</div>"),b.lov[c].filters&&(this.filterHasSubFilter.push(this.baseId+b.name),d&&(e=b.lov[c].filters));return a.markup("</div>"),a.markup("</span>"),a.markup("</div>"),e},_renderFilters:function(a,b,c){var d,e=[];for(b.length>0&&!c&&a.markup("<div").attr("class",h).markup(">"),d=0;d<b.length;d++){switch(e=[],b[d].type){case"search":this._renderSearch(a,b[d]);break;case"text":this._renderText(a,b[d]);break;case"select":e=this._renderSelect(a,b[d]);break;case"buttonset":e=this._renderButtonSet(a,b[d])}e.length>0&&this._renderFilters(a,e,!0)}b.length>0&&!c&&a.markup("</div>")},close:function(){return this.element.removeClass(f).empty(),this._super()}})}(apex.jQuery,apex.util,apex.debug,apex.lang);
!function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){return d.getMessage("PD.PE."+a)}function k(a){var b=j(a),c=[b].concat(Array.prototype.slice.call(arguments,1));return d.format.apply(this,c)}function l(a){var b=j(a),c=[b].concat(Array.prototype.slice.call(arguments,1));return d.formatNoEscape.apply(this,c)}function m(a,b){var c,d;for(c=0;c<a.length;c++)if(0===c)d=a[c].getProperty(b).getValue();else if(d!==a[c].getProperty(b).getValue()){d=t.propertyEditor("getValueVariesConstant");break}return d}function n(a,c){var d,e,f=[],g=[];for(d in a)if(a.hasOwnProperty(d))for(f=a[d],e=0;e<f.length;e++)b.inArray(f[e],c)>-1&&b.inArray(d,g)===-1&&g.push(d);return g}function o(a,c){var d,e,f,g,h=[],i=[],j=a.getMetaData(),k=[$.SELECT_LIST,$.COMPONENT,$.SUPPORTED_UI];if(c.length>1&&b.inArray(j.type,k)!==-1){for(d=0;d<c.length;d++){for(g={values:c[d].getProperty(a.id).getMetaData().lovValues(),map:{}},e=0;e<g.values.length;e++)g.map[g.values[e].r]=!0;i.push(g)}for(i.sort(function(a,b){return a.values.length-b.values.length}),h=i[0].values,e=1;e<i.length;e++)for(f=0;f<h.length;f++)i[e].map.hasOwnProperty(h[f].r)||(h.splice(f,1),f-=1);j.lovValues=h}return{metaData:j,propertyName:a.id,errors:a.errors,warnings:a.warnings,value:m(c,a.id),oldValue:m(c,a.id),hasChanged:a.hasChanged}}function p(a,b){var c,d="";d=a?a:l("TITLE"),c=f.getTab("peComponentProperties"),c.find(".ui-tabs-anchor").text(d)}function q(){v=null,t.propertyEditor("option",{data:{propertySet:[],propertyValues:[]}}),f.clearHelpText(),p(),b("#peToolbar").find("button").each(function(){b(this).prop("disabled",!0)}),a.unobserver(w,{})}function r(c,d){var e,f,g="";if(c.length>0){for(e=0;e<c.length;e++)if(0===e)g=a.getComponentType(c[e].typeId).title.singular,f=c[e].typeId;else{if(c[e].typeId!==c[e-1].typeId){g=j("MULTIPLE_TYPES");break}g=a.getComponentType(c[e].typeId).title.plural,f=c[e].typeId}v=c,s(c,d),p(g,f),b("#peToolbar").find("button").each(function(){b(this).prop("disabled",!1)})}else q()}function s(d,e){var h,i,j,k,l,p,q,s,u,x,y,z,A,B,C={},D=[],E={},F=[];for(y=a.getComponentType(d[0].typeId),x=y.isSharedComponent?[d[0].getProperty(y.displayPropertyId)]:d[0].getProperties(),h=0;h<x.length;h++)C[x[h].id]=x[h].getMetaData();if(x.sort(function(a,b){return C[a.id].displaySeq-C[b.id].displaySeq}),d.length>1)for(h=0;h<x.length;h++){if(p=x[h],u=!1,(C[p.id].isUnique||b.inArray(C[p.id].type,_)>-1)&&(u=!0),!u)for(i=1;i<d.length;i++)if(s=d[i],!s.getProperty(p.id)){u=!0;break}u&&(delete C[p.id],x.splice(h,1),h-=1)}for(h=0;h<x.length;h++)p=x[h],k=p.id,l=m(d,k),q=C[k].displayGroupId,C[k].type!==$.HIDDEN&&(E.hasOwnProperty(q)||(D.push({displayGroupId:q,displayGroupTitle:a.getDisplayGroup(q).title,collapsed:!!fa[q],properties:[]}),E[q]=D.length-1),D[E[q]].properties.push(o(p,d)));for(F.push({type:"action",labelKey:"PD.PE.EXPAND_ALL",action:function(){t.propertyEditor("expandAll")}},{type:"separator"}),j=0;j<D.length;j++)F.push({type:"action",label:D[j].displayGroupTitle,value:D[j].displayGroupId,action:function(){return t.propertyEditor("goToGroup",this.value),!0}});A={items:F},B=b("#pe_goto_group_menu"),B.menu(A),1===d.length&&(s=d[0],y.isSharedComponent&&(z=function(){g.redirect(y.editUrl.replace(/%session%/g,$v("pInstance")).replace(/%pk_value%/g,s.id).replace(/%application_id%/g,a.getCurrentAppId()).replace(/%page_id%/g,a.getCurrentPageId()))}),s.isOnGlobalPage()&&(z=function(){f.setPageSelection(a.getCurrentAppId(),s.pageId,s.typeId,s.id,function(){})})),t.propertyEditor("option",{focusPropertyName:e,externalEdit:z,data:{propertySet:D,componentCount:d.length}}),a.unobserver(w,{}),a.observer(w,{components:d,events:[a.EVENT.CHANGE]},function(d){var e,f,g,h=d.length,i={},j=[];for(c.trace("%s: CHANGE component notification received",w,d),e=0;e<h;e++){g=d[e],j.push(g.component);for(f in g.properties)g.properties.hasOwnProperty(f)&&b.inArray(a.EVENT.CHANGE,g.properties[f])!==-1&&(i[f]=!0),"redo"===g.action?t.find("[data-property-id="+f+"]").first().parent().parent().addClass(Z):"undo"===g.action&&void 0!==g.component.getProperty(f)&&(g.component.getProperty(f).hasChanged||t.find("[data-property-id="+f+"]").first().parent().parent().removeClass(Z))}for(f in i)i.hasOwnProperty(f)&&t.propertyEditor("updatePropertyValue",f,m(j,f),!0)},!0),a.observer(w,{components:d,events:[a.EVENT.ADD_PROP,a.EVENT.REMOVE_PROP]},function(e){var f,g,h,i,j,k,l,m,p,q,r,s,u,v,x,y={},z=[],A=[];for(c.trace("%s: ADD_PROP/REMOVE_PROP notification received",w,e),k=0;k<e.length;k++)z.push(e[k].component);for(s=n(e[0].properties,[a.EVENT.ADD_PROP]),f=a.getComponentType(d[0].typeId),g=f.isSharedComponent?[d[0].getProperty(f.displayPropertyId)]:d[0].getProperties(),l=0;l<g.length;l++)y[g[l].id]=g[l].getMetaData();if(g.sort(function(a,b){return y[a.id].displaySeq-y[b.id].displaySeq}),d.length>1)for(m=0;m<g.length;m++){if(h=g[m],i=!1,(y[h.id].isUnique||b.inArray(y[h.id].type,_)>-1)&&(i=!0),!i)for(p=1;p<d.length;p++)if(j=d[p],!j.getProperty(h.id)){i=!0;break}i&&(delete y[h.id],g.splice(m,1),m-=1)}for(q=0;q<g.length;q++)if(x=g[q].id,y[x].type!==$.HIDDEN)for(v=y[x].displayGroupId,0===q?A.push(v):v!==y[g[q-1].id].displayGroupId&&A.push(v),k=0;k<s.length;k++)if(x===s[k]){r=e[0].component.getProperty(s[k]),t.propertyEditor("addProperty",{property:o(r,z),prevPropertyName:g[q-1].id,displayGroup:{displayGroupId:y[g[q].id].displayGroupId,displayGroupTitle:a.getDisplayGroup(v).title,properties:[]},prevDisplayGroupId:A[A.length-2]});break}for(u=n(e[0].properties,[a.EVENT.REMOVE_PROP]),k=0;k<u.length;k++)t.propertyEditor("removeProperty",u[k])},!0),a.observer(w,{components:d,events:[a.EVENT.ERRORS,a.EVENT.NO_ERRORS,a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS,a.EVENT.META_DATA]},function(b){var d,e,f,g,h,i=[];for(c.trace("%s: ERRORS/NO_ERRORS/WARNINGS/NO_WARNINGS/META_DATA notification received",w,b),d=0;d<b.length;d++)i.push(b[d].component);for(f=n(b[0].properties,[a.EVENT.ERRORS,a.EVENT.NO_ERRORS,a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS,a.EVENT.META_DATA]),e=0;e<f.length;e++)g=b[0].component.getProperty(f[e]),h=o(g,i),t.propertyEditor("updateProperty",h)},!0),a.observer(w,{components:d,events:[a.EVENT.DELETE]},function(a){var b,d;for(c.trace("%s: DELETE component notification received",w,a),d=0;d<v.length;d++)for(b=0;b<a.length;b++)if(a[b].component.typeId===v[d].typeId){v.splice(d,1),d-=1;break}r(v)},!0)}var t,u,v=null,w="property_editor",x="a-Property",y=x+"-field",z=y+"--text",A=x+"-fieldContainer",B=x+"-setItemsHeader-header",C=x+"-setItemsTable",D=C+"-removeCol",E=x+"-setItemsHeader-header",F=x+"-setItemsTable",G=F+"-removeCol",H="a-Button",I="a-Property-button",J=H+"--hot",K=H+"--forceWrap",L="linkDlgItemName",M="linkDlgItemValue",N="linkDlgSetItemsRowData",O="linkDlgItemName",P="linkDlgItemValue",Q="linkDlgSetItemsRowData",R="a-Icon",S=R+" icon-remove",T=R+" icon-shuttle-up",U=R+" icon-shuttle-down",V=R+" icon-popup-lov",W=R+" icon-go-to-component",X="u-VisuallyHidden",Y="ui-dialog-flushBody",Z="is-changed",$={CSS:"CSS",JAVASCRIPT:"JAVASCRIPT",HTML:"HTML",COMPONENT:"COMPONENT",LINK:"LINK",ITEM:"ITEM",PAGE:"PAGE",PLSQL:"PLSQL",PLSQL_EXPR_VARCHAR:"PLSQL EXPRESSION VARCHAR2",PLSQL_EXPR_BOOLEAN:"PLSQL EXPRESSION BOOLEAN",PLSQL_FUNC_VARCHAR:"PLSQL FUNCTION BODY VARCHAR2",PLSQL_FUNC_BOOLEAN:"PLSQL FUNCTION BODY BOOLEAN",PLSQL_FUNC_SQL:"PLSQL FUNCTION BODY SQL",SQL:"SQL",SQL_EXPR:"SQL EXPRESSION",SQL_EXPR_BOOLEAN:"SQL EXPRESSION BOOLEAN",SUBSCRIPTION:"SUBSCRIPTION",SUPPORTED_UI:"SUPPORTED UI",OWNER:"OWNER",TABLE:"TABLE",COLUMN:"COLUMN",REGION_COLUMN:"REGION COLUMN",WHERE_CLAUSE:"WHERE CLAUSE",ORDER_BY_CLAUSE:"ORDER BY CLAUSE",ICON:"ICON",LINK_SET_ITEMS:"LINK SET ITEMS",TEXT_EDITOR:"TEXT EDITOR",HIDDEN:"HIDDEN",XML:"XML",TEMPLATE_OPTIONS:"TEMPLATE OPTIONS",TEMPLATE_OPTIONS_GENERAL:"TEMPLATE OPTIONS GENERAL",STATIC_LOV:"STATIC LOV",STATIC_LOV_VALUES:"STATIC LOV VALUES",CHECKBOXES:"CHECKBOXES",POPUP_LOV:"POPUP LOV",RADIOS:"RADIOS",SELECT_LIST:"SELECT LIST"},_=[$.CHECKBOXES,$.COLUMN,$.CSS,$.JAVASCRIPT,$.HIDDEN,$.HTML,$.LINK,$.STATIC_LOV,$.OWNER,$.PLSQL,$.PLSQL_EXPR_VARCHAR,$.PLSQL_EXPR_BOOLEAN,$.PLSQL_FUNC_VARCHAR,$.PLSQL_FUNC_BOOLEAN,$.PLSQL_FUNC_SQL,$.REGION_COLUMN,$.POPUP_LOV,$.RADIOS,$.SQL,$.SQL_EXPR,$.SQL_EXPR_BOOLEAN,$.TABLE,$.TEMPLATE_OPTIONS,$.TEMPLATE_OPTIONS_GENERAL,$.TEXT_EDITOR,$.WHERE_CLAUSE,$.XML,$.HTML],aa="data-property-id",ba={PROP:{TYPE:"linkType",APPLICATION:"linkApp",PAGE:"linkPage",URL:"linkUrl",SET_ITEMS:"linkSetItems",CLEAR_CACHE:"linkClearCache",RESET_PAGINATION:"linkResetPagination",REQUEST:"linkRequest",ANCHOR:"linkAnchor",SUCCESS_MESSAGE:"linkSuccessMessage"},DISPLAY_GROUP:{TARGET:"TARGET",SET_ITEMS:"SET_ITEMS",CLEAR_SESSION:"CLEAR_SESSION_STATE",ADVANCED:"ADVANCED"},TYPES:{PAGE_IN_THIS_APP:"PAGE_IN_THIS_APP",PAGE_IN_DIFF_APP:"PAGE_IN_DIFF_APP",URL:"URL"}},ca={PROP:{VALUES:"staticLovValues",SORT:"staticLovSort"},GROUP:{VALUES:"VALUES"}},da="PE_CODE_EDITOR_DLG_W",ea="PE_CODE_EDITOR_DLG_H",fa={};b.apex.propertyEditor.addPropertyType($.SUPPORTED_UI,{init:function(a,c){var d,f=":not([value='"+e.escapeCSS(a.val())+"'])";this["super"]("init",a,c),d=a.html(),a.find("[data-is-supported=false],[data-is-legacy=true]").filter(f).remove(),a.append(b("<option>").attr("value","$LEGACY_UNSUPPORTED$").text(j("SHOW_LEGACY_UNSUPPORTED"))),a.change(function(){"$LEGACY_UNSUPPORTED$"===a.val()&&a.empty().append(d)})}},b.apex.propertyEditor.PROP_TYPE.SELECT_LIST),b.apex.propertyEditor.addPropertyType($.COMPONENT,{render:function(c,d,e){var f,g=[a.COMP_TYPE.STATIC_LOV,a.COMP_TYPE.LIST,a.COMP_TYPE.BREADCRUMB,a.COMP_TYPE.PAGE_TEMPLATE,a.COMP_TYPE.FIELD_TEMPLATE,a.COMP_TYPE.BUTTON_TEMPLATE,a.COMP_TYPE.REGION_TEMPLATE,a.COMP_TYPE.LIST_TEMPLATE,a.COMP_TYPE.BREADCRUMB_TEMPLATE,a.COMP_TYPE.CALENDAR_TEMPLATE,a.COMP_TYPE.REPORT_TEMPLATE,a.COMP_TYPE.AUTHORIZATION,a.COMP_TYPE.BUILD_OPTION,a.COMP_TYPE.DATA_LOAD_TABLE,a.COMP_TYPE.WS_REF],h=a.getComponentType(e.metaData.lovComponentTypeId);(h.isPageComponent||b.inArray(e.metaData.lovComponentTypeId,g)!==-1)&&(f={icon:W,text:l("GO_TO_COMPONENT",h.title.singular)}),this["super"]("render",c,d,e,f)},init:function(c,d){function e(){""!==c.val()&&/^[-!]?[0-9]*$/.test(c.val())?g.attr("disabled",!1):g.attr("disabled",!0)}var g=b("#"+c.attr("id")+"_btn");this["super"]("init",c,d),g.length>0&&(c.change(e),e(),g.on("click",function(){var b,c=d.value;""!==c&&(d.metaData.lovComponentTypeId!==a.COMP_TYPE.BUILD_OPTION&&d.metaData.lovComponentTypeId!==a.COMP_TYPE.AUTHORIZATION||!/^[-!]/.test(c)||(c=c.substr(1)),b=a.getComponents(d.metaData.lovComponentTypeId,{id:c})[0],f.goToComponent(b.typeId,b.id))}))}},b.apex.propertyEditor.PROP_TYPE.SELECT_LIST),b.apex.propertyEditor.addPropertyType($.LINK,{_getButtonText:function(a){var b,c=j("LINK.NO_LINK_DEFINED");return a&&(a!==t.propertyEditor("getValueVariesConstant")?(b=f.splitApexUrl(a),c=b.display):c=""),c},_getDisplayGroupTarget:function(a){return{displayGroupId:ba.DISPLAY_GROUP.TARGET,displayGroupTitle:j("LINK.DG.TARGET"),properties:a?a:[]}},_getDisplayGroupSetItems:function(a){return{displayGroupId:ba.DISPLAY_GROUP.SET_ITEMS,displayGroupTitle:j("LINK.DG.SET_ITEMS"),properties:a?a:[]}},_getDisplayGroupClearSessionState:function(a){return{displayGroupId:ba.DISPLAY_GROUP.CLEAR_SESSION,displayGroupTitle:j("LINK.DG.CLEAR_SESSION"),properties:a?a:[]}},_getDisplayGroupAdvanced:function(a){var b,c=!0;if(a)for(b=0;b<a.length;b++)if(a[b].value){c=!1;break}return{displayGroupId:ba.DISPLAY_GROUP.ADVANCED,displayGroupTitle:j("LINK.DG.ADVANCED"),collapsed:c,properties:a?a:[]}},_getPropertyLinkType:function(a){return b.extend(!0,{propertyName:ba.PROP.TYPE,value:"",metaData:{type:b.apex.propertyEditor.PROP_TYPE.SELECT_LIST,prompt:j("TYPE"),isRequired:!0,lovValues:[{d:j("LINK.TYPE.PAGE_IN_THIS_APP"),r:ba.TYPES.PAGE_IN_THIS_APP},{d:j("LINK.TYPE.PAGE_IN_DIFF_APP"),r:ba.TYPES.PAGE_IN_DIFF_APP},{d:j("LINK.URL"),r:ba.TYPES.URL}],displayGroupId:ba.DISPLAY_GROUP.TARGET},errors:[],warnings:[]},a)},_getPropertyLinkApp:function(a){return b.extend(!0,{propertyName:ba.PROP.APPLICATION,value:"",metaData:{type:b.apex.propertyEditor.PROP_TYPE.TEXT,prompt:j("APPLICATION"),isRequired:!0,displayGroupId:ba.DISPLAY_GROUP.TARGET},errors:[],warnings:[]},a)},_getPropertyLinkPage:function(a){return b.extend(!0,{propertyName:ba.PROP.PAGE,value:"",metaData:{type:$.PAGE,prompt:j("LINK.PAGE"),isRequired:!0,displayGroupId:ba.DISPLAY_GROUP.TARGET},errors:[],warnings:[]},a)},_getPropertyLinkUrl:function(a){return b.extend(!0,{propertyName:ba.PROP.URL,value:"",metaData:{type:b.apex.propertyEditor.PROP_TYPE.TEXT,prompt:j("LINK.URL"),isRequired:!0,displayGroupId:ba.DISPLAY_GROUP.TARGET},errors:[],warnings:[]},a)},_getPropertyLinkSetItems:function(a,c){return b.extend(!0,{propertyName:ba.PROP.SET_ITEMS,value:{names:[],values:[]},metaData:{type:$.LINK_SET_ITEMS,prompt:j("LINK.DG.SET_ITEMS"),displayGroupId:ba.DISPLAY_GROUP.SET_ITEMS,originalProperty:c},errors:[],warnings:[]},a)},_getPropertyLinkClearCache:function(a){return b.extend(!0,{propertyName:ba.PROP.CLEAR_CACHE,value:"",metaData:{prompt:j("LINK.CLEAR_CACHE"),type:$.PAGE,multiValueDelimiter:",",displayGroupId:ba.DISPLAY_GROUP.CLEAR_SESSION},errors:[],warnings:[]},a)},_getPropertyLinkResetPagination:function(a){return b.extend(!0,{propertyName:ba.PROP.RESET_PAGINATION,value:"Y",metaData:{prompt:j("LINK.RESET_PAGINATION"),type:b.apex.propertyEditor.PROP_TYPE.YES_NO,noValue:"N",yesValue:"Y",displayGroupId:ba.DISPLAY_GROUP.CLEAR_SESSION,isRequired:!0},errors:[],warnings:[]},a)},_getPropertyLinkRequest:function(a){return b.extend(!0,{propertyName:ba.PROP.REQUEST,value:"",metaData:{type:b.apex.propertyEditor.PROP_TYPE.TEXT,prompt:j("LINK.REQUEST"),displayGroupId:ba.DISPLAY_GROUP.ADVANCED},errors:[],warnings:[]},a)},_getPropertyLinkAnchor:function(a){return b.extend(!0,{propertyName:ba.PROP.ANCHOR,value:"",metaData:{type:b.apex.propertyEditor.PROP_TYPE.TEXT,prompt:j("LINK.ANCHOR"),displayGroupId:ba.DISPLAY_GROUP.ADVANCED},errors:[],warnings:[]},a)},_getPropertyLinkSuccessMessage:function(a){return b.extend(!0,{propertyName:ba.PROP.SUCCESS_MESSAGE,value:"Y",metaData:{prompt:j("LINK.SUCCESS_MESSAGE"),type:b.apex.propertyEditor.PROP_TYPE.YES_NO,noValue:"N",yesValue:"Y",displayGroupId:ba.DISPLAY_GROUP.ADVANCED,isRequired:!0},errors:[],warnings:[]},a)},noLabel:!0,render:function(a,b,c){var d=b+"_label";this.renderDivOpen(a,{"class":A}),a.markup("<button").attr("type","button").attr("id",b).attr("aria-describedby",d).attr("class",H+" "+I+" "+K).attr(aa,c.propertyName).attr("value",c.value).markup(">").content(this._getButtonText(c.value)).markup("</button>"),this.renderDivClose(a)},setValue:function(a,b,c){var d;this["super"]("setValue",a,b,c),d=this._getButtonText(c),a.html(d).attr("title",d)},init:function(c,g){var h,i,k=[],m=this,n=a.getComponentType(v[0].typeId).id,o=[a.COMP_TYPE.IR_ATTRIBUTES,a.COMP_TYPE.IR_COLUMN,a.COMP_TYPE.CLASSIC_RPT_COLUMN,a.COMP_TYPE.TAB_FORM_COLUMN,a.COMP_TYPE.CHART_SERIES,a.COMP_TYPE.MAP_CHART_SERIES];if(this.addLabelClickHandler(c,g),this.addTooltipsForErrors(c,g),b.inArray(n,o)>-1)for(i=a.getItemsLov({type:"columns",component:v[0]}),h=0;h<i.length;h++)k.push(i[h].name);c.closest("div."+x).on("click","#"+c.attr("id"),function(){function h(a){var b,c,d;for(b=0;b<q.length;b++)for(c=0;c<q[b].properties.length;c++)if(q[b].properties[c].propertyName===a){d=q[b].properties[c];break}return d}var i,n,o=e.htmlBuilder(),p=f.splitApexUrl(c.val(),null,k),q=[],r=!1,s=!1,u=g.metaData.isRequired,w=g.metaData.isReadOnly;switch(a.getComponentType(v[0].typeId).id){case a.COMP_TYPE.BRANCH:r=!0;break;case a.COMP_TYPE.BUTTON:s=!0}if(s)switch(t.propertyEditor("getPropertyValue",a.PROP.BUTTON_ACTION)){case"REDIRECT_URL":n=f.LINK_TYPE.URL;break;case"REDIRECT_PAGE":n=f.LINK_TYPE.PAGE_IN_THIS_APP;break;case"REDIRECT_APP":n=f.LINK_TYPE.PAGE_IN_DIFF_APP}else n=p.type;q.push(m._getDisplayGroupTarget([m._getPropertyLinkType({value:n,metaData:{isReadOnly:w||s,isRequired:u}}),m._getPropertyLinkApp({value:n===f.LINK_TYPE.PAGE_IN_DIFF_APP?p.appId:"",metaData:{isReadOnly:g.metaData.isReadOnly}}),m._getPropertyLinkPage({value:p.pageId,metaData:{isReadOnly:g.metaData.isReadOnly}}),m._getPropertyLinkUrl({value:p.url,metaData:{isReadOnly:g.metaData.isReadOnly}})])),q.push(m._getDisplayGroupSetItems([m._getPropertyLinkSetItems({value:{names:p.itemNames,values:p.itemValues},metaData:{isReadOnly:g.metaData.isReadOnly}},g)])),q.push(m._getDisplayGroupClearSessionState([m._getPropertyLinkClearCache({value:p.clearCache,metaData:{isReadOnly:g.metaData.isReadOnly}}),m._getPropertyLinkResetPagination({value:p.resetPagination,metaData:{isReadOnly:g.metaData.isReadOnly}})]));var x=[];x.push(m._getPropertyLinkRequest({value:p.request,metaData:{isReadOnly:g.metaData.isReadOnly}})),x.push(m._getPropertyLinkAnchor({value:p.anchor,metaData:{isReadOnly:g.metaData.isReadOnly}})),r&&x.push(m._getPropertyLinkSuccessMessage({value:p.successMessage,metaData:{isReadOnly:g.metaData.isReadOnly}})),q.push(m._getDisplayGroupAdvanced(x)),o.markup("<div").attr("id","linkDlg").attr("title",l("LINK.TITLE",g.metaData.prompt)).markup(">").markup("<div").attr("id","linkDlgPE").markup(">").markup("</div>").markup("</div>"),i=b(o.toString()).dialog({modal:!0,closeText:d.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:520,dialogClass:Y,close:function(){b("#linkDlgPE").propertyEditor("destroy"),i.dialog("destroy")},open:function(){function a(a){var b={metaData:{isReadOnly:g.metaData.isReadOnly}};switch(a){case ba.TYPES.PAGE_IN_THIS_APP:c.propertyEditor("removeProperty",ba.PROP.URL),c.propertyEditor("removeProperty",ba.PROP.APPLICATION),c.propertyEditor("addProperty",{property:m._getPropertyLinkPage(b),prevPropertyName:ba.PROP.TYPE,displayGroup:m._getDisplayGroupTarget()}),c.propertyEditor("addProperty",{property:m._getPropertyLinkSetItems(b,g),displayGroup:m._getDisplayGroupSetItems(),prevDisplayGroupId:ba.DISPLAY_GROUP.TARGET}),c.propertyEditor("addProperty",{property:m._getPropertyLinkClearCache(b),displayGroup:m._getDisplayGroupClearSessionState(),prevDisplayGroupId:ba.DISPLAY_GROUP.SET_ITEMS}),c.propertyEditor("addProperty",{property:m._getPropertyLinkResetPagination(b),prevPropertyName:ba.PROP.CLEAR_CACHE,displayGroup:m._getDisplayGroupClearSessionState(),prevDisplayGroupId:ba.DISPLAY_GROUP.SET_ITEMS}),c.propertyEditor("addProperty",{property:m._getPropertyLinkRequest(b),displayGroup:m._getDisplayGroupAdvanced(),prevDisplayGroupId:ba.DISPLAY_GROUP.CLEAR_SESSION}),c.propertyEditor("addProperty",{property:m._getPropertyLinkAnchor(b),displayGroup:m._getDisplayGroupAdvanced(),prevDisplayGroupId:ba.DISPLAY_GROUP.CLEAR_SESSION}),r&&c.propertyEditor("addProperty",{property:m._getPropertyLinkSuccessMessage(b),prevPropertyName:ba.PROP.RESET_PAGINATION,displayGroup:m._getDisplayGroupAdvanced(),prevDisplayGroupId:ba.DISPLAY_GROUP.CLEAR_SESSION});break;case ba.TYPES.PAGE_IN_DIFF_APP:c.propertyEditor("removeProperty",ba.PROP.URL),c.propertyEditor("addProperty",{property:m._getPropertyLinkApp(b),prevPropertyName:ba.PROP.TYPE,displayGroup:m._getDisplayGroupTarget()}),c.propertyEditor("addProperty",{property:m._getPropertyLinkPage(b),prevPropertyName:ba.PROP.APPLICATION,displayGroup:m._getDisplayGroupTarget()}),c.propertyEditor("addProperty",{property:m._getPropertyLinkSetItems(b,g),displayGroup:m._getDisplayGroupSetItems(),prevDisplayGroupId:ba.DISPLAY_GROUP.TARGET}),c.propertyEditor("addProperty",{property:m._getPropertyLinkClearCache(b),displayGroup:m._getDisplayGroupClearSessionState(),prevDisplayGroupId:ba.DISPLAY_GROUP.SET_ITEMS}),c.propertyEditor("addProperty",{property:m._getPropertyLinkResetPagination(b),prevPropertyName:ba.PROP.CLEAR_CACHE,displayGroup:m._getDisplayGroupClearSessionState(),prevDisplayGroupId:ba.DISPLAY_GROUP.SET_ITEMS}),c.propertyEditor("addProperty",{property:m._getPropertyLinkRequest(b),displayGroup:m._getDisplayGroupAdvanced(),prevDisplayGroupId:ba.DISPLAY_GROUP.CLEAR_SESSION}),c.propertyEditor("addProperty",{property:m._getPropertyLinkAnchor(b),displayGroup:m._getDisplayGroupAdvanced(),prevDisplayGroupId:ba.DISPLAY_GROUP.CLEAR_SESSION}),r&&c.propertyEditor("addProperty",{property:m._getPropertyLinkSuccessMessage(b),prevPropertyName:ba.PROP.RESET_PAGINATION,displayGroup:m._getDisplayGroupAdvanced(),prevDisplayGroupId:ba.DISPLAY_GROUP.CLEAR_SESSION});break;case ba.TYPES.URL:c.propertyEditor("removeProperty",ba.PROP.APPLICATION),c.propertyEditor("removeProperty",ba.PROP.PAGE),c.propertyEditor("removeProperty",ba.PROP.SET_ITEMS),c.propertyEditor("removeProperty",ba.PROP.REQUEST),c.propertyEditor("removeProperty",ba.PROP.ANCHOR),c.propertyEditor("removeProperty",ba.PROP.CLEAR_CACHE),c.propertyEditor("removeProperty",ba.PROP.RESET_PAGINATION),c.propertyEditor("removeProperty",ba.PROP.SUCCESS_MESSAGE),c.propertyEditor("addProperty",{property:m._getPropertyLinkUrl(b),prevPropertyName:ba.PROP.TYPE,displayGroup:m._getDisplayGroupTarget()});break;default:c.propertyEditor("removeProperty",ba.PROP.APPLICATION),c.propertyEditor("removeProperty",ba.PROP.PAGE),c.propertyEditor("removeProperty",ba.PROP.SET_ITEMS),c.propertyEditor("removeProperty",ba.PROP.REQUEST),c.propertyEditor("removeProperty",ba.PROP.ANCHOR),c.propertyEditor("removeProperty",ba.PROP.CLEAR_CACHE),c.propertyEditor("removeProperty",ba.PROP.RESET_PAGINATION),c.propertyEditor("removeProperty",ba.PROP.SUCCESS_MESSAGE),c.propertyEditor("removeProperty",ba.PROP.URL)}}var c=b("#linkDlgPE");c.propertyEditor({focusPropertyName:ba.PROP.TYPE,data:{propertySet:q,multiEdit:!1},change:function(b,c){c.propertyName===ba.PROP.TYPE&&a(h(ba.PROP.TYPE).value),h(c.propertyName).value=c.property.value}}),a(h(ba.PROP.TYPE).value),b("#linkDlg").dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:j("CANCEL"),click:function(){i.dialog("close")}},{text:j("CLEAR"),disabled:u||w,click:function(){b("#linkDlgPE").propertyEditor("updatePropertyValue",ba.PROP.TYPE,""),m.setValue(c,g,""),c.trigger("change"),m.setFocus(c),i.dialog("close")}},{text:j("OK"),"class":J,disabled:w,click:function(){function a(a,b){var c="";return c="Y"===a?""===b?"RP":"RP,"+b:b}function d(a,b){var c=h(a);return c.errors.push(b),c}var e,f,k=[];if(e=h(ba.PROP.TYPE).value,e===ba.TYPES.PAGE_IN_THIS_APP||e===ba.TYPES.PAGE_IN_DIFF_APP?(e===ba.TYPES.PAGE_IN_DIFF_APP&&""===h(ba.PROP.APPLICATION).value&&k.push(d(ba.PROP.APPLICATION,j("IS_REQUIRED"))),""===h(ba.PROP.PAGE).value&&k.push(d(ba.PROP.PAGE,j("IS_REQUIRED"))),0===k.length&&(f="f?p="+(e===ba.TYPES.PAGE_IN_THIS_APP?"&APP_ID.":h(ba.PROP.APPLICATION).value)+":"+h(ba.PROP.PAGE).value+":&SESSION.:"+h(ba.PROP.REQUEST).value+":&DEBUG.:"+a(h(ba.PROP.RESET_PAGINATION).value,h(ba.PROP.CLEAR_CACHE).value)+":"+(h(ba.PROP.SET_ITEMS).value.names||[]).join(",")+":"+(h(ba.PROP.SET_ITEMS).value.values||[]).join(","),h(ba.PROP.ANCHOR).value&&(f+="#"+h(ba.PROP.ANCHOR).value),r&&"Y"===h(ba.PROP.SUCCESS_MESSAGE).value&&(f+="&success_msg=#SUCCESS_MSG#"))):e===ba.TYPES.URL&&(""===h(ba.PROP.URL).value&&k.push(d(ba.PROP.URL,j("IS_REQUIRED"))),0===k.length&&(f=h(ba.PROP.URL).value)),0===k.length)m.setValue(c,g,f),c.trigger("change"),m.setFocus(c),i.dialog("close");else for(var l=0;l<k.length;l++)b("#linkDlgPE").propertyEditor("updateProperty",k[l])}}]})})}}),b.apex.propertyEditor.addPropertyType($.LINK_SET_ITEMS,{stacked:!0,noLabel:!0,labelVisible:!1,minHeight:85,maxHeight:122,render:function(a,b,c){var d=b+"_label";a.markup("<div").attr("id",b).attr("class",A).attr("aria-labelledby",d).attr("role","group").attr(aa,c.propertyName).markup(">"),a.markup("<table").attr("class",C).markup(">").markup("<caption").attr("class",X).markup(">").content(j("LINK.DG.SET_ITEMS")).markup("</caption>").markup("<tr>").markup("<th").attr("scope","col").attr("class",B).markup(">").content(j("NAME")).markup("</th>").markup("<th").attr("scope","col").attr("class",X).markup(">").content(j("LINK.NAME_LIST_OF_VALUES")).markup(">").markup("</th>").markup("<th").attr("scope","col").attr("class",B).markup(">").content(j("LINK.VALUE")).markup("</th>").markup("<th").attr("scope","col").attr("class",X).markup(">").content(j("LINK.VALUE_LIST_OF_VALUES")).markup(">").markup("</th>").markup("<th").attr("class",X).markup(">").content(j("LINK.REMOVE")).markup("</th>").markup("</tr>");for(var e=0;e<c.value.names.length;e++)this._renderLinkItemsRow(a,{rowId:e+1,idPrefix:b,name:c.value.names[e],value:c.value.values[e],readOnly:c.metaData.isReadOnly});c.metaData.isReadOnly||this._renderLinkItemsRow(a,{rowId:c.value.names.length+1,idPrefix:b}),a.markup("</table>"),this.renderDivClose(a)},init:function(c,d){function f(a){var c,d=e.htmlBuilder(),f=g.filters;d.markup("<div").attr("id","lovDlg").attr("title",g.dialogTitle).markup(">").markup("</div>"),c=b(d.toString()).lovDialog({modal:!0,minWidth:520,height:500,filters:f,columnDefinitions:g.columnDefinitions,filterLov:g.filterLov,dialogClass:Y,resizable:!1,multiValue:g.multiValue,valueSelected:function(c,d){var e=d[g.columnDefinitions[0].name],f=b("#"+a);d.valueFormatting&&b.isFunction(d.valueFormatting)&&(e=d.valueFormatting(e)),f.val(e).trigger("change")}})}var g={columnDefinitions:[{name:"name",title:j("NAME"),alignment:"left"},{name:"label",title:j("LABEL"),alignment:"left"}],filterLov:function(c,d){var e,f="page";switch(c.scope){case"application":f="application",e="";break;case"current_page":e=a.getCurrentPageId();break;case"global_page":e=a.getGlobalPageId();break;case"target_page":e=b("#linkDlg").find("[data-property-id="+ba.PROP.PAGE+"]").val();break;case"custom_page":e=c.customPageNumber;break;case"columns":f="columns"}a.getItemsLov({type:f,component:v[0],pageId:e},function(a){d(a,c.search)})},multiValue:!1,dialogTitle:l("PICK",d.metaData.prompt)},h=this,i=c.closest("div."+x),m=c.attr("id");d.metaData.isReadOnly||i.on("change","input."+L+":last",function(){var a=e.htmlBuilder(),c=e.htmlBuilder(),d=b(this);if(d.val()){var f=b("input."+L).length;h._renderLinkItemsRow(a,{rowId:f+1,idPrefix:m}),h.renderIconButton(c,{id:m+"_rowRemove_"+f,icon:S,text:k("LINK.REMOVE_ITEM_N",f)}),d.closest("tr").find("td:last").html(c.toString()).end().after(a.toString())}}).on("click","button[id^="+m+"_rowRemove_]",function(){var a=b(this).closest("tr").next("tr").find(":input:first");b(this).closest("tr").remove(),a.trigger("change").focus()}).on("click","button[id^="+m+"_nameLovBtn_]",function(){g.filters=[{name:"scope",title:j("ITEM_SCOPE"),type:"buttonset",defaultValue:"target_page",lov:[{display:j("TARGET_PAGE"),value:"target_page"},{display:j("CURRENT_PAGE"),value:"current_page"},{display:j("CUSTOM_PAGE"),value:"custom_page",filters:[{name:"customPageNumber",title:j("PAGE_NUMBER"),type:"text",isRequired:!0}]},{display:j("GLOBAL_PAGE"),value:"global_page"},{display:j("APPLICATION"),value:"application"}]},{name:"search",title:j("SEARCH"),type:"search"}],f(b(this).data("for"))}).on("click","button[id^="+m+"_valueLovBtn_]",function(){function c(b){return"&"+a.enquoteIdentifier(b)+"."}var e,h,i,k=d.metaData.originalProperty;for(g.filters=[{name:"scope",title:j("ITEM_SCOPE"),type:"buttonset",defaultValue:"current_page",lov:[{display:j("TARGET_PAGE"),value:"target_page",valueFormatting:function(a){return c(a)}},{display:j("CURRENT_PAGE"),value:"current_page",valueFormatting:function(a){return c(a)}},{display:j("CUSTOM_PAGE"),value:"custom_page",valueFormatting:function(a){return c(a)},filters:[{name:"customPageNumber",title:j("PAGE_NUMBER"),type:"text",isRequired:!0}]},{display:j("GLOBAL_PAGE"),value:"global_page",valueFormatting:function(a){return c(a)}},{display:j("APPLICATION"),value:"application",valueFormatting:function(a){return c(a)}}]},{name:"search",title:j("SEARCH"),type:"search"}],e=0;e<g.filters.length;e++)if(i=g.filters[e],"scope"===i.name&&"ROW"===k.metaData.referenceScope)for(i.defaultValue="columns",h=0;h<i.lov.length;h++)if("target_page"===i.lov[h].value){i.lov[h]={display:j("COLUMNS"),value:"columns",valueFormatting:function(d){var e,f,g=[a.COMP_TYPE.IR_ATTRIBUTES,a.COMP_TYPE.IR_COLUMN,a.COMP_TYPE.CLASSIC_RPT_COLUMN,a.COMP_TYPE.TAB_FORM_COLUMN,a.COMP_TYPE.CHART_SERIES,a.COMP_TYPE.MAP_CHART_SERIES];return f=a.getComponentType(v[0].typeId).id,e=b.inArray(f,g)!==-1?"#"+d+"#":c(d)}};break}f(b(this).data("for"))}),this.addLabelClickHandler(c,d)},setFocus:function(a){a.find(":input:first").focus()},getValue:function(a){var c,d,e=[],f=[];return a.find("tr."+N).each(function(){c=b(this).find(":input."+L),d=b(this).find(":input."+M),""!==c.val()&&(e.push(c.val()),f.push(d.val()))}),{names:e,values:f}},_renderLinkItemsRow:function(a,c){var d,e,f=b.extend({rowId:"",idPrefix:"",name:"",value:"",readOnly:!1},c);d=f.idPrefix+"_name_"+f.rowId,e=f.idPrefix+"_value_"+f.rowId,a.markup("<tr").attr("class",N).markup(">"),a.markup("<td>"),this.renderBaseInput(a,{id:d,value:f.name,inputClass:[L,y,z],readonly:f.readOnly,attributes:{"aria-label":k("LINK.ITEM_N_NAME",f.rowId)}}),a.markup("</td>"),a.markup("<td>"),this.renderIconButton(a,{id:f.idPrefix+"_nameLovBtn_"+f.rowId,icon:V,text:k("LINK.ITEM_N_NAME_LOV",f.rowId),dataFor:d,disabled:f.readOnly}),a.markup("</td>"),a.markup("<td>"),this.renderBaseInput(a,{id:e,value:f.value,inputClass:[M,y,z],readonly:f.readOnly,attributes:{"aria-label":k("LINK.ITEM_N_VALUE",f.rowId)}}),a.markup("</td>"),a.markup("<td>"),this.renderIconButton(a,{id:f.idPrefix+"_valueLovBtn_"+f.rowId,icon:V,text:k("LINK.ITEM_N_VALUE_LOV",f.rowId),dataFor:e,disabled:f.readOnly}),a.markup("</td>"),a.markup("<td").attr("class",D).markup(">"),f.name&&this.renderIconButton(a,{id:f.idPrefix+"_rowRemove_"+f.rowId,icon:S,text:k("LINK.REMOVE_ITEM_N",f.rowId),disabled:f.readOnly}),a.markup("</td>"),a.markup("</tr>")}});var ga,ha,ia,ja=40,ka="CODE_EDITOR_SETTINGS",la=-1;b.apex.propertyEditor.addPropertyType($.TEXT_EDITOR,{render:function(a,b,c){this["super"]("render",a,b,c,!0)},init:function(i,k){var m,n=this,o=b("#"+i.attr("id")+"_modalBtn");this["super"]("init",i,k),o.on("click",function(){function o(){la=r.codeEditor("changeGeneration"),c.trace("Editor: update change generation: "+la)}function p(){return!r.codeEditor("isClean",la)}var q,r,s,t,u,w,x="text",y=!1,z=[],A=v[0].getProperty(k.propertyName),B=e.htmlBuilder();switch(k.metaData.type){case a.PROP_TYPE.CSS:x="css";break;case a.PROP_TYPE.HTML:x="html";break;case a.PROP_TYPE.JAVASCRIPT:x="javascript";break;case a.PROP_TYPE.XML:x="xml";break;case a.PROP_TYPE.SQL:case a.PROP_TYPE.SQL_EXPR:case a.PROP_TYPE.SQL_EXPR_BOOLEAN:case a.PROP_TYPE.WHERE_CLAUSE:case a.PROP_TYPE.PLSQL:case a.PROP_TYPE.PLSQL_EXPR_VARCHAR:case a.PROP_TYPE.PLSQL_EXPR_BOOLEAN:case a.PROP_TYPE.PLSQL_FUNC_VARCHAR:case a.PROP_TYPE.PLSQL_FUNC_SQL:case a.PROP_TYPE.PLSQL_FUNC_BOOLEAN:x="x-plsql"}z.push({text:j("CANCEL"),click:function(){q.dialog("close")}}),k.metaData.type===a.PROP_TYPE.SQL&&(w=function(b,c){g.popup({url:e.makeApplicationUrl({appId:4500,pageId:1002,clearCache:1002,itemNames:["P1002_RETURN_INTO","P1002_POPUP","P1002_SCHEMA"],itemValues:[b.baseId,"1",a.getParsingSchema()]}),width:950,height:720})}),"x-plsql"!==x||k.metaData.isReadOnly||(u=function(a,b){var c=A.validate(a);b(c)}),z.push({text:j("OK"),"class":J,click:function(){n["super"]("setValue",i,k,r.codeEditor("getValue")),i.trigger("change"),o(),n["super"]("setFocus",i),q.dialog("close")}}),B.markup("<div").attr("id","editorDlg").attr("title",l("CODE_EDITOR.TITLE",k.metaData.prompt)).markup(">").markup("<div").attr("id","editorDlg-codeEditor").markup("class='resize'>").markup("</div>").markup("</div>"),t=ga,s=ha,t>b(window).width()-ja&&(t=b(window).width()-ja),s>b(window).height()-ja&&(s=b(window).height()-ja),q=b(B.toString()).dialog({modal:!0,closeText:d.getMessage("APEX.DIALOG.CLOSE"),width:t,height:s,minWidth:680,minHeight:400,beforeClose:function(a){var b=!0;p()&&(b=confirm(j("EDITOR.UNSAVED_CHANGES"))),b||a.preventDefault()},close:function(){var a=q.closest(".ui-dialog");y&&(ia=r.codeEditor("getSettingsString"),window.gPreferences[ka]=ia,h.process("setPreference",{x01:ka,x02:ia},{dataType:""})),ga!==a.outerWidth()&&(ga=a.outerWidth(),f.savePreference(da,ga)),ha!==a.outerHeight()&&(ha=a.outerHeight(),f.savePreference(ea,ha)),q.dialog("destroy").remove()},open:function(){r=b("#editorDlg-codeEditor").codeEditor(b.extend({mode:"text/"+x,autofocus:!0,
readOnly:k.metaData.isReadOnly,errors:A.errors,warnings:A.warnings,value:n["super"]("getValue",m),codeComplete:function(a,b){h.process("getCodeCompleteList",{p_widget_name:a.type,x01:a.search,x02:a.parent,x03:a.grantParent},{success:b})},validateCode:u,queryBuilder:w,settingsChanged:function(){y=!0}},b.apex.codeEditor.optionsFromSettingsString(ia))),r.height(b(this).height()).width(b(this).closest(".ui-dialog").width()-2).trigger("resize"),o()},resizeStop:function(a,b){r.height(q.height()).width(b.size.width-2).trigger("resize")},buttons:z})}),m=i.closest("div."+x)}},b.apex.propertyEditor.PROP_TYPE.TEXTAREA),b.apex.propertyEditor.addPropertyType($.ITEM,{init:function(c,d){var e,f,g,h,i={columnDefinitions:[{name:"name",title:j("NAME"),alignment:"left"},{name:"label",title:j("LABEL"),alignment:"left"}],filters:[{name:"scope",title:j("ITEM_SCOPE"),type:"buttonset",defaultValue:"current_page",lov:[{display:j("COLUMNS"),value:"column"},{display:j("CURRENT_PAGE"),value:"current_page"},{display:j("CUSTOM_PAGE"),value:"custom_page",filters:[{name:"customPageNumber",title:j("PAGE_NUMBER"),type:"text",isRequired:!0}]},{display:j("GLOBAL_PAGE"),value:"global_page"},{display:j("APPLICATION"),value:"application"}]},{name:"search",title:j("SEARCH"),type:"search"}],filterLov:function(b,c){var e,f="page";switch(b.scope){case"application":f="application",e="";break;case"current_page":e=a.getCurrentPageId();break;case"global_page":e=a.getGlobalPageId();break;case"custom_page":e=b.customPageNumber}void 0===b.scope||"column"===b.scope?c(d.metaData.lovValues(),b.search):a.getItemsLov({type:f,pageId:e},function(a){c(a,b.search)})}};if("PAGE_AND_GLOBAL"===d.metaData.lovComponentScope)for(g=i.filters,e=0;e<g.length;e++)if("scope"===g[e].name)for(h=g[e].lov,f=0;f<h.length;f++)b.inArray(h[f].value,["application","custom_page"])>-1&&(h.splice(f,1),f-=1);if("PAGE"===d.metaData.lovComponentScope)for(g=i.filters,e=0;e<g.length;e++)if("scope"===g[e].name)for(h=g[e].lov,f=0;f<h.length;f++)b.inArray(h[f].value,["application","custom_page","global_page"])>-1&&(h.splice(f,1),f-=1);if("COLUMN"===d.metaData.lovComponentScope){for(g=i.filters,e=0;e<g.length;e++)if("scope"===g[e].name){g.splice(e,1);break}}else if("ROW"===d.metaData.referenceScope){for(g=i.filters,e=0;e<g.length;e++)if("scope"===g[e].name){g[e].defaultValue="column";break}}else for(g=i.filters,e=0;e<g.length;e++)if("scope"===g[e].name)for(h=g[e].lov,f=0;f<h.length;f++)if("column"===h[f].value){h.splice(f,1);break}this["super"]("init",c,d,i)}},b.apex.propertyEditor.PROP_TYPE.COMBOBOX),b.apex.propertyEditor.addPropertyType($.PAGE,{init:function(b,c){var d={columnDefinitions:[{name:"id",title:j("PAGE_NUMBER"),alignment:"left"},{name:"name",title:j("PAGE_NAME"),alignment:"left"},{name:"userInterface",title:j("USER_INTERFACE"),alignment:"left"}],filters:[{name:"userInterfaceId",title:j("USER_INTERFACE"),type:"buttonset",defaultValue:"current_ui",lov:[{display:j("CURRENT_UI"),value:"current_ui"},{display:j("ALL_PAGES"),value:"all"}]},{name:"search",title:j("SEARCH"),type:"search"}],filterLov:function(b,c){a.getPagesLov(b,function(d){var e,f,g=[];if("all"===b.userInterfaceId)c(d,b.search);else{for(f=a.getComponents(a.COMP_TYPE.PAGE,{id:a.getCurrentPageId()})[0].getProperty(a.PROP.USER_INTERFACE).getValue(),e=0;e<d.length;e++)d[e].userInterfaceId===f&&g.push(d[e]);c(g,b.search)}})}};this["super"]("init",b,c,d)}},b.apex.propertyEditor.PROP_TYPE.COMBOBOX),b.apex.propertyEditor.addPropertyType($.TABLE,{init:function(a,b){var c={columnDefinitions:[{name:"name",title:j("NAME"),alignment:"left"},{name:"comment",title:j("COMMENT"),alignment:"left"}],filters:[{name:"type",title:j("TYPE"),type:"buttonset",defaultValue:"TABLE",lov:[{display:j("TABLES"),value:"TABLE"},{display:j("VIEWS"),value:"VIEW"}]},{name:"search",title:j("SEARCH"),type:"search"}],filterLov:function(a,c){b.metaData.lovValues(function(b){c(b,a.search)},a)}};this["super"]("init",a,b,c)}},b.apex.propertyEditor.PROP_TYPE.COMBOBOX),b.apex.propertyEditor.addPropertyType($.ICON,{init:function(c,d){var f,g,h,i,k,l="2.1",m=function(a){return"FONTAPEX"===a||"FONTAPEX_LATEST"===a},n=function(a){return"FONTAWESOME"===a},o=a.getThemeIcons(),p={ACCESSIBILITY:"fa-american-sign-language-interpreting,fa-asl-interpreting,fa-assistive-listening-systems,fa-audio-description,fa-blind,fa-braille,fa-deaf,fa-deafness,fa-hard-of-hearing,fa-low-vision,fa-sign-language,fa-signing,fa-universal-access,fa-volume-control-phone,fa-wheelchair-alt".split(","),CALENDAR:"fa-calendar-alarm,fa-calendar-arrow-down,fa-calendar-arrow-up,fa-calendar-ban,fa-calendar-chart,fa-calendar-clock,fa-calendar-edit,fa-calendar-heart,fa-calendar-lock,fa-calendar-pointer,fa-calendar-search,fa-calendar-user,fa-calendar-wrench".split(","),CHART:"fa-area-chart,fa-bar-chart,fa-bar-chart-horizontal,fa-box-plot-chart,fa-bubble-chart,fa-combo-chart,fa-dial-gauge-chart,fa-donut-chart,fa-funnel-chart,fa-gantt-chart,fa-line-area-chart,fa-line-chart,fa-pie-chart,fa-pie-chart-0,fa-pie-chart-10,fa-pie-chart-100,fa-pie-chart-15,fa-pie-chart-20,fa-pie-chart-25,fa-pie-chart-30,fa-pie-chart-35,fa-pie-chart-40,fa-pie-chart-45,fa-pie-chart-5,fa-pie-chart-50,fa-pie-chart-55,fa-pie-chart-60,fa-pie-chart-65,fa-pie-chart-70,fa-pie-chart-75,fa-pie-chart-80,fa-pie-chart-85,fa-pie-chart-90,fa-pie-chart-95,fa-polar-chart,fa-pyramid-chart,fa-radar-chart,fa-range-chart-area,fa-range-chart-bar,fa-scatter-chart,fa-stock-chart,fa-x-axis,fa-y-axis,fa-y1-axis,fa-y2-axis".split(","),CURRENCY:"fa-bitcoin,fa-btc,fa-cny,fa-dollar,fa-eur,fa-euro,fa-gbp,fa-ils,fa-inr,fa-jpy,fa-krw,fa-money,fa-rmb,fa-rub,fa-try,fa-usd,fa-yen".split(","),DIRECTIONAL:"fa-angle-double-down,fa-angle-double-left,fa-angle-double-right,fa-angle-double-up,fa-angle-down,fa-angle-left,fa-angle-right,fa-angle-up,fa-arrow-circle-down,fa-arrow-circle-left,fa-arrow-circle-o-down,fa-arrow-circle-o-left,fa-arrow-circle-o-right,fa-arrow-circle-o-up,fa-arrow-circle-right,fa-arrow-circle-up,fa-arrow-down,fa-arrow-down-alt,fa-arrow-down-left-alt,fa-arrow-down-right-alt,fa-arrow-left,fa-arrow-left-alt,fa-arrow-right,fa-arrow-right-alt,fa-arrow-up,fa-arrow-up-alt,fa-arrow-up-left-alt,fa-arrow-up-right-alt,fa-arrows,fa-arrows-alt,fa-arrows-h,fa-arrows-v,fa-box-arrow-in-east,fa-box-arrow-in-ne,fa-box-arrow-in-north,fa-box-arrow-in-nw,fa-box-arrow-in-se,fa-box-arrow-in-south,fa-box-arrow-in-sw,fa-box-arrow-in-west,fa-box-arrow-out-east,fa-box-arrow-out-ne,fa-box-arrow-out-north,fa-box-arrow-out-nw,fa-box-arrow-out-se,fa-box-arrow-out-south,fa-box-arrow-out-sw,fa-box-arrow-out-west,fa-caret-down,fa-caret-left,fa-caret-right,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-caret-up,fa-chevron-circle-down,fa-chevron-circle-left,fa-chevron-circle-right,fa-chevron-circle-up,fa-chevron-down,fa-chevron-left,fa-chevron-right,fa-chevron-up,fa-circle-arrow-in-east,fa-circle-arrow-in-ne,fa-circle-arrow-in-north,fa-circle-arrow-in-nw,fa-circle-arrow-in-se,fa-circle-arrow-in-south,fa-circle-arrow-in-sw,fa-circle-arrow-in-west,fa-circle-arrow-out-east,fa-circle-arrow-out-ne,fa-circle-arrow-out-north,fa-circle-arrow-out-nw,fa-circle-arrow-out-se,fa-circle-arrow-out-south,fa-circle-arrow-out-sw,fa-circle-arrow-out-west,fa-exchange,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-long-arrow-down,fa-long-arrow-left,fa-long-arrow-right,fa-long-arrow-up,fa-page-bottom,fa-page-first,fa-page-last,fa-page-top".split(","),EMOJI:"fa-awesome-face,fa-emoji-angry,fa-emoji-astonished,fa-emoji-big-eyes-smile,fa-emoji-big-frown,fa-emoji-cold-sweat,fa-emoji-confounded,fa-emoji-confused,fa-emoji-cool,fa-emoji-cringe,fa-emoji-cry,fa-emoji-delicious,fa-emoji-disappointed,fa-emoji-disappointed-relieved,fa-emoji-expressionless,fa-emoji-fearful,fa-emoji-frown,fa-emoji-grimace,fa-emoji-grin-sweat,fa-emoji-happy-smile,fa-emoji-hushed,fa-emoji-laughing,fa-emoji-lol,fa-emoji-love,fa-emoji-mean,fa-emoji-nerd,fa-emoji-neutral,fa-emoji-no-mouth,fa-emoji-open-mouth,fa-emoji-pensive,fa-emoji-persevere,fa-emoji-pleased,fa-emoji-relieved,fa-emoji-rotfl,fa-emoji-scream,fa-emoji-sleeping,fa-emoji-sleepy,fa-emoji-slight-frown,fa-emoji-slight-smile,fa-emoji-smile,fa-emoji-smirk,fa-emoji-stuck-out-tounge,fa-emoji-stuck-out-tounge-closed-eyes,fa-emoji-stuck-out-tounge-wink,fa-emoji-sweet-smile,fa-emoji-tired,fa-emoji-unamused,fa-emoji-upside-down,fa-emoji-weary,fa-emoji-wink,fa-emoji-worry,fa-emoji-zipper-mouth,fa-hipster".split(","),FILE_TYPE:"fa-file,fa-file-archive-o,fa-file-audio-o,fa-file-code-o,fa-file-excel-o,fa-file-image-o,fa-file-o,fa-file-pdf-o,fa-file-powerpoint-o,fa-file-sql,fa-file-text,fa-file-text-o,fa-file-video-o,fa-file-word-o".split(","),FORM_CONTROL:"fa-check-square,fa-check-square-o,fa-circle,fa-circle-o,fa-dot-circle-o,fa-minus-square,fa-minus-square-o,fa-plus-square,fa-plus-square-o,fa-square,fa-square-o,fa-square-selected-o,fa-times-square,fa-times-square-o".split(","),GENDER:"fa-genderless,fa-mars,fa-mars-double,fa-mars-stroke,fa-mars-stroke-h,fa-mars-stroke-v,fa-mercury,fa-neuter,fa-transgender,fa-transgender-alt,fa-venus,fa-venus-double,fa-venus-mars".split(","),HAND:"fa-hand-grab-o,fa-hand-lizard-o,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-scissors-o,fa-hand-spock-o,fa-hand-stop-o,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up".split(","),MEDICAL:"fa-ambulance,fa-h-square,fa-heart,fa-heart-o,fa-heartbeat,fa-hospital-o,fa-medkit,fa-plus-square,fa-stethoscope,fa-user-md,fa-wheelchair".split(","),NUMBERS:"fa-number-0,fa-number-0-o,fa-number-1,fa-number-1-o,fa-number-2,fa-number-2-o,fa-number-3,fa-number-3-o,fa-number-4,fa-number-4-o,fa-number-5,fa-number-5-o,fa-number-6,fa-number-6-o,fa-number-7,fa-number-7-o,fa-number-8,fa-number-8-o,fa-number-9,fa-number-9-o".split(","),PAYMENT:"fa-credit-card,fa-credit-card-alt,fa-credit-card-terminal".split(","),SPINNER:"fa-circle-o-notch,fa-gear,fa-refresh,fa-spinner".split(","),TEXT_EDITOR:"fa-align-center,fa-align-justify,fa-align-left,fa-align-right,fa-bold,fa-clipboard,fa-clipboard-arrow-down,fa-clipboard-arrow-up,fa-clipboard-ban,fa-clipboard-bookmark,fa-clipboard-chart ,fa-clipboard-check,fa-clipboard-check-alt,fa-clipboard-clock,fa-clipboard-edit,fa-clipboard-heart,fa-clipboard-list,fa-clipboard-lock,fa-clipboard-new,fa-clipboard-plus,fa-clipboard-pointer,fa-clipboard-search,fa-clipboard-user,fa-clipboard-wrench,fa-clipboard-x,fa-columns,fa-copy,fa-cut,fa-eraser,fa-file,fa-file-o,fa-file-text,fa-file-text-o,fa-files-o,fa-font,fa-header,fa-indent,fa-italic,fa-link,fa-list,fa-list-alt,fa-list-ol,fa-list-ul,fa-outdent,fa-paperclip,fa-paragraph,fa-paste,fa-repeat,fa-rotate-left,fa-rotate-right,fa-save,fa-scissors,fa-strikethrough,fa-subscript,fa-superscript,fa-table,fa-text-height,fa-text-width,fa-th,fa-th-large,fa-th-list,fa-underline,fa-undo,fa-unlink".split(","),TRANSPORTATION:"fa-ambulance,fa-bicycle,fa-bus,fa-car,fa-fighter-jet,fa-motorcycle,fa-plane,fa-rocket,fa-ship,fa-space-shuttle,fa-subway,fa-taxi,fa-train,fa-truck,fa-wheelchair".split(","),VIDEO_PLAYER:"fa-arrows-alt,fa-backward,fa-compress,fa-eject,fa-expand,fa-fast-backward,fa-fast-forward,fa-forward,fa-pause,fa-pause-circle,fa-pause-circle-o,fa-play,fa-play-circle,fa-play-circle-o,fa-random,fa-step-backward,fa-step-forward,fa-stop,fa-stop-circle,fa-stop-circle-o".split(","),WEB_APPLICATION:"fa-address-book,fa-address-book-o,fa-address-card,fa-address-card-o,fa-adjust,fa-alert,fa-american-sign-language-interpreting,fa-anchor,fa-apex,fa-apex-square,fa-archive,fa-area-chart,fa-arrows,fa-arrows-h,fa-arrows-v,fa-asl-interpreting,fa-assistive-listening-systems,fa-asterisk,fa-at,fa-audio-description,fa-badge-list,fa-badges,fa-balance-scale,fa-ban,fa-bar-chart,fa-barcode,fa-bars,fa-bath,fa-battery-0,fa-battery-1,fa-battery-2,fa-battery-3,fa-battery-4,fa-battleship,fa-bed,fa-beer,fa-bell,fa-bell-o,fa-bell-slash,fa-bell-slash-o,fa-bicycle,fa-binoculars,fa-birthday-cake,fa-blind,fa-bolt,fa-bomb,fa-book,fa-bookmark,fa-bookmark-o,fa-braille,fa-breadcrumb,fa-briefcase,fa-bug,fa-building,fa-building-o,fa-bullhorn,fa-bullseye,fa-bus,fa-button,fa-button-container,fa-button-group,fa-calculator,fa-calendar,fa-calendar-check-o,fa-calendar-minus-o,fa-calendar-o,fa-calendar-plus-o,fa-calendar-times-o,fa-camera,fa-camera-retro,fa-car,fa-cards,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-carousel,fa-cart-arrow-down,fa-cart-arrow-up,fa-cart-check,fa-cart-edit,fa-cart-empty,fa-cart-full,fa-cart-heart,fa-cart-lock,fa-cart-magnifying-glass,fa-cart-plus,fa-cart-times,fa-cc,fa-certificate,fa-change-case,fa-check,fa-check-circle,fa-check-circle-o,fa-check-square,fa-check-square-o,fa-child,fa-circle,fa-circle-0-8,fa-circle-1-8,fa-circle-2-8,fa-circle-3-8,fa-circle-4-8,fa-circle-5-8,fa-circle-6-8,fa-circle-7-8,fa-circle-8-8,fa-circle-o,fa-circle-o-notch,fa-circle-thin,fa-clock-o,fa-clone,fa-cloud,fa-cloud-arrow-down,fa-cloud-arrow-up,fa-cloud-ban,fa-cloud-bookmark,fa-cloud-chart,fa-cloud-check,fa-cloud-clock,fa-cloud-cursor,fa-cloud-download,fa-cloud-edit,fa-cloud-file,fa-cloud-heart,fa-cloud-lock,fa-cloud-new,fa-cloud-play,fa-cloud-plus,fa-cloud-pointer,fa-cloud-search,fa-cloud-upload,fa-cloud-user,fa-cloud-wrench,fa-cloud-x,fa-code,fa-code-fork,fa-code-group,fa-coffee,fa-collapsible,fa-comment,fa-comment-o,fa-commenting,fa-commenting-o,fa-comments,fa-comments-o,fa-compass,fa-contacts,fa-copyright,fa-creative-commons,fa-credit-card,fa-credit-card-alt,fa-credit-card-terminal,fa-crop,fa-crosshairs,fa-cube,fa-cubes,fa-cutlery,fa-dashboard,fa-database,fa-database-arrow-down,fa-database-arrow-up,fa-database-ban,fa-database-bookmark,fa-database-chart,fa-database-check,fa-database-clock,fa-database-cursor,fa-database-edit,fa-database-file,fa-database-heart,fa-database-lock,fa-database-new,fa-database-play,fa-database-plus,fa-database-pointer,fa-database-search,fa-database-user,fa-database-wrench,fa-database-x,fa-deaf,fa-deafness,fa-design,fa-desktop,fa-diamond,fa-dot-circle-o,fa-download,fa-download-alt,fa-dynamic-content,fa-edit,fa-ellipsis-h,fa-ellipsis-h-o,fa-ellipsis-v,fa-ellipsis-v-o,fa-envelope,fa-envelope-arrow-down,fa-envelope-arrow-up,fa-envelope-ban,fa-envelope-bookmark,fa-envelope-chart,fa-envelope-check,fa-envelope-clock,fa-envelope-cursor,fa-envelope-edit,fa-envelope-heart,fa-envelope-lock,fa-envelope-o,fa-envelope-open,fa-envelope-open-o,fa-envelope-play,fa-envelope-plus,fa-envelope-pointer,fa-envelope-search,fa-envelope-square,fa-envelope-user,fa-envelope-wrench,fa-envelope-x,fa-eraser,fa-exception,fa-exchange,fa-exclamation,fa-exclamation-circle,fa-exclamation-circle-o,fa-exclamation-diamond,fa-exclamation-diamond-o,fa-exclamation-square,fa-exclamation-square-o,fa-exclamation-triangle,fa-exclamation-triangle-o,fa-expand-collapse,fa-external-link,fa-external-link-square,fa-eye,fa-eye-slash,fa-eyedropper,fa-fax,fa-feed,fa-female,fa-fighter-jet,fa-fighter-jet-alt,fa-file-archive-o,fa-file-arrow-down,fa-file-arrow-up,fa-file-audio-o,fa-file-ban,fa-file-bookmark,fa-file-chart,fa-file-check,fa-file-clock,fa-file-code-o,fa-file-cursor,fa-file-edit,fa-file-excel-o,fa-file-heart,fa-file-image-o,fa-file-lock,fa-file-new,fa-file-pdf-o,fa-file-play,fa-file-plus,fa-file-pointer,fa-file-powerpoint-o,fa-file-search,fa-file-sql,fa-file-user,fa-file-video-o,fa-file-word-o,fa-file-wrench,fa-file-x,fa-film,fa-filter,fa-fire,fa-fire-extinguisher,fa-fit-to-height,fa-fit-to-size,fa-fit-to-width,fa-flag,fa-flag-checkered,fa-flag-o,fa-flashlight,fa-flask,fa-folder,fa-folder-arrow-down,fa-folder-arrow-up,fa-folder-ban,fa-folder-bookmark,fa-folder-chart,fa-folder-check,fa-folder-clock,fa-folder-cloud,fa-folder-cursor,fa-folder-edit,fa-folder-file,fa-folder-heart,fa-folder-lock,fa-folder-network,fa-folder-new,fa-folder-o,fa-folder-open,fa-folder-open-o,fa-folder-play,fa-folder-plus,fa-folder-pointer,fa-folder-search,fa-folder-user,fa-folder-wrench,fa-folder-x,fa-folders,fa-font-size,fa-font-size-decrease,fa-font-size-increase,fa-format,fa-forms,fa-frown-o,fa-function,fa-futbol-o,fa-gamepad,fa-gavel,fa-gear,fa-gears,fa-gift,fa-glass,fa-glasses,fa-globe,fa-graduation-cap,fa-hand-grab-o,fa-hand-lizard-o,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-scissors-o,fa-hand-spock-o,fa-hand-stop-o,fa-handshake-o,fa-hard-of-hearing,fa-hardware,fa-hashtag,fa-hdd-o,fa-headphones,fa-headset,fa-heart,fa-heart-o,fa-heartbeat,fa-helicopter,fa-hero,fa-history,fa-home,fa-hourglass,fa-hourglass-1,fa-hourglass-2,fa-hourglass-3,fa-hourglass-o,fa-i-cursor,fa-id-badge,fa-id-card,fa-id-card-o,fa-image,fa-inbox,fa-index,fa-industry,fa-info,fa-info-circle,fa-info-circle-o,fa-info-square,fa-info-square-o,fa-key,fa-key-alt,fa-keyboard-o,fa-language,fa-laptop,fa-layers,fa-layout-1col-2col,fa-layout-1col-3col,fa-layout-1row-2row,fa-layout-2col,fa-layout-2col-1col,fa-layout-2row,fa-layout-2row-1row,fa-layout-3col,fa-layout-3col-1col,fa-layout-3row,fa-layout-blank,fa-layout-footer,fa-layout-grid-3x,fa-layout-header,fa-layout-header-1col-3col,fa-layout-header-2row,fa-layout-header-footer,fa-layout-header-nav-left-cards,fa-layout-header-nav-left-right-footer,fa-layout-header-nav-right-cards,fa-layout-header-sidebar-left,fa-layout-header-sidebar-right,fa-layout-list-left,fa-layout-list-right,fa-layout-modal-blank,fa-layout-modal-columns,fa-layout-modal-grid-2x,fa-layout-modal-header,fa-layout-modal-nav-left,fa-layout-modal-nav-right,fa-layout-modal-rows,fa-layout-nav-left,fa-layout-nav-left-cards,fa-layout-nav-left-hamburger,fa-layout-nav-left-hamburger-header,fa-layout-nav-left-header-cards,fa-layout-nav-left-header-header,fa-layout-nav-left-right,fa-layout-nav-left-right-header-footer,fa-layout-nav-right,fa-layout-nav-right-cards,fa-layout-nav-right-hamburger,fa-layout-nav-right-hamburger-header,fa-layout-nav-right-header,fa-layout-nav-right-header-cards,fa-layout-sidebar-left,fa-layout-sidebar-right,fa-layouts-grid-2x,fa-leaf,fa-lemon-o,fa-level-down,fa-level-up,fa-life-ring,fa-lightbulb-o,fa-line-chart,fa-location-arrow,fa-lock,fa-lock-check,fa-lock-file,fa-lock-new,fa-lock-password,fa-lock-plus,fa-lock-user,fa-lock-x,fa-low-vision,fa-magic,fa-magnet,fa-mail-forward,fa-male,fa-map,fa-map-marker,fa-map-o,fa-map-pin,fa-map-signs,fa-materialized-view,fa-media-list,fa-meh-o,fa-microchip,fa-microphone,fa-microphone-slash,fa-military-vehicle,fa-minus,fa-minus-circle,fa-minus-circle-o,fa-minus-square,fa-minus-square-o,fa-missile,fa-mobile,fa-money,fa-moon-o,fa-motorcycle,fa-mouse-pointer,fa-music,fa-navicon,fa-network-hub,fa-network-triangle,fa-newspaper-o,fa-notebook,fa-object-group,fa-object-ungroup,fa-office-phone,fa-package,fa-padlock,fa-padlock-unlock,fa-paint-brush,fa-paper-plane,fa-paper-plane-o,fa-paw,fa-pencil,fa-pencil-square,fa-pencil-square-o,fa-percent,fa-phone,fa-phone-square,fa-photo,fa-pie-chart,fa-plane,fa-plug,fa-plus,fa-plus-circle,fa-plus-circle-o,fa-plus-square,fa-plus-square-o,fa-podcast,fa-power-off,fa-pragma,fa-print,fa-procedure,fa-puzzle-piece,fa-qrcode,fa-question,fa-question-circle,fa-question-circle-o,fa-question-square,fa-question-square-o,fa-quote-left,fa-quote-right,fa-random,fa-recycle,fa-redo-alt,fa-redo-arrow,fa-refresh,fa-registered,fa-remove,fa-reply,fa-reply-all,fa-retweet,fa-road,fa-rocket,fa-rss,fa-rss-square,fa-save-as,fa-search,fa-search-minus,fa-search-plus,fa-send,fa-send-o,fa-sequence,fa-server,fa-server-arrow-down,fa-server-arrow-up,fa-server-ban,fa-server-bookmark,fa-server-chart,fa-server-check,fa-server-clock,fa-server-edit,fa-server-file,fa-server-heart,fa-server-lock,fa-server-new,fa-server-play,fa-server-plus,fa-server-pointer,fa-server-search,fa-server-user,fa-server-wrench,fa-server-x,fa-shapes,fa-share,fa-share-alt,fa-share-alt-square,fa-share-square,fa-share-square-o,fa-share2,fa-shield,fa-ship,fa-shopping-bag,fa-shopping-basket,fa-shopping-cart,fa-shower,fa-sign-in,fa-sign-language,fa-sign-out,fa-signal,fa-signing,fa-sitemap,fa-sitemap-horizontal,fa-sitemap-vertical,fa-sliders,fa-smile-o,fa-snowflake,fa-soccer-ball-o,fa-sort,fa-sort-alpha-asc,fa-sort-alpha-desc,fa-sort-amount-asc,fa-sort-amount-desc,fa-sort-asc,fa-sort-desc,fa-sort-numeric-asc,fa-sort-numeric-desc,fa-space-shuttle,fa-spinner,fa-spoon,fa-square,fa-square-o,fa-square-selected-o,fa-star,fa-star-half,fa-star-half-o,fa-star-o,fa-sticky-note,fa-sticky-note-o,fa-street-view,fa-suitcase,fa-sun-o,fa-support,fa-synonym,fa-table-arrow-down,fa-table-arrow-up,fa-table-ban,fa-table-bookmark,fa-table-chart,fa-table-check,fa-table-clock,fa-table-cursor,fa-table-edit,fa-table-file,fa-table-heart,fa-table-lock,fa-table-new,fa-table-play,fa-table-plus,fa-table-pointer,fa-table-search,fa-table-user,fa-table-wrench,fa-table-x,fa-tablet,fa-tabs,fa-tachometer,fa-tag,fa-tags,fa-tank,fa-tasks,fa-taxi,fa-television,fa-terminal,fa-thermometer-0,fa-thermometer-1,fa-thermometer-2,fa-thermometer-3,fa-thermometer-4,fa-thumb-tack,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up,fa-ticket,fa-tiles-2x2,fa-tiles-3x3,fa-tiles-8,fa-tiles-9,fa-times,fa-times-circle,fa-times-circle-o,fa-times-rectangle,fa-times-rectangle-o,fa-tint,fa-toggle-off,fa-toggle-on,fa-tools,fa-trademark,fa-trash,fa-trash-o,fa-tree,fa-tree-org,fa-trigger,fa-trophy,fa-truck,fa-tty,fa-umbrella,fa-undo-alt,fa-undo-arrow,fa-universal-access,fa-university,fa-unlock,fa-unlock-alt,fa-upload,fa-upload-alt,fa-user,fa-user-arrow-down,fa-user-arrow-up,fa-user-ban,fa-user-chart,fa-user-check,fa-user-circle,fa-user-circle-o,fa-user-clock,fa-user-cursor,fa-user-edit,fa-user-graduate,fa-user-headset,fa-user-heart,fa-user-lock,fa-user-magnifying-glass,fa-user-man,fa-user-play,fa-user-plus,fa-user-pointer,fa-user-secret,fa-user-woman,fa-user-wrench,fa-user-x,fa-users,fa-users-chat,fa-variable,fa-video-camera,fa-volume-control-phone,fa-volume-down,fa-volume-off,fa-volume-up,fa-warning,fa-wheelchair,fa-wheelchair-alt,fa-wifi,fa-window,fa-window-alt,fa-window-alt-2,fa-window-arrow-down,fa-window-arrow-up,fa-window-ban,fa-window-bookmark,fa-window-chart,fa-window-check,fa-window-clock,fa-window-close,fa-window-close-o,fa-window-cursor,fa-window-edit,fa-window-file,fa-window-heart,fa-window-lock,fa-window-maximize,fa-window-minimize,fa-window-new,fa-window-play,fa-window-plus,fa-window-pointer,fa-window-restore,fa-window-search,fa-window-terminal,fa-window-user,fa-window-wrench,fa-window-x,fa-wizard,fa-wrench".split(",")},q={BRAND:"fa-500px,fa-adn,fa-amazon,fa-android,fa-angellist,fa-apple,fa-behance,fa-behance-square,fa-bitbucket,fa-bitbucket-square,fa-black-tie,fa-bluetooth,fa-bluetooth-b,fa-btc,fa-buysellads,fa-cc-amex,fa-cc-diners-club,fa-cc-discover,fa-cc-jcb,fa-cc-mastercard,fa-cc-paypal,fa-cc-stripe,fa-cc-visa,fa-chrome,fa-codepen,fa-codiepie,fa-connectdevelop,fa-contao,fa-credit-card-alt,fa-css3,fa-dashcube,fa-delicious,fa-deviantart,fa-digg,fa-dribbble,fa-dropbox,fa-drupal,fa-edge,fa-empire,fa-expeditedssl,fa-facebook,fa-facebook-official,fa-facebook-square,fa-firefox,fa-flickr,fa-fonticons,fa-fort-awesome,fa-forumbee,fa-foursquare,fa-get-pocket,fa-gg,fa-gg-circle,fa-git,fa-git-square,fa-github,fa-github-alt,fa-github-square,fa-google,fa-google-plus,fa-google-plus-square,fa-google-wallet,fa-gratipay,fa-hacker-news,fa-houzz,fa-html5,fa-instagram,fa-internet-explorer,fa-ioxhost,fa-joomla,fa-jsfiddle,fa-lastfm,fa-lastfm-square,fa-leanpub,fa-linkedin,fa-linkedin-square,fa-linux,fa-maxcdn,fa-meanpath,fa-medium,fa-mixcloud,fa-modx,fa-odnoklassniki,fa-odnoklassniki-square,fa-opencart,fa-openid,fa-opera,fa-optin-monster,fa-pagelines,fa-paypal,fa-pied-piper,fa-pied-piper-alt,fa-pinterest,fa-pinterest-p,fa-pinterest-square,fa-product-hunt,fa-qq,fa-rebel,fa-reddit,fa-reddit-alien,fa-reddit-square,fa-renren,fa-safari,fa-scribd,fa-sellsy,fa-share-alt,fa-share-alt-square,fa-shirtsinbulk,fa-simplybuilt,fa-skyatlas,fa-skype,fa-slack,fa-slideshare,fa-soundcloud,fa-spotify,fa-stack-exchange,fa-stack-overflow,fa-steam,fa-steam-square,fa-stumbleupon,fa-stumbleupon-circle,fa-tencent-weibo,fa-trello,fa-tripadvisor,fa-tumblr,fa-tumblr-square,fa-twitch,fa-twitter,fa-twitter-square,fa-usb,fa-viacoin,fa-vimeo,fa-vimeo-square,fa-vine,fa-vk,fa-weibo,fa-weixin,fa-whatsapp,fa-wikipedia-w,fa-windows,fa-wordpress,fa-xing,fa-xing-square,fa-y-combinator,fa-yahoo,fa-yelp,fa-youtube,fa-youtube-play,fa-youtube-square".split(","),CHART:"fa-area-chart,fa-bar-chart,fa-line-chart,fa-pie-chart".split(","),CURRENCY:"fa-btc,fa-eur,fa-gbp,fa-gg,fa-gg-circle,fa-ils,fa-inr,fa-jpy,fa-krw,fa-money,fa-rub,fa-try,fa-usd".split(","),DIRECTIONAL:"fa-angle-double-down,fa-angle-double-left,fa-angle-double-right,fa-angle-double-up,fa-angle-down,fa-angle-left,fa-angle-right,fa-angle-up,fa-arrow-circle-down,fa-arrow-circle-left,fa-arrow-circle-o-down,fa-arrow-circle-o-left,fa-arrow-circle-o-right,fa-arrow-circle-o-up,fa-arrow-circle-right,fa-arrow-circle-up,fa-arrow-down,fa-arrow-left,fa-arrow-right,fa-arrow-up,fa-arrows,fa-arrows-alt,fa-arrows-h,fa-arrows-v,fa-caret-down,fa-caret-left,fa-caret-right,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-caret-up,fa-chevron-circle-down,fa-chevron-circle-left,fa-chevron-circle-right,fa-chevron-circle-up,fa-chevron-down,fa-chevron-left,fa-chevron-right,fa-chevron-up,fa-exchange,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-long-arrow-down,fa-long-arrow-left,fa-long-arrow-right,fa-long-arrow-up".split(","),FILE_TYPE:"fa-file,fa-file-archive-o,fa-file-audio-o,fa-file-code-o,fa-file-excel-o,fa-file-image-o,fa-file-o,fa-file-pdf-o,fa-file-powerpoint-o,fa-file-text,fa-file-text-o,fa-file-video-o,fa-file-word-o".split(","),FORM_CONTROL:"fa-check-square,fa-check-square-o,fa-circle,fa-circle-o,fa-dot-circle-o,fa-minus-square,fa-minus-square-o,fa-plus-square,fa-plus-square-o,fa-square,fa-square-o".split(","),GENDER:"fa-genderless,fa-mars,fa-mars-double,fa-mars-stroke,fa-mars-stroke-h,fa-mars-stroke-v,fa-mercury,fa-neuter,fa-transgender,fa-transgender-alt,fa-venus,fa-venus-double,fa-venus-mars".split(","),HAND:"fa-hand-lizard-o,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-hand-paper-o,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-rock-o,fa-hand-scissors-o,fa-hand-spock-o,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up".split(","),MEDICAL:"fa-ambulance,fa-h-square,fa-heart,fa-heart-o,fa-heartbeat,fa-hospital-o,fa-medkit,fa-plus-square,fa-stethoscope,fa-user-md,fa-wheelchair".split(","),PAYMENT:"fa-cc-amex,fa-cc-diners-club,fa-cc-discover,fa-cc-jcb,fa-cc-mastercard,fa-cc-paypal,fa-cc-stripe,fa-cc-visa,fa-credit-card,fa-credit-card-alt,fa-google-wallet,fa-paypal".split(","),SPINNER:"fa-circle-o-notch,fa-cog,fa-refresh,fa-spinner".split(","),TEXT_EDITOR:"fa-align-center,fa-align-justify,fa-align-left,fa-align-right,fa-bold,fa-chain-broken,fa-clipboard,fa-columns,fa-eraser,fa-file,fa-file-o,fa-file-text,fa-file-text-o,fa-files-o,fa-floppy-o,fa-font,fa-header,fa-indent,fa-italic,fa-link,fa-list,fa-list-alt,fa-list-ol,fa-list-ul,fa-outdent,fa-paperclip,fa-paragraph,fa-repeat,fa-scissors,fa-strikethrough,fa-subscript,fa-superscript,fa-table,fa-text-height,fa-text-width,fa-th,fa-th-large,fa-th-list,fa-underline,fa-undo".split(","),TRANSPORTATION:"fa-ambulance,fa-bicycle,fa-bus,fa-car,fa-fighter-jet,fa-motorcycle,fa-plane,fa-rocket,fa-ship,fa-space-shuttle,fa-subway,fa-taxi,fa-train,fa-truck,fa-wheelchair".split(","),VIDEO_PLAYER:"fa-arrows-alt,fa-backward,fa-compress,fa-eject,fa-expand,fa-fast-backward,fa-fast-forward,fa-forward,fa-pause,fa-pause-circle,fa-pause-circle-o,fa-play,fa-play-circle,fa-play-circle-o,fa-random,fa-step-backward,fa-step-forward,fa-stop,fa-stop-circle,fa-stop-circle-o,fa-youtube-play".split(","),WEB_APPLICATION:"fa-adjust,fa-anchor,fa-archive,fa-area-chart,fa-arrows,fa-arrows-h,fa-arrows-v,fa-asterisk,fa-at,fa-balance-scale,fa-ban,fa-bar-chart,fa-barcode,fa-bars,fa-battery-empty,fa-battery-full,fa-battery-half,fa-battery-quarter,fa-battery-three-quarters,fa-bed,fa-beer,fa-bell,fa-bell-o,fa-bell-slash,fa-bell-slash-o,fa-bicycle,fa-binoculars,fa-birthday-cake,fa-bluetooth,fa-bluetooth-b,fa-bolt,fa-bomb,fa-book,fa-bookmark,fa-bookmark-o,fa-briefcase,fa-bug,fa-building,fa-building-o,fa-bullhorn,fa-bullseye,fa-bus,fa-calculator,fa-calendar,fa-calendar-check-o,fa-calendar-minus-o,fa-calendar-o,fa-calendar-plus-o,fa-calendar-times-o,fa-camera,fa-camera-retro,fa-car,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-cart-arrow-down,fa-cart-plus,fa-cc,fa-certificate,fa-check,fa-check-circle,fa-check-circle-o,fa-check-square,fa-check-square-o,fa-child,fa-circle,fa-circle-o,fa-circle-o-notch,fa-circle-thin,fa-clock-o,fa-clone,fa-cloud,fa-cloud-download,fa-cloud-upload,fa-code,fa-code-fork,fa-coffee,fa-cog,fa-cogs,fa-comment,fa-comment-o,fa-commenting,fa-commenting-o,fa-comments,fa-comments-o,fa-compass,fa-copyright,fa-creative-commons,fa-credit-card,fa-crop,fa-crosshairs,fa-cube,fa-cubes,fa-cutlery,fa-database,fa-desktop,fa-diamond,fa-dot-circle-o,fa-download,fa-ellipsis-h,fa-ellipsis-v,fa-envelope,fa-envelope-o,fa-envelope-square,fa-eraser,fa-exchange,fa-exclamation,fa-exclamation-circle,fa-exclamation-triangle,fa-external-link,fa-external-link-square,fa-eye,fa-eye-slash,fa-eyedropper,fa-fax,fa-female,fa-fighter-jet,fa-file-archive-o,fa-file-audio-o,fa-file-code-o,fa-file-excel-o,fa-file-image-o,fa-file-pdf-o,fa-file-powerpoint-o,fa-file-video-o,fa-file-word-o,fa-film,fa-filter,fa-fire,fa-fire-extinguisher,fa-flag,fa-flag-checkered,fa-flag-o,fa-flask,fa-folder,fa-folder-o,fa-folder-open,fa-folder-open-o,fa-frown-o,fa-futbol-o,fa-gamepad,fa-gavel,fa-gift,fa-glass,fa-globe,fa-graduation-cap,fa-hand-lizard-o,fa-hand-paper-o,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-rock-o,fa-hand-scissors-o,fa-hand-spock-o,fa-hashtag,fa-hdd-o,fa-headphones,fa-heart,fa-heart-o,fa-heartbeat,fa-history,fa-home,fa-hourglass,fa-hourglass-end,fa-hourglass-half,fa-hourglass-o,fa-hourglass-start,fa-i-cursor,fa-inbox,fa-industry,fa-info,fa-info-circle,fa-key,fa-keyboard-o,fa-language,fa-laptop,fa-leaf,fa-lemon-o,fa-level-down,fa-level-up,fa-life-ring,fa-lightbulb-o,fa-line-chart,fa-location-arrow,fa-lock,fa-magic,fa-magnet,fa-male,fa-map,fa-map-marker,fa-map-o,fa-map-pin,fa-map-signs,fa-meh-o,fa-microphone,fa-microphone-slash,fa-minus,fa-minus-circle,fa-minus-square,fa-minus-square-o,fa-mobile,fa-money,fa-moon-o,fa-motorcycle,fa-mouse-pointer,fa-music,fa-newspaper-o,fa-object-group,fa-object-ungroup,fa-paint-brush,fa-paper-plane,fa-paper-plane-o,fa-paw,fa-pencil,fa-pencil-square,fa-pencil-square-o,fa-percent,fa-phone,fa-phone-square,fa-picture-o,fa-pie-chart,fa-plane,fa-plug,fa-plus,fa-plus-circle,fa-plus-square,fa-plus-square-o,fa-power-off,fa-print,fa-puzzle-piece,fa-qrcode,fa-question,fa-question-circle,fa-quote-left,fa-quote-right,fa-random,fa-recycle,fa-refresh,fa-registered,fa-reply,fa-reply-all,fa-retweet,fa-road,fa-rocket,fa-rss,fa-rss-square,fa-search,fa-search-minus,fa-search-plus,fa-server,fa-share,fa-share-alt,fa-share-alt-square,fa-share-square,fa-share-square-o,fa-shield,fa-ship,fa-shopping-bag,fa-shopping-basket,fa-shopping-cart,fa-sign-in,fa-sign-out,fa-signal,fa-sitemap,fa-sliders,fa-smile-o,fa-sort,fa-sort-alpha-asc,fa-sort-alpha-desc,fa-sort-amount-asc,fa-sort-amount-desc,fa-sort-asc,fa-sort-desc,fa-sort-numeric-asc,fa-sort-numeric-desc,fa-space-shuttle,fa-spinner,fa-spoon,fa-square,fa-square-o,fa-star,fa-star-half,fa-star-half-o,fa-star-o,fa-sticky-note,fa-sticky-note-o,fa-street-view,fa-suitcase,fa-sun-o,fa-tablet,fa-tachometer,fa-tag,fa-tags,fa-tasks,fa-taxi,fa-television,fa-terminal,fa-thumb-tack,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up,fa-ticket,fa-times,fa-times-circle,fa-times-circle-o,fa-tint,fa-toggle-off,fa-toggle-on,fa-trademark,fa-trash,fa-trash-o,fa-tree,fa-trophy,fa-truck,fa-tty,fa-umbrella,fa-university,fa-unlock,fa-unlock-alt,fa-upload,fa-user,fa-user-plus,fa-user-secret,fa-user-times,fa-users,fa-video-camera,fa-volume-down,fa-volume-off,fa-volume-up,fa-wheelchair,fa-wifi,fa-wrench".split(",")},r=o.custom?o.custom.split(","):[],s={columnDefinitions:[{name:"d",title:j("NAME"),alignment:"left"
}],filters:[{name:"search",title:j("SEARCH"),type:"search"}],filterLov:function(a,b){function c(a,b){h.push({r:a,d:b||a,preview:'<span class="fa '+e.escapeHTMLAttr(a)+'"></span>'})}function f(a,b,d){for(var e=0;e<a.length;e++)d&&"default"!==d?"small"===d?c("fa-sm "+a[e],a[e]):"large"===d&&c("fa-lg "+a[e],a[e]):c(a[e])}var g,h=[],i=a.type;if(m(i)){if(""===a.category)for(g in p)p.hasOwnProperty(g)&&f(p[g],"SPINNER"===g,a.style);else f(p[a.category],"SPINNER"===a.category,a.style);b(h,a.search)}else if(n(i)){if(""===a.category)for(g in q)q.hasOwnProperty(g)&&f(q[g],"SPINNER"===g);else f(q[a.category],"SPINNER"===a.category);b(h,a.search)}else"CUSTOM"===i?(f(r,!1),b(h,a.search)):i&&"UTILIZED"!==i||d.metaData.lovValues(function(d){for(var e=0;e<d.length;e++)c(d[e].r);b(h,a.search)},a)},resultsDisplay:m(o.library)?"grid":"table"},t={name:"type",title:j("TYPE"),type:"buttonset",defaultValue:"",lov:[]},v=o.library;if(r.length>0&&(t.lov.push({display:j("CUSTOM"),value:"CUSTOM"}),t.defaultValue="CUSTOM"),b.inArray(v,["FONTAPEX","FONTAPEX_LATEST","FONTAWESOME"])!==-1){if(n(v)&&s.columnDefinitions.push({name:"preview",title:j("PREVIEW"),alignment:"center",width:"20%",escape:!1}),m(v)&&(f={name:"style",title:j("ICON.STYLE"),type:"select",defaultValue:"default",isRequired:!0,lov:[{display:j("ICON.DEFAULT"),value:"default"},{display:j("ICON.SMALL"),value:"small"},{display:j("ICON.LARGE"),value:"large"}]}),g={name:"category",title:j("CATEGORY"),type:"select",defaultValue:"",lov:[]},m(v)){var w=v.toUpperCase().indexOf("LATEST")>-1?"latest":l;h=p,i="Font APEX",k=apex_img_dir+"libraries/font-apex/"+w+"/css/font-apex.min.css"}else n(v)&&(h=q,i="Font Awesome",k=apex_img_dir+"libraries/font-awesome/4.5.0/css/font-awesome.min.css");for(var x in h)h.hasOwnProperty(x)&&g.lov.push({display:j("FA."+x),value:x});t.lov.unshift({display:i,value:v,filters:[f,g]}),t.defaultValue=v,u||(u=b('<link rel="stylesheet" type="text/css" href="'+k+'" />').appendTo("head"))}t.lov.length>0&&(t.lov.push({display:j("UTILIZED"),value:"UTILIZED"}),s.filters.unshift(t)),this["super"]("init",c,d,s)}},b.apex.propertyEditor.PROP_TYPE.COMBOBOX),b.apex.propertyEditor.addPropertyType($.CSS,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.JAVASCRIPT,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.HTML,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.PLSQL,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.PLSQL_EXPR_VARCHAR,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.PLSQL_EXPR_BOOLEAN,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.PLSQL_FUNC_VARCHAR,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.PLSQL_FUNC_BOOLEAN,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.PLSQL_FUNC_SQL,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.SQL,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.SQL_EXPR,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.SQL_EXPR_BOOLEAN,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.WHERE_CLAUSE,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.ORDER_BY_CLAUSE,null,b.apex.propertyEditor.PROP_TYPE.TEXT),b.apex.propertyEditor.addPropertyType($.XML,null,$.TEXT_EDITOR),b.apex.propertyEditor.addPropertyType($.TEMPLATE_OPTIONS_GENERAL,{init:function(a,c){function d(){var a=b(this).prop("checked");a&&f.prop("checked",!0),f.prop("disabled",a)}var f=b();this["super"]("init",a,c),this.checkboxes$=a.find("input[type=checkbox]"),this.defaultCheckbox$=this.checkboxes$.filter("[value='#DEFAULT#']");for(var g=0;g<c.metaData.defaultTemplateOptions.length;g++)f=f.add(this.checkboxes$.filter("[value='"+e.escapeCSS(c.metaData.defaultTemplateOptions[g])+"']"));this.defaultCheckbox$.on("click setdefaultcheckboxes",d).trigger("setdefaultcheckboxes")},getValue:function(a){var b=[];return this.checkboxes$.filter(":checked:not(:disabled)").each(function(){b.push(this.value)}),b.join(":")},setValue:function(a,b,c){this["super"]("setValue",a,b,c),this.defaultCheckbox$.trigger("setdefaultcheckboxes")}},b.apex.propertyEditor.PROP_TYPE.CHECKBOXES),i.addGeneralPropertyType(),b.apex.propertyEditor.addPropertyType($.TEMPLATE_OPTIONS,{_getProperties:function(a,b){return i.getProperties(this.templateOptions,this.getValue(a).split(":"),b.metaData.isReadOnly)},_getDisplayValue:function(b){var c,d=[],e=b.value,f=e.split(":");if(this.templateOptions=a.getTemplateOptions(v[0].getProperty(b.propertyName)),""===e)return j("TEMPLATE_OPTIONS.NONE_SELECTED");c=this.templateOptions.valuesMap;for(var g=0;g<f.length;g++)c.hasOwnProperty(f[g])?d.push(c[f[g]].d):d.push(l("LOV.UNKNOWN_LOOKUP",f[g]));return d.join(", ")},noLabel:!0,render:function(a,b,c){var d,e=b+"_label",f=this._getDisplayValue(c);d=this.templateOptions.values.length<2,this.renderDivOpen(a,{"class":A}),a.markup("<button").attr("type","button").attr("id",b).attr("aria-describedby",e).attr("class",H+" "+I).attr(aa,c.propertyName).attr("value",c.value).optionalAttr("disabled",d).markup(">").content(f).markup("</button>"),this.renderDivClose(a)},init:function(a,c){var f=this;f.addLabelClickHandler(a,c),f.addTooltipsForErrors(a,c),a.closest("div."+x).on("click","#"+a.attr("id"),function(){var g,h=f._getProperties(a.closest("div."+x),c),k=e.htmlBuilder();k.markup("<div").attr("id","templateOptionsDlg").attr("title",c.metaData.prompt).markup(">").markup("<div").attr("id","templateOptionsDlgPE").markup(">").markup("</div>").markup("</div>"),g=b(k.toString()).dialog({modal:!0,closeText:d.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:520,dialogClass:Y,close:function(){b("#templateOptionsDlgPE").propertyEditor("destroy"),g.dialog("destroy")},open:function(){var a=b("#templateOptionsDlgPE");a.propertyEditor({focusPropertyName:"general",hideDisplayGroups:0===h.advanced.length,data:{propertySet:[{displayGroupId:"common",displayGroupTitle:j("TEMPLATE_OPTIONS.COMMON"),properties:h.common},{displayGroupId:"advanced",displayGroupTitle:j("TEMPLATE_OPTIONS.ADVANCED"),properties:h.advanced}]},change:function(a,b){}}),b("#templateOptionsDlg").dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:j("CANCEL"),click:function(){g.dialog("close")}},{text:j("OK"),"class":J,disabled:c.metaData.isReadOnly,click:function(){var d=b("#templateOptionsDlgPE"),e=i.getValuesFromDialog(h,d);f.setValue(a,c,e.join(":")),a.trigger("change"),f.setFocus(a),g.dialog("close")}}]})})},setValue:function(a,b,c){var d;this["super"]("setValue",a,b,c),d=this._getDisplayValue(b),a.html(d).attr("title",d)}}),b.apex.propertyEditor.addPropertyType($.STATIC_LOV,{_getLov:function(a){for(var b,c=/^STATIC([2])?(\(([^,]+),([^,]+)\))?:/,d=/^STATIC[2]?(\([^,]+,[^,]+\))?:/,e="2",f=",",g=";",h=c.exec(a),i=h[2]===e?"N":"Y",j=h[3]||f,k=h[4]||g,l=a.replace(d,"").split(j),m={sort:i,values:[]},n=0;n<l.length;n++)b=l[n].split(k),m.values.push({displayValue:b[0],returnValue:b[1]?b[1]:""});return m},_getButtonText:function(a){var b=j("LINK.NO_LINK_DEFINED"),c=this._getLov(a);if(c.values.length>0)for(var d=0;d<c.values.length;d++)0===d?b="":b+=", ",b+=c.values[d].displayValue;return b},_getDisplayGroupValues:function(a){return{displayGroupId:ca.GROUP.VALUES,displayGroupTitle:j("STATIC_LOV.GROUP.VALUES"),properties:a?a:[]}},_getDisplayGroupSort:function(a){return{displayGroupId:ca.GROUP.SORT,displayGroupTitle:j("STATIC_LOV.GROUP.SORT"),collapsed:!0,properties:a?a:[]}},_getPropertyValues:function(a,c){return b.extend(!0,{propertyName:ca.PROP.VALUES,value:[],metaData:{type:$.STATIC_LOV_VALUES,prompt:j("STATIC_LOV.PROP.VALUES"),displayGroupId:ca.GROUP.VALUES,originalProperty:c},errors:[],warnings:[]},a)},_getPropertySort:function(a){return b.extend(!0,{propertyName:ca.PROP.SORT,value:"Y",metaData:{prompt:j("STATIC_LOV.PROP.SORT"),type:b.apex.propertyEditor.PROP_TYPE.YES_NO,noValue:"N",yesValue:"Y",displayGroupId:ca.GROUP.SORT,isRequired:!0},errors:[],warnings:[]},a)},noLabel:!0,render:function(a,b,c){var d=b+"_label";this.renderDivOpen(a,{"class":A}),a.markup("<button").attr("type","button").attr("id",b).attr("aria-describedby",d).attr("class",H+" "+I+" "+K).attr(aa,c.propertyName).attr("value",c.value).markup(">").content(this._getButtonText(c.value)).markup("</button>"),this.renderDivClose(a)},setValue:function(a,b,c){var d;this["super"]("setValue",a,b,c),d=this._getButtonText(c),a.html(d).attr("title",d)},init:function(a,c){var f=this;this.addLabelClickHandler(a,c),this.addTooltipsForErrors(a,c),a.closest("div."+x).on("click","#"+a.attr("id"),function(){function g(a){var b,c,d;for(b=0;b<m.length;b++)for(c=0;c<m[b].properties.length;c++)if(m[b].properties[c].propertyName===a){d=m[b].properties[c];break}return d}var h,i=e.htmlBuilder(),k=a.val(),l=f._getLov(k),m=[],n=(c.metaData.isRequired,c.metaData.isReadOnly);m.push(f._getDisplayGroupValues([f._getPropertyValues({value:l.values,metaData:{isReadOnly:c.metaData.isReadOnly}},c)])),m.push(f._getDisplayGroupSort([f._getPropertySort({value:l.sort,metaData:{isReadOnly:c.metaData.isReadOnly}})])),i.markup("<div").attr("id","staticLovDlg").attr("title",c.metaData.prompt).markup(">").markup("<div").attr("id","staticLovDlgPE").markup(">").markup("</div>").markup("</div>"),h=b(i.toString()).dialog({modal:!0,closeText:d.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:520,dialogClass:Y,close:function(){b("#staticLovDlgPE").propertyEditor("destroy"),h.dialog("destroy")},open:function(){var a=b("#staticLovDlgPE");({metaData:{isReadOnly:c.metaData.isReadOnly}});a.propertyEditor({focusPropertyName:ca.PROP.VALUES,data:{propertySet:m,multiEdit:!1}}),b("#staticLovDlg").dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:j("CANCEL"),click:function(){h.dialog("close")}},{text:j("OK"),"class":J,disabled:n,click:function(){var d,e,i,k=",",l=";";if(d="STATIC","N"===g(ca.PROP.SORT).value&&(d+="2"),e=g(ca.PROP.VALUES).value,e.length>0){for(var m=0;m<e.length;m++)if((e[m].displayValue||e[m].returnValue).search(/(,|;)/)!==-1){k="",l="",d+="("+k+","+l+")";break}d+=":";for(var m=0;m<e.length;m++)d+=m>0?k:"",d+=""!==e[m].displayValue&&""!==e[m].returnValue?e[m].displayValue+l+e[m].returnValue:e[m].displayValue||e[m].returnValue;f.setValue(a,c,d),a.trigger("change"),f.setFocus(a),h.dialog("close")}else i=g(ca.PROP.VALUES,j("IS_REQUIRED")),i.errors.push(j("IS_REQUIRED")),b("#staticLovDlgPE").propertyEditor("updateProperty",i)}}]})})}}),b.apex.propertyEditor.addPropertyType($.STATIC_LOV_VALUES,{stacked:!0,noLabel:!0,labelVisible:!1,minHeight:122,maxHeight:200,render:function(a,b,c){var d=b+"_label";a.markup("<div").attr("id",b).attr("class",A).attr("aria-labelledby",d).attr("role","group").attr(aa,c.propertyName).markup(">"),a.markup("<table").attr("class",F).markup(">").markup("<caption").attr("class",X).markup(">").content(j("STATIC_LOV.VALUES")).markup("</caption>").markup("<tr>").markup("<th").attr("scope","col").attr("class",E).markup(">").content(j("STATIC_LOV.VALUE.DISPLAY")).markup("</th>").markup("<th").attr("scope","col").attr("class",E).markup(">").content(j("STATIC_LOV.VALUE.RETURN")).markup("</th>").markup("<th").attr("class",X).markup(">").content(j("STATIC_LOV.REMOVE")).markup("</th>").markup("<th").attr("class",X).markup(">").content(j("STATIC_LOV.MOVE_UP")).markup("</th>").markup("<th").attr("class",X).markup(">").content(j("STATIC_LOV.MOVE_DOWN")).markup("</th>").markup("</tr>");for(var e=0;e<c.value.length;e++)this._renderRow(a,{rowId:e+1,idPrefix:b,returnValue:c.value[e].returnValue,displayValue:c.value[e].displayValue,readOnly:c.metaData.isReadOnly,lastRow:!1});c.metaData.isReadOnly||this._renderRow(a,{rowId:c.value.length+1,idPrefix:b,lastRow:!0}),a.markup("</table>"),this.renderDivClose(a)},init:function(a,c){function d(a,b,c){var d=a.filter("input."+c),e=b.filter("input."+c),f=d.val(),g=e.val();d.val(g),e.val(f)}var f=this,g=a.closest("div."+x),h=a.attr("id");c.metaData.isReadOnly||g.on("change","input",function(){var a=b(this).closest("tr").next("tr"),c=e.htmlBuilder(),d=e.htmlBuilder(),g=b(this);if(g.val()&&0===a.length){var i=b("input."+O).length;f._renderRow(c,{rowId:i+1,idPrefix:h,lastRow:!0}),f.renderIconButton(d,{id:h+"_rowMoveDown_"+i,icon:U,text:k("STATIC_LOV.MOVE_DOWN_VALUE_N",i)}),g.closest("tr").find("td:last").html(d.toString()).end().after(c.toString())}}).on("click","button[id^="+h+"_rowRemove_]",function(){var a=b(this).closest("tr").next("tr");a.length>0?(b(this).closest("tr").remove(),a.find(":input:first").change().focus()):b(this).closest("tr").find("input").val("").filter("input."+O).change().focus()}).on("click","button[id^="+h+"_rowMoveUp_]",function(){var a=b(this).closest("tr").find(":input"),c=b(this).closest("tr").prev("tr."+Q).find(":input");c.length>0&&(d(a,c,O),d(a,c,P),c.filter("button[id^="+h+"_rowMove]:first").focus(),a.trigger("change"))}).on("click","button[id^="+h+"_rowMoveDown_]",function(){var a=b(this).closest("tr").find(":input"),c=b(this).closest("tr").next("tr."+Q).find(":input");c.length>0&&(d(a,c,O),d(a,c,P),c.trigger("change"),b(this).closest("tr").next("tr."+Q).find("button[id^="+h+"_rowMoveDown_]").focus())}),this.addLabelClickHandler(a,c)},setFocus:function(a){a.find(":input:first").focus()},getValue:function(a){var c,d,e=[];return a.find("tr."+Q).each(function(){d=b(this).find(":input."+O),c=b(this).find(":input."+P),""===d.val()&&""===c.val()||e.push({displayValue:d.val(),returnValue:c.val()})}),e},_renderRow:function(a,c){var d,e,f=b.extend({rowId:"",idPrefix:"",returnValue:"",displayValue:"",readOnly:!1,lastRow:!1},c);e=f.idPrefix+"_return_"+f.rowId,d=f.idPrefix+"_display_"+f.rowId,a.markup("<tr").attr("class",Q).markup(">"),a.markup("<td>"),this.renderBaseInput(a,{id:d,value:f.displayValue,inputClass:[O,y,z],readonly:f.readOnly,attributes:{"aria-label":k("STATIC_LOV.VALUE_N_DISPLAY",f.rowId)}}),a.markup("</td>"),a.markup("<td>"),this.renderBaseInput(a,{id:e,value:f.returnValue,inputClass:[P,y,z],readonly:f.readOnly,attributes:{"aria-label":k("STATIC_LOV.VALUE_N_RETURN",f.rowId)}}),a.markup("</td>"),a.markup("<td").attr("class",G).markup(">"),this.renderIconButton(a,{id:f.idPrefix+"_rowRemove_"+f.rowId,icon:S,text:k("STATIC_LOV.REMOVE_VALUE_N",f.rowId),disabled:f.readOnly}),a.markup("</td>"),a.markup("<td").attr("class",G).markup(">"),f.rowId>1&&this.renderIconButton(a,{id:f.idPrefix+"_rowMoveUp_"+f.rowId,icon:T,text:k("STATIC_LOV.MOVE_UP_VALUE_N",f.rowId),disabled:f.readOnly}),a.markup("</td>"),a.markup("<td").attr("class",G).markup(">"),f.lastRow||this.renderIconButton(a,{id:f.idPrefix+"_rowMoveDown_"+f.rowId,icon:U,text:k("STATIC_LOV.MOVE_DOWN_VALUE_N",f.rowId),disabled:f.readOnly}),a.markup("</td>"),a.markup("</tr>")}}),b.apex.propertyEditor.addPropertyType($.SUBSCRIPTION,null,b.apex.propertyEditor.PROP_TYPE.TEXT),b.apex.propertyEditor.addPropertyType($.OWNER,null,b.apex.propertyEditor.PROP_TYPE.SELECT_LIST),b.apex.propertyEditor.addPropertyType($.COLUMN,null,b.apex.propertyEditor.PROP_TYPE.SELECT_LIST),b.apex.propertyEditor.addPropertyType($.REGION_COLUMN,null,$.COLUMN),b(function(){ga=parseInt(f.getPreference(da),10),isNaN(ga)&&(ga=900),ha=parseInt(f.getPreference(ea),10),isNaN(ha)&&(ha=600),ia=window.gPreferences[ka]||"",t=b("#pe"),t.propertyEditor({showAll:!0,expand:function(a,b){delete fa[b.displayGroupId]},collapse:function(a,b){fa[b.displayGroupId]=!0},searchable:!0,change:function(b,c){var d,e=a.transaction.message({action:a.MESSAGE_ACTION.CHANGE,component:v[0],property:v[0].getProperty(c.propertyName),count:v.length}),f=a.transaction.start(w,e);for(d=0;d<v.length;d++)v[d].getProperty(c.propertyName).setValue(c.property.value);apex.commandHistory.execute(f)}}),t.on("propertyeditoractivate",function(a,c){var d=apex.util.htmlBuilder(),e=c.metaData.helpText;b.isFunction(e)&&(e=e()),d.markup("<h3>").content(c.metaData.prompt).markup("</h3>"),"<"!==e.charAt(0)&&(e="<p>"+e+"</p>"),d.markup(e),c.metaData.isCustomPluginAttribute?f.setHelpText(d.toString()):f.setHelpText(d.toString(),"P1_COMPONENT_TYPE_ID,P1_PROPERTY_ID,P1_APEX_VERSION:"+v[0].typeId+","+c.propertyName+","+gApexVersion)}).on("propertyeditordeactivate",function(){f.clearHelpText()}),b(document).on("selectionChanged",function(a,b,c,d){r(c,d)}),b(document).on("modelCleared",function(){q()})})}(pe,apex.jQuery,apex.debug,apex.lang,apex.util,window.pageDesigner,apex.navigation,apex.server,apex.templateOptionsHelper);
!function(a,b,c,d,e){"use strict";function f(a,b,c){return a>b&&a<b+c}function g(a){return a.parent().children(":visible").index(a)}function h(a,b,c,d){var e,f;"string"!=typeof b&&(d=c,c=b,b="*"),e=a.children(b),f=e.index(c),f>=0&&f<d&&(d+=1),d>=e.length?a.append(c):e.eq(d).before(c)}function i(a){var b,c=a||"";if(b=c.indexOf("_"),!(b<0))return c.substring(b+1)}function j(a,b){var c;for(c=0;c<a.length;c++)if(a[c]===b)return c;return-1}function k(a){var b=0,c=a.parent();return c.children().each(function(){return this!==a[0]&&void(b+=this.colSpan||1)}),b}function l(a,b,c,d){var e=b[c];e!==d&&(a.propertyChanges.push({component:b,property:c,oldValue:e,newValue:d}),b[c]=d)}function m(a,b,c,d){var e,f,g;if(c<0&&(c=0),d>0)for(g=Math.floor(c/d),0===g&&(g=1),e=b;e<a.length;e++)f=a[e],f.span===-1&&(f.span=g,c-=g,c>0&&c<g&&(f.span+=c))}function n(a,b){var c,d,e,f=b,g=0,h=0,i=0,j=1;for(c=0;c<a.columns.length;c++)e=a.columns[c],e.col>1&&(d=e.col-j,m(a.columns,g,d-h,i),f-=d,g=c,h=0,i=0,j=e.col),e.span>0?h+=e.span:i+=1;m(a.columns,g,f-h,i)}function o(a,b,c){var d;for(d in c)c.hasOwnProperty(d)&&b[d]&&(a+=" "+c[d]);return a}function p(a,b){var c;for(c in b)if(b.hasOwnProperty(c)&&a[c])return b[c];return null}function q(a,b){return a.types.indexOf(b)>=0}function r(a,b){var c,d="";for(c=0;c<a.length;c++)c>0&&(d+=" "),d+=qa[a[c]][b];return d}function s(a){var b="";return a.hasClass(P)&&(b+=",."+y),a.hasClass(O)&&(b+=",."+x),a.hasClass(Q)&&(b+=",."+z),b.substr(1)}function t(a){var b="",c=a.closest(_);return c.hasClass(A)&&(b+=" "+P),c.hasClass(C)&&(b+=" "+O),c.hasClass(E)&&(b+=" "+Q),b.substr(1)}var u="a-GridLayout",v="a-GridLayout-page",w=".a-GridLayout-page",x="a-GridLayout-pageItem",y="a-GridLayout-region",z="a-GridLayout-button",A="a-GridLayout-regionContainer",B=".a-GridLayout-regionContainer",C="a-GridLayout-itemContainer",D=".a-GridLayout-itemContainer",E="a-GridLayout-buttonContainer",F=".a-GridLayout-buttonContainer",G="a-GridLayout-regionContent",H="a-GridLayout-buttonGroup",I=".a-GridLayout-buttonGroup,.a-GridLayout-regionContent",J="a-GridLayout-buttonRow",K=".a-GridLayout-buttonRow",L="a-GridLayout--conditional",M="a-GridLayout--legacy",N=".a-GridLayout--legacy",O="a-GridLayout-items",P="a-GridLayout-regions",Q="a-GridLayout-buttons",R="a-GridLayout-grid",S=".a-GridLayout-grid",T="a-GridLayout-stack",U="a-GridLayout-flow",V="a-GridLayout-label",W=".a-GridLayout-label",X="a-GridLayout-dragAction",Y=".a-GridLayout-dragAction",Z=".a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",$=".a-GridLayout-page, .a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",_=".a-GridLayout-regionContainer, .a-GridLayout-itemContainer, .a-GridLayout-buttonContainer",aa=".a-GridLayout-grid, .a-GridLayout-stack, .a-GridLayout-flow",ba="a-GridLayout-templateGrid",ca="is-disabled",da="is-focused",ea=".is-selected",fa="is-selected",ga="is-active",ha="a-GridLayout-helper",ia="a-GridLayout-placeholder",ja="a-GIcon",ka="is-draggable",la=".is-draggable",ma="aria-selected",na=-1,oa=-2,pa=-3,qa={regionContainer:[A,P],itemContainer:[C,O],buttonContainer:[E,Q]},ra={region:y,item:x,button:z},sa=[50,75,100,125,150,175,200];a.widget("apex.gridlayout",a.ui.mouse,{version:"18.1",widgetEventPrefix:"gridlayout",dragging:!1,animating:!1,nodeMap:{},nextId:1,dragComponent:null,helper:null,fromOutside:!1,isOver:!1,lastZoom:"",pageRoot:null,options:{getPageRoot:null,getIconForComponent:function(a){var b="",c=a.type;return"region"===c?b="region":"item"===c?b="page-item":"button"===c?b="button":"page"===c&&(b="page"),b},makeComponent:null,updateComponentCopy:null,deleteKeyAction:null,contextMenuAction:null,stateClassMap:{},stateIconMap:{},displayFrom:null,hideLegacyDisplayPoints:!1,hideEmptyDisplayPoints:!1,hideButtons:!1,hideItems:!1,zoom:100,iconType:ja,appendTo:"parent",containment:!1,cursor:"auto",cursorAt:!1,gridTolerance:10,idPrefix:null,multiple:!0,opacity:!1,animate:!0,scroll:!0,scrollSensitivity:20,scrollSpeed:20,tolerance:"intersect",zIndex:1e3,activate:null,deactivate:null,out:null,over:null,start:null,beforeStop:null,stop:null,selectionChange:null,added:null,removed:null,moved:null,copied:null},_create:function(){var b=this.options,c=this;if(!b.makeComponent||!b.updateComponentCopy||!b.getPageRoot)throw"Missing required options.";this.pageRoot=b.getPageRoot(),this.containerCache={},this.element.addClass(u),this.baseId=(b.idPrefix||this.element[0].id||"glv")+"_",this.refresh(!1),this._setZoom(),this.offset=this.element.offset(),this._mouseInit(),this.element.on("keydown.glv",function(d){var e=a.ui.keyCode,f=d.which;d.altKey||(f===e.HOME?(c._select(a(w+":first"),d,!0,!0),d.preventDefault()):f===e.END?(c._select(c.element.find($).last(),d,!0,!0),d.preventDefault()):f===e.DOWN?(c._traverseDown(d),d.preventDefault()):f===e.UP?(c._traverseUp(d),d.preventDefault(),d.stopPropagation()):f===e.LEFT?(c._traverseLeft(d),d.preventDefault()):f===e.RIGHT?(c._traverseRight(d),d.preventDefault()):f===e.SPACE?(c.lastFocused&&c._select(a(c.lastFocused),d,!0,!0),d.preventDefault()):b.deleteKeyAction&&f===e.DELETE?(c.lastFocused&&b.deleteKeyAction(d),d.preventDefault()):b.contextMenuAction&&d.shiftKey&&121===f&&(c.lastFocused&&!a(c.lastFocused).is(ea)&&c._select(a(c.lastFocused),{},!1,!0),b.contextMenuAction(d),d.preventDefault()))}).on("focusin",function(b){var d=a(b.target).closest($);0!==d.length&&(d.addClass(da),c._setFocusable(d[0]))}).on("focusout",function(b){var c=a(b.target).closest($);c.removeClass(da)}).on("contextmenu",function(d){var e;b.contextMenuAction&&(e=a(d.target).closest($).not(ea),e.length&&c._select(e,{},!1,!1),b.contextMenuAction(d),d.preventDefault())})},_destroy:function(){return this.element.removeClass(u).empty(),this._mouseDestroy(),this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass(ca,!!c)):a.Widget.prototype._setOption.apply(this,arguments),"displayFrom"===b?this.refresh(!1):"hideLegacyDisplayPoints"===b||"hideButtons"===b||"hideItems"===b||"hideEmptyDisplayPoints"===b?this._showOrHideDisplayPoints():"zoom"===b&&this._setZoom()},pageDataChanged:function(){var a=this.options;this.pageRoot=this.options.getPageRoot(),a.displayFrom&&(this._find(a.displayFrom,!0)||(a.displayFrom=null)),this.refresh(!1)},getPageData:function(){return this.pageRoot},refresh:function(a){var d,e,f,g,h,i,j,k=this.options,l=b.htmlBuilder();if(c.info("Gridlayout refresh"),!a)for(h=[],g=this.getSelectedComponents(),d=0;d<g.length;d++)h.push(g[d].id);if(this._layoutPage(),this.nodeMap={},k.displayFrom){if(e=this._find(k.displayFrom,!0),!e)throw"No such region in displayFrom option: "+k.displayFrom;for(i=!0,j=e._parent;j;){if(j.components&&!j.isGrid){i=!1;break}j=j._parent}this._renderRegion(l,e,i,!0)}else this._renderPage(l,this.pageRoot);return this.element.html(l.toString()),this._showOrHideDisplayPoints(),f=this.element.children().eq(0),a?(this._select(f,a),this._trigger("selectionChange")):(this._setFocusable(f[0]),h.length>0&&this.element.is(":visible")&&(this.setSelectedComponents(h,!1),h.length!==this.getSelection().length&&this._trigger("selectionChange"))),this},dump:function(){c.log("Page: \r\n"+JSON.stringify(this.pageRoot,function(a,b){return"_parent"===a?"-> "+(this._parent.id||this._parent.title):"_modelComponent"===a?"[id="+b.id+"]":"_parentGrid"===a?"-> "+j(this._parentGrid._parent._grids,this._parentGrid):"_parentRow"===a?"-> "+j(this._parentRow._parentGrid.rows,this._parentRow):"_parentColumn"===a?"-> "+j(this._parentColumn._parentRow.columns,this._parentColumn):b},2))},findById:function(b){var c=this._find(b);return c?this._getElement(c):a()},findComponentById:function(a){return this._find(a)},getContainer:function(a){return a.closest(_)},findContainer:function(a,b){var c,d,e,f=this.pageRoot;if(d=f.id===a?f:this._find(a,!0))for(c=0;c<d.displayPoints.length;c++)if(e=d.displayPoints[c],e.id===b)return e;return null},getComponents:function(a){var b=this,c=[];return a.each(function(){c.push(b._getNode(this))}),c},getSelection:function(){return this.element.find(ea)},getSelectedComponents:function(){return this.getComponents(this.getSelection())},setSelection:function(a,b){b=!!b,this._select(a,null,b,!1,!0)},setSelectedComponents:function(b,c){var d,e,f,g=[];for(c=!!c,d=0;d<b.length;d++)e=this._find(b[d]),e&&(f=this._getElement(e),f.length>0&&g.push(f[0]));this._select(a(g),null,c,!1,!0)},focus:function(){this.lastFocused&&this.lastFocused.focus()},makeHelper:function(c,d,e,f){var g,h,i=this.options.getIconForComponent,j=new b.htmlBuilder;return c||(g=this._getNode(this.dragComponent[0]),c=g.type,d=i(g),e=g.title),h=ra[c]+" "+ha,j.markup("<div").attr("class",h).optionalAttr("data-type-id",f).markup(">"),this._renderHeader(j,d,e,!0),j.markup("<div").attr("class",X).markup("></div></div>"),a(j.toString())},getDropTargets:function(b,c){function e(c){i=c,a(this).children().eq(0).children(k).each(function(c){return n&&this===b[0]?void(m=!0):void g.items.push({element:a(this),row:h,col:i,index:c,name:a(this).children("h3").text()})})}function f(b){h=b,a(this).children("td").each(e)}var g,h,i,j,k,l,m,n,o,p=[];if(c=c||"move",n="move"===c,"add"===c&&"string"==typeof b&&(o=b),"item"===o||!o&&b.hasClass(x))j=O;else if("region"===o||!o&&b.hasClass(y))j=P;else{if("button"!==o&&(o||!b.hasClass(z)))throw"Invalid component or component type";j=Q}return j="."+j,k="."+k,l=a(j,this.element).filter(":visible"),l.each(function(){var c,e,h,i,j,l=a(this),o=null;k=s(l),l.hasClass(R)?e="grid":l.hasClass(T)?e="stack":l.hasClass(U)&&(e="flow"),"stack"===e&&"TD"===l.parent()[0].nodeName||n&&0!==l.parents().filter(b[0]).length||(i=l.parent().closest(".a-GridLayout-region").find(".a-GridLayout-label").eq(0).text(),j="",""!==i&&(j=i+" > "),"flow"===e&&"TD"===l.parent()[0].nodeName?(h=l.closest(K).prev().text(),l.parent().next().length>0?(h=d.formatMessageNoEscape("GL.BTN_POS_L",h),o="left"):(h=d.formatMessageNoEscape("GL.BTN_POS_R",h),o="right")):h=l.prev().text(),j+=h,g={element:l.closest(_),type:e,region:i,name:h,label:j},m=!1,"grid"===e?(g.items=[],l.children("tbody").children("tr").each(f)):(g.items=[],o&&(g.alignment=o),l.children(k).each(function(d){return n&&this===b[0]?void(m=!0):(c={element:a(this),index:d,name:a(this).children("h3").text()},o&&(c.alignment=o),void g.items.push(c))})),m&&0===g.items.length||p.push(g))}),p},update:function(d,e,f){var g,h,i,j,k,l,m=this.options,n=!1;if("string"==typeof d&&(d=this._find(d)),!d)throw"Nothing to update";if(c.getLevel()>=c.LOG_LEVEL.INFO&&c.info("Gridlayout update component: "+d.title+", layoutChange: "+e+", childrenOnly: "+f),e&&(f&&!d._parent||(d=d._parent._parent),n="page"===d.type||a.isArray(d._parent._grids),this._layoutDisplayPoints(d.displayPoints,d,n,12)),i=this._getElement(d),i.length)if(e)k=this.getSelectedComponents(),h=b.htmlBuilder(),"page"===d.type?this._renderPage(h,d):this._renderComponent(h,d,n),j=a(h.toString()),i.hasClass(fa)&&j.addClass(fa),j[0].tabIndex=i[0].tabIndex,i.replaceWith(j),this._showOrHideDisplayPoints(j),this.setSelectedComponents(k);else{i.find(W).first().html(b.escapeHTML(d.title)),i.toggleClass(L,!!d.isConditional);for(g in m.stateClassMap)m.stateClassMap.hasOwnProperty(g)&&i.toggleClass(m.stateClassMap[g],!!d[g]);i.find("."+m.iconType)[0].className=m.iconType+" "+m.getIconForComponent(d),l=p(d,m.stateIconMap),l&&i.find(W).first().prepend("<span class='a-Icon "+l+"'></span>")}},add:function(a,b,d,e,f,g,h,i,j){var k,l,m;if("string"!=typeof b&&"number"!=typeof b||(l=b,b=this.options.makeComponent(l)),d=this._getContainerElement(d),!d||!d.is(_))throw"Invalid add destination";return c.getLevel()>=c.LOG_LEVEL.INFO&&c.info("Gridlayout add component: "+b.title+" to: "+d[0].id+", g/r/c/i: "+e+"/"+f+"/"+g+"/"+h),k=this._add(b,d,e,f,g,h,i,j),m=k.newComponent$,k.lastChange=!0,this._trigger("added",a,k),this._select(m,a,!0),this},remove:function(b,d){var e,f,g,h,i,j=[],k=a(this.lastFocused).hasClass(da),l=this;if(c.getLevel()>=c.LOG_LEVEL.INFO&&c.info("Gridlayout remove "+(d?d.length+" component(s).":"selection")),d=d||this.getSelection(),a.isArray(d)){for(h=[],e=0;e<d.length;e++)i=this.findById(d[e]),i.length>0&&h.push(i[0]);d=a(h)}if(!d||0===d.filter(Z).length)throw"Nothing to remove";for(g=d.filter(ea).eq(0);g&&g.length&&g.hasClass(fa)&&!g.is(w);)g=a(this._traverseUp(b,!0)),g&&(this.lastFocused=g[0]);for(d.filter(Z).each(function(){var b;b=l._getNode(this),b&&(c.info("Gridlayout remove component: "+b.title),f=l._remove(a(this)),j.push(f))}),e=0;e<j.length;e++)j[e].lastChange=e>=j.length-1,l._trigger("removed",b,j[e]);return g&&g.length&&this._select(g,b,k),this},move:function(b,d,e,f,g,h,i,j){var k,l;if(d=d||a(this.lastFocused),d=this._getComponentElement(d),!d||!d.is(Z))throw"Nothing to move";if(e=this._getContainerElement(e),!e||!e.is(_))throw"Invalid move destination";return c.getLevel()>=c.LOG_LEVEL.INFO&&c.info("Gridlayout move component: "+this._getNode(d[0]).title+" to: "+e[0].id+", g/r/c/i: "+f+"/"+g+"/"+h+"/"+i),k=this._moveOrCopy(d,e,f,g,h,i,j,!1),l=k.newComponent$,k.lastChange=!0,this._trigger("moved",b,k),this._select(l,b,!0),this},copy:function(b,d,e,f,g,h,i,j){var k,l;if(d=d||a(this.lastFocused),d=this._getComponentElement(d),!d||!d.is(Z))throw"Nothing to copy";if(e=this._getContainerElement(e),!e||!e.is(_))throw"Invalid copy destination";return c.getLevel()>=c.LOG_LEVEL.INFO&&c.info("Gridlayout copy component: "+this._getNode(d[0]).title+" to: "+e[0].id+", g/r/c/i: "+f+"/"+g+"/"+h+"/"+i),k=this._moveOrCopy(d,e,f,g,h,i,j,!0),l=k.newComponent$,k.lastChange=!0,this._trigger("copied",b,k),this._select(l,b,!0),this},_layoutGrid:function(a,b,c,d){function e(a,b){var c=s.columns.splice(a,1);s.columns.splice(b,0,c[0])}var f,g,h,i,j,k,l,m=this.pageRoot,o=null,p={},q=0,r=null,s=null,t=null,u=0;if(c)for(o=[],i=0;i<a.length;i++)if(j=a[i],(!r||c&&"fixed"!==m.gridType&&j.newGrid)&&(r={_parent:b,rows:[]},s=null,o.push(r)),(!s||c&&j.newRow)&&(s={_parentGrid:r,columns:[]},t=null,r.rows.push(s),p={}),c&&j.col>0)if(p.hasOwnProperty(j.col))s.columns[p[j.col]].components.push(j),j._parentColumn=s.columns[p[j.col]];else if(t={_parentRow:s,col:j.col,span:m.hasColumnSpan?j.span||-1:1,rowSpan:j.rowSpan,components:[j]},j._parentColumn=t,s.columns.push(t),u=s.columns.length-1,j.col<q){for(l=u,k=j.col+1;k<=q;k++)p.hasOwnProperty(k)&&(p[k]<l&&(l=p[k]),p[k]+=1);l!==u&&e(u,l),p[j.col]=l}else q=j.col,p[j.col]=u;else(!t||c&&j.newCol)&&(t={_parentRow:s,col:-1,span:m.hasColumnSpan?j.span||-1:1,rowSpan:j.rowSpan,components:[]},s.columns.push(t)),t.components.push(j),j._parentColumn=t;if(c&&"fixed"===m.gridType&&m.hasColumnSpan)for(f=0;f<o.length;f++)for(r=o[f],g=0;g<r.rows.length;g++)s=r.rows[g],n(s,d);if(o)for(f=0;f<o.length;f++)for(r=o[f],g=0;g<r.rows.length;g++)for(s=r.rows[g],h=0;h<s.columns.length;h++)t=s.columns[h];for(i=0;i<a.length;i++)j=a[i],j._parent=b,j.displayPoints&&this._layoutDisplayPoints(j.displayPoints,j,c,d);return o},_layoutDisplayPoints:function(a,b,c,d){var e,f,g=this.pageRoot,h=0;for(e=0;e<a.length;e++){if(f=a[e],f._parent=b,f.hasOwnProperty("span")||f.hasOwnProperty("newColumn")){if(f.newGrid===!0&&(delete f.newRow,delete f.newColumn),f.newRow===!0&&delete f.newColumn,f.newRow!==!0&&f.newGrid!==!0||(h=0),f.span=f.span||1,f.newColumn!==!1&&(h+=f.span),"fixed"===g.gridType&&h>d)throw"Fixed layout template grid exceeded max columns. Display point: "+f.title;if(c&&f.isGrid&&!f.maxColumns&&("fixed"!==g.gridType||g.alwaysUseMaxColumns?f.maxColumns=d:f.maxColumns=f.span),f.isGrid&&"fixed"===g.gridType&&!g.alwaysUseMaxColumns&&f.span!==f.maxColumns)throw"Fixed layout span and maxColumns must be the same. Display point: "+f.title}else h=0,c&&f.isGrid&&!f.maxColumns&&(f.maxColumns=d);if(f.hasRowSpan&&!g.hasRowSpan)throw"Row span not allowed for display point when page doesn't support row span. Display point: "+f.title;f._grids=this._layoutGrid(f.components,f,c&&f.isGrid,f.maxColumns||d)}},_layoutPage:function(){var a=this.pageRoot;this._layoutDisplayPoints(a.displayPoints,a,!0,a.maxColumns)},_showOrHideDisplayPoints:function(b){var c,d=this.options,e=this;b=b||this.element,b.find(B).each(function(){var b=e._getNode(this);!d.hideEmptyDisplayPoints&&a(this).is(N)?a(this).toggle(!d.hideLegacyDisplayPoints||0!==b.components.length):a(this).toggle(!d.hideEmptyDisplayPoints||0!==b.components.length)}),b.find(F).each(function(){var b=e._getNode(this);c=!(d.hideButtons||d.hideEmptyDisplayPoints&&0===b.components.length),c&&b.isLegacy&&(c=!d.hideLegacyDisplayPoints||0!==b.components.length),a(this).toggle(c)}),b.find(D).each(function(){var b=e._getNode(this);c=!(d.hideItems||d.hideEmptyDisplayPoints&&0===b.components.length),c&&b.isLegacy&&(c=!d.hideLegacyDisplayPoints||0!==b.components.length),a(this).toggle(c)}),d.hideEmptyDisplayPoints},_find:function(a,b){function c(d){var e,f,g,h,i=null;for(e=0;e<d.length;e++)if(g=d[e],!b||q(g,"regionContainer"))for(f=0;f<g.components.length;f++){if(h=g.components[f],h===a||h.id===a)return h;if(h.displayPoints&&(i=c(h.displayPoints)))return i}return i}var d=this.pageRoot;return!b&&d===a||d.id===a?d:c(d.displayPoints)},_getComponentElement:function(a){return"string"==typeof a?this.findById(a):a._elementId?this._getElement(a):a},_getContainerElement:function(b){var c;return a.isArray(b)?(c=this.findContainer(b[0],b[1]),c?this._getElement(c):null):b._elementId?this._getElement(b):b},_addNode:function(a){var b=this.nextId;return this.nodeMap[this.nextId]=a,a._elementId=this.nextId,this.nextId+=1,this.baseId+b},_setNode:function(a){if(!a._elementId)throw"Failed to add node to nodeMap - no id";this.nodeMap[a._elementId]=a},_getNode:function(a){var b=i(a.id);return this.nodeMap[b]},_getElement:function(b){var c=this.baseId+b._elementId;return a("#"+c)},_renderHeader:function(a,b,c,d,e){a.markup("<h3").optionalAttr("class",null!==d?ka:null).optionalAttr("aria-grabbed",null!==d?""+d:null).markup("><span").attr("class",this.options.iconType+" "+b).markup("></span><span").attr("class",V).markup(">"),e&&a.markup("<span class='a-Icon ").attr(e).markup("'></span>"),a.content(c).markup("</span></h3>")},_renderRegion:function(a,b,c,d){var e,f=y;b.isConditional&&(f+=" "+L),f=o(f,b,this.options.stateClassMap),e=p(b,this.options.stateIconMap),a.markup("<div").attr("class",f).attr("id",this._addNode(b)).markup(" tabindex='-1'>"),this._renderHeader(a,this.options.getIconForComponent(b),b.title,!(!d&&!b.isReadOnly)&&null,e),this._renderDisplayPoints(a,b.displayPoints,c,b.itemsAboveContent),a.markup("</div>")},_renderItem:function(a,b){var c,d=x;b.isConditional&&(d+=" "+L),d=o(d,b,this.options.stateClassMap),c=p(b,this.options.stateIconMap),a.markup("<div").attr("class",d).attr("id",this._addNode(b)).markup(" tabindex='-1'>"),this._renderHeader(a,this.options.getIconForComponent(b),b.title,!!b.isReadOnly&&null,c),a.markup("</div>")},_renderButton:function(a,b){var c,d=z;b.isConditional&&(d+=" "+L),d=o(d,b,this.options.stateClassMap),c=p(b,this.options.stateIconMap),a.markup("<div").attr("class",d).attr("id",this._addNode(b)).markup(" tabindex='-1'>"),this._renderHeader(a,this.options.getIconForComponent(b),b.title,!!b.isReadOnly&&null,c),a.markup("</div>")},_renderComponentsInGrid:function(a,b,c,d){function e(){for(a.markup("<thead><tr>"),f=0;f<b.maxColumns;f++)a.markup("<td></td>");a.markup("</tr></thead>")}var f,g,h,i,j,k,l,m,n,o,p=this.pageRoot.gridType;if(d.length>0)for(g=0;g<d.length;g++){for(m=d[g],a.markup("<table").attr("class",R+" "+c+(0===g?" first":"")).markup(">"),"fixed"===p&&e(),a.markup("<tbody>"),h=0;h<m.rows.length;h++){for(n=m.rows[h],a.markup("<tr>"),l=1,i=0;i<n.columns.length;i++){for(o=n.columns[i],o.col>l&&(a.markup("<td").attr("colspan",o.col-l).markup("><div").attr("class",T+" "+c).markup("></div></td>"),l=o.col),l+=o.span>0?o.span:1,a.markup("<td").optionalAttr("colspan",o.span).optionalAttr("rowspan",o.rowSpan).markup("><div").attr("class",T+" "+c).markup(">"),j=0;j<o.components.length;j++)k=o.components[j],this._renderComponent(a,k,!0);a.markup("</div></td>")}a.markup("</tr>")}a.markup("</tbody></table>")}else a.markup("<table").attr("class",R+" first "+c).markup(">"),"fixed"===p&&e(),a.markup("<tbody><tr><td><div").attr("class",T+" "+c).markup("></div></td></tr></tbody></table>")},_renderComponent:function(a,b,c){if("region"===b.type)this._renderRegion(a,b,c);else if("item"===b.type)this._renderItem(a,b);else{if("button"!==b.type)throw"Unknown component type";this._renderButton(a,b)}},_renderComponents:function(a,b,c,d){var e,f;if(a.markup("<div").attr("class",b).markup(">"),c&&c.length>0)for(e=0;e<c.length;e++)f=c[e],d&&f.alignment!==d||this._renderComponent(a,f,!1);a.markup("</div>")},_renderDisplayPoints:function(a,b,c,e){function f(){var b;k=d.getMessage("GL.REGION_CONTENT"),a.markup("<div").attr("class",G).markup("><h3>").content(k).markup("</h3>"),m&&(b=m.types[0],a.markup("<div").attr("class",qa[b][0]).attr("id",l._addNode(m)).markup(">"),a.markup("<h3>").content(m.title).markup("</h3>"),l._renderComponents(a,U+" "+qa[b][1],m.components),a.markup("</div>")),a.markup("</div>")}var g,h,i,j,k,l=this,m=null,n=!1,o=!1,p=!1;for(g=0;g<b.length;g++){if(h=b[g],h.hasOwnProperty("span")||h.hasOwnProperty("newColumn")?(p&&h.newColumn!==!1&&(a.markup("</td>"),p=!1),o?h.newGrid===!0&&a.markup("</tr></tbody></table><table").attr("class",ba).markup("><tbody><tr>"):(a.markup("<table").attr("class",ba).markup("><tbody><tr>"),o=!0,h.newColumn=!0),h.newRow===!0&&a.markup("</tr><tr>"),h.newColumn!==!1&&(a.markup("<td colspan='"+h.span+"'>"),p=!0)):o&&(a.markup("</tr></tbody></table>"),o=!1),h.types.length>1||q(h,"regionContainer")||q(h,"itemContainer"))n&&(a.markup("</div>"),n=!1);else if("buttonContainer"===h.types[0]){if("RIGHT_OF_IR_SEARCH_BAR"===h.id){m=h;continue}n?h.hasAlignment&&(a.markup("</div>"),n=!1):h.hasAlignment||(a.markup("<div").attr("class",H).markup(">"),n=!0)}if(q(h,"itemContainer")&&"BODY"===h.id&&!e&&f(),i=r(h.types,0),h.isLegacy&&(i+=" "+M),j=r(h.types,1),a.markup("<div").attr("class",i).attr("id",this._addNode(h)).markup(">"),a.markup("<h3>").content(h.title).markup("</h3>"),h.types.length>1||q(h,"regionContainer")||q(h,"itemContainer"))h.isGrid&&c?this._renderComponentsInGrid(a,h,j,h._grids):this._renderComponents(a,T+" "+j,h.components);else{if("buttonContainer"!==h.types[0])throw"Unknown display point type: "+h.types[0];h.hasAlignment?(a.markup("<table").attr("class",J).markup("><tbody><tr><td>"),this._renderComponents(a,U+" "+j,h.components,"left"),a.markup("</td><td>"),this._renderComponents(a,U+" "+j,h.components,"right"),a.markup("</td></tr></tbody></table>")):this._renderComponents(a,U+" "+j,h.components)}a.markup("</div>"),q(h,"itemContainer")&&"BODY"===h.id&&e&&f()}n&&a.markup("</div>"),o&&a.markup("</tr></tbody></table>")},_renderPage:function(a,b){var c,d=v;b.isConditional&&(d+=" "+L),d=o(d,b,this.options.stateClassMap),c=p(b,this.options.stateIconMap),a.markup("<div").attr("class",d).attr("id",this._addNode(b)).markup(" tabindex='-1'>"),this._renderHeader(a,this.options.getIconForComponent(b),b.title,null,c),this._renderDisplayPoints(a,b.displayPoints,!0),a.markup("</div>")},_setFocusable:function(a){this.lastFocused&&this.lastFocused!==a&&(this.lastFocused.tabIndex=-1),a.tabIndex=0,this.lastFocused=a},_select:function(b,c,d,e,f){var g,h,i,j,k,l,m="set",n=this;b=b.filter(":visible"),c&&this.options.multiple&&("mousedown"===c.type?c.ctrlKey||c.metaKey?m="toggle":c.shiftKey&&(m="add"):"keydown"===c.type&&(c.keyCode===a.ui.keyCode.SPACE?m="toggle":c.ctrlKey?m="none":c.shiftKey&&(m="add"))),g=this.element.find(ea),"set"===m&&g.removeClass(fa).removeAttr(ma),h=b.hasClass(fa),"set"===m||"add"===m||"toggle"===m&&!h?b.addClass(fa).attr(ma,!0):"toggle"===m&&h&&b.removeClass(fa).removeAttr(ma),b.length>0&&(d?(b[0].tabIndex=0,b[0].focus()):this._setFocusable(b[0]),j=this.element.scrollParent(),k=j[0]===document?{left:0,top:0}:j.offset(),k&&(l=this.element.offset(),i=b.first().offset(),(i.top<k.top||i.top>k.top+j[0].offsetHeight)&&(j[0].scrollTop=i.top-l.top),(i.left+b[0].offsetWidth<k.left||i.left>k.left+j[0].offsetWidth)&&(j[0].scrollLeft=i.left-l.left))),f||("toggle"===m||"add"===m&&!h||"set"===m&&(g[0]!==b[0]||g.length!==b.length))&&(n.triggerTimerId&&(clearTimeout(n.triggerTimerId),n.triggerTimerId=null),n.triggerTimerId=setTimeout(function(){n.triggerTimerId=null,n._trigger("selectionChange",c)},e?350:1))},_traverseRight:function(b){var c,d,e=null;if(this.lastFocused){if(c=a(this.lastFocused),c.parent().hasClass(U))return void this._traverseDown(b);for(d=c.closest("td");d.length;){if(c=d.next().find(Z).first(),c.length){e=c;break}d=d.parent().closest("td")}e&&e.length>0&&this._select(e.eq(0),b,!0,!0)}},_traverseLeft:function(b){var c,d,e=null;if(this.lastFocused){if(c=a(this.lastFocused),c.parent().hasClass(U))return void this._traverseUp(b);for(d=c.closest("td");d.length;){if(c=d.prev().find(Z).first(),c.length){e=c;break}d=d.parent().closest("td")}e&&e.length>0&&this._select(e.eq(0),b,!0,!0)}},_traverseDown:function(b){var c,d,e,f,g,h,i;if(this.lastFocused){if(e=a(this.lastFocused),b.which!==a.ui.keyCode.RIGHT&&(i=e.closest(I),0===i.length&&(i=e.closest("."+E)),i.length>0&&(e=i.find(Z).last())),f=e.find(Z).filter(":visible").first(),f.length>0)e=f;else if(f=e.nextAll(":visible").first(),f.length>0)e=f;else if(e.closest(K).length>0&&(f=e.closest("td").next().find(Z).filter(":visible").first()),f.length>0)e=f;else for(;e.length>0;){if(f=e.nextAll(Z).filter(":visible").first(),f.length>0){e=f;break}if(f=e.nextAll(":visible").find(Z).filter(":visible").first(),f.length>0){e=f;break}if(g=e.parent().parent().parent("tr").first().next().first(),g.length>0&&(h=g.prev()[0],c=k(e.parents("td").filter(function(){return this.parentNode===h})),d=0,g.children().each(function(){if(d+=this.colSpan||1,d>c)return f=a(this).find(Z).first(),!1}),0===f.length&&(f=g.children().last().find(Z).first())),f.length>0){e=f;break}e=e.parent().closest(Z+","+_+","+I)}e&&e.length>0&&this._select(e,b,!0,!0)}},_traverseUp:function(b,c){var d,e,f,g,h,i,j;if(this.lastFocused&&(f=a(this.lastFocused),b.which!==a.ui.keyCode.LEFT&&(j=f.closest(I),0===j.length&&(j=f.closest("."+E)),j.length>0&&(f=j.find(Z).first())),g=f.prevAll(":visible").first(),g.length>0?(f=g.find(Z).filter(":visible").last(),0===f.length&&(f=g)):(h=f.closest("tr").prev(),h.length>0&&(d=k(f.closest("td")),e=0,h.children().each(function(){if(e+=this.colSpan||1,e>d)return g=a(this).find(Z).filter(":visible").last(),!1}),0===g.length&&(g=h.children().last().find(Z).filter(":visible").last())),g.length>0?f=g:(f.closest(K).length>0&&(g=f.closest("td").prev().find(Z).filter(":visible").last()),0===g.length&&(i=j&&j.length>0?j:f.parent().closest(_),g=i.prevAll(":visible").find(Z).filter(":visible").last(),0===g.length&&i.parent().is(I)&&(i=i.parent(),g=i.prevAll(":visible").find(Z).filter(":visible").last())),f=0===g.length?f.parent().closest($):g)),f&&f.length>0)){if(c)return f[0];this._select(f,b,!0,!0)}},_setZoom:function(){var a,b,c=1*this.options.zoom;for(a=0;a<sa.length;a++)if(c<=sa[a]){c=sa[a];break}a>=sa.length&&(c=sa[sa.length-1]),b=u+"--z"+c,this.element.removeClass(this.lastZoom).addClass(b),this.lastZoom=b},_mouseCapture:function(b,c){var d,e=null,f=this;return!this.animating&&!this.options.disabled&&("H3"===b.target.nodeName?d=a(b.target):"H3"===b.target.parentNode.nodeName&&(d=a(b.target.parentNode)),d&&d.length&&(e=d.parent($)),e&&e.length&&!c&&f._select(e,b,!0,!1),d&&d.length&&(e=d.parent(Z)),!(!(d&&d.is(la)&&e&&1===e.length)||e.parent().hasClass(u))&&(this.dragComponent=e,this._initDragTargets(this.dragComponent),!0))},_mouseStart:function(b,c,d){var e,f,g,h=this.options,i=this;return d||(a("body").on("keydown.glv",function(b){return b.keyCode===a.ui.keyCode.ESCAPE?void i._cancel(b):void i._dragCopyOrMove(b.ctrlKey)}),a("body").on("keyup.glv",function(a){i._dragCopyOrMove(a.ctrlKey)})),this.helper||(this.helper=this._createHelper()),this.margins={left:parseInt(this.dragComponent.css("marginLeft"),10)||0,top:parseInt(this.dragComponent.css("marginTop"),10)||0},this.scrollParent=this.helper.scrollParent(),this.offset=this.dragComponent.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset()}),this.helper.css("position","absolute"),this._cacheHelperProportions(),this.originalPosition=this._generatePosition(c),h.cursorAt&&this._adjustOffsetFromHelper(h.cursorAt),this.dragging=!0,f=this.dragComponent.children("h3").outerHeight(),this.dragComponent.hide(),this._createPlaceholder(f),g=this.placeholder.offset().top,this._initTargetContainers(),g=this.placeholder.offset().top-g,g>0&&(this.scrollParent[0].scrollTop=this.scrollParent[0].scrollTop+g),this._refreshPositions(),h.containment&&this._setContainment(),d||h.cursor&&"auto"!==h.cursor&&(e=a("body"),this.storedCursor=e.css("cursor"),e.css("cursor",h.cursor),this.storedStylesheet=a("<style>*{ cursor: "+h.cursor+" !important; }</style>").appendTo(e)),h.opacity&&this.helper.css("opacity",h.opacity),h.zIndex&&this.helper.css("zIndex",h.zIndex),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",c,this._uiHashDnD()),this._mouseDrag(c),!0},_mouseDrag:function(b){var c,d,e,g,h,i,j,k,l,m,n,o,p,q=0,r=0,s=this.options,t=!1,u=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._adjustPositionForScroll(),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+s.scrollSpeed:b.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-s.scrollSpeed),r=this.scrollParent[0].scrollTop-this.dropPositionsOrigin.y,this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+s.scrollSpeed:b.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-s.scrollSpeed),q=this.scrollParent[0].scrollLeft-this.dropPositionsOrigin.x):(b.pageY-a(document).scrollTop()<s.scrollSensitivity?u=a(document).scrollTop(a(document).scrollTop()-s.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<s.scrollSensitivity&&(u=a(document).scrollTop(a(document).scrollTop()+s.scrollSpeed)),r=a(document).scrollTop()-this.dropPositionsOrigin.y,b.pageX-a(document).scrollLeft()<s.scrollSensitivity?u=a(document).scrollLeft(a(document).scrollLeft()-s.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<s.scrollSensitivity&&(u=a(document).scrollLeft(a(document).scrollLeft()+s.scrollSpeed)),q=a(document).scrollLeft()-this.dropPositionsOrigin.x)),this.positionAbs=this._adjustPositionForScroll(),this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",this._dragCopyOrMove(b.ctrlKey),c=0;c<this.containers.length;c++)if(e=this.containers[c],i=this._intersectsWithPointer(e,null,q,r)){if(p=e.type,"grid"===p)for(o=this.positionAbs.top+this.offset.click.top+r,n=this.positionAbs.left+this.offset.click.left+q,j=0;j<e.rows.length;j++){if(k=e.rows[j],f(o,k.y-s.gridTolerance,2*s.gridTolerance)){t=this._movePlaceholder(e,null,"row",j);break}if(j<e.rows.length-1&&f(o,k.y,e.rows[j+1].y-k.y))for(l=0;l<k.columns.length;l++)if(m=k.columns[l],f(n,m-s.gridTolerance,2*s.gridTolerance)){t=this._movePlaceholder(e,null,"column",j,l);break}}if(t)break;if(e.items)for(d=0;d<e.items.length;d++)if(g=e.items[d],i=this._intersectsWithPointer(g,p,q,r)){h=g.element[0],h!==this.dragComponent[0]&&this.placeholder[1===i?"next":"prev"]()[0]!==h&&("pointer"===this.options.tolerance||this._intersectsWithSides(g,p))&&(t=this._movePlaceholder(e,g,1===i?"before":"after"));break}if(t)break;if("grid"!==e.type&&(t=this._movePlaceholder(e)),
t)break;e!==this.curContainer&&(this.curContainer=e);break}return this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(c||a("body").off(".glv"),this._deactivate(),this.storedCursor&&(a("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),!b.target)return this.fromOutside=!1,void(this.dragging=!1);if(this.options.animate){var d=this,e=this.placeholder.offset(),f={};f.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),f.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop),this.animating=!0,a(this.helper).animate(f,parseInt(this.options.animate,10)||500,function(){d._finishDrag(b)})}else this._finishDrag(b);return!1},_initDragTargets:function(a){a.hasClass(x)?(this.targetClass=O,this.itemClass=x):a.hasClass(y)?(this.targetClass=P,this.itemClass=y):a.hasClass(z)&&(this.targetClass=Q,this.itemClass=z)},_dragCopyOrMove:function(a){this.isOver||this.prevCopy===a||(a?(this.dragComponent.show(),this.helper.find(Y).text(d.getMessage("GL.DRAG_COPY"))):(this.dragComponent.hide(),this.helper.find(Y).text("")),this.prevCopy=a)},_cancel:function(b){this.dragging&&(this._mouseUp(a.Event("mouseup",{target:null})),this.dragComponent.show(),this._select(this.dragComponent,null,!0)),this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper&&this.helper[0].parentNode&&this.helper.remove(),this.helper=null,this.dragging=!1,this.animating=!1),this._trigger("stop",b,this._uiHashDnD())},_intersectsWith:function(a){var b=this.positionAbs.left,c=this.positionAbs.top,d=a.left,e=d+a.width,f=a.top,g=f+a.height,h=this.offset.click.top,i=this.offset.click.left,j="x"===this.options.axis||c+h>f&&c+h<g,k="y"===this.options.axis||b+i>d&&b+i<e;return j&&k},_intersectsWithPointer:function(a,b,c,d){var e=f(this.positionAbs.top+this.offset.click.top+d,a.top,a.height),g=f(this.positionAbs.left+this.offset.click.left+c,a.left,a.width),h=e&&g,i=this._getDragVerticalDirection(),j=this._getDragHorizontalDirection();return!!h&&("flow"===b&&j?"right"===j||"down"===i?2:1:i&&"down"===i?2:1)},_intersectsWithSides:function(a,b){var c=f(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=f(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),e=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return"flow"===b&&g?"right"===g&&d||"left"===g&&!d:e&&("down"===e&&c||"up"===e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},_initTargetContainers:function(){var b,c=this,d="."+this.targetClass,e=a(d,this.element),f=null;this.helper&&(e=e.not(this.helper.find(d))),this.dragComponent&&(e=e.not(this.dragComponent.find(d)),f=this.dragComponent.closest(d)[0]),e.addClass(ga),this.containers=[],this.curContainer=null,e.each(function(){var d,e,g;e=a(this),e.hasClass(R)?d="grid":e.hasClass(T)?d="stack":e.hasClass(U)&&(d="flow"),b={element:e,type:d,name:a(this).prev().text(),width:0,height:0,left:0,top:0},c.containers.unshift(b),this===f&&(c.curContainer=b),"grid"===d?b.rows=[]:(b.items=[],g=s(e),e.children(g).each(function(){b.items.push({element:a(this),name:a(this).children("h3").text(),width:0,height:0,left:0,top:0})}))})},_deactivate:function(){a("."+this.targetClass).removeClass(ga)},_refreshPositions:function(){function b(){l=a(this),h=l.offset(),j.columns.push(h.left)}function c(){k=a(this),h=k.offset(),j={y:h.top,columns:[]},f.rows.push(j),k.children("td").each(b),j.columns.push(h.left+l.outerWidth())}var d,e,f,g,h,i,j,k,l,m;for(k=a(),d=0;d<this.containers.length;d++)if(f=this.containers[d],g=f.element,f.width=g.outerWidth(),f.height=g.outerHeight(),h=g.offset(),f.left=h.left,f.top=h.top,"grid"===f.type)f.rows=[],g.children("tbody").children("tr").each(c),f.rows.push({y:h.top+k.outerHeight()});else for(e=0;e<f.items.length;e++)i=f.items[e],g=i.element,i.width=g.outerWidth(),i.height=g.outerHeight(),h=g.offset(),i.left=h.left,i.top=h.top;this.dropPositionsOrigin={x:0,y:0},m=this.element.scrollParent(),m[0]===document?m=this.element:this.dropPositionsOrigin={x:m[0].scrollLeft,y:m[0].scrollTop},h=m.offset(),this.containerCache.left=h.left,this.containerCache.top=h.top,this.containerCache.width=m.outerWidth(),this.containerCache.height=m.outerHeight()},_createPlaceholder:function(b){this.placeholder=a("<div class='"+ia+"'>&nbsp;</div>"),this.dragComponent.after(this.placeholder),b&&this.placeholder.height(b)},_createHelper:function(){var b=this.options,c=this.makeHelper();return c.parents("body").length||a("parent"!==b.appendTo?b.appendTo:this.element[0].parentNode)[0].appendChild(c[0]),!c[0].style.width,!c[0].style.height,c},_adjustOffsetFromHelper:function(a){"left"in a&&(this.offset.click.left=a.left+this.margins.left),"right"in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top"in a&&(this.offset.click.top=a.top+this.margins.top),"bottom"in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){var b;return this.offsetParent=this.helper.offsetParent(),b=this.offsetParent[0]===document||this.offsetParent[0]===document.firstElementChild?{left:0,top:0}:this.offsetParent.offset(),this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),"document"!==e.containment&&"window"!==e.containment||(this.containment=[0-this.offset.parent.left,0-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_generatePosition:function(b){var c=b.pageX,d=b.pageY,e=this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return this.originalPosition&&this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(c=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(d=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(c=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(d=this.containment[3]+this.offset.click.top)),{top:d-this.offset.click.top-this.offset.parent.top-(f?0:e.scrollTop()),left:c-this.offset.click.left-this.offset.parent.left-(f?0:e.scrollLeft())}},_adjustPositionForScroll:function(){var b=this.position,c=this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,d=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.parent.top-(d?0:c.scrollTop()),left:b.left+this.offset.parent.left-(d?0:c.scrollLeft())}},_makeTempDragComponent:function(){var c,d,e=b.htmlBuilder();return e.markup("<div").attr("class",this.itemClass).markup("><h3 class='is-draggable'><span>&nbsp;</span></h3></div>"),c=a(e.toString()),d=this.element.find("."+this.targetClass).not(S).filter(":visible").first(),!!d.length&&(d.append(c),this.dragComponent=c,!0)},_movePlaceholder:function(b,c,d,e,f){var g,h,i,j,k,l,m,n=null,o=null,p=!1;if(c)g=c.element[0],g.parentNode.insertBefore(this.placeholder[0],"before"===d?g:g.nextSibling),p=!0;else if(l=s(b.element),m=t(b.element),"grid"===b.type){if(h=b.element.children("tbody").children("tr"),"row"===d){if(e>=h.length?k=h.last().find(l).filter(":visible").length:(k=h.eq(e).find(l).filter(":visible").length,k>0&&e>0&&(k=h.eq(e-1).find(l).filter(":visible").length)),0===k)return!1;n=a("<tr><td><div class='"+T+" "+m+"'></div></td></tr>"),e>=h.length?h.last().after(n):h.eq(e).before(n),n.find("div").append(this.placeholder[0]),this.containers.unshift({element:n.find("div"),type:"stack",name:"temp",items:[],width:0,height:0,left:0,top:0}),p=!0}else if("column"===d){if(i=h.eq(e),j=i.children("td"),f>=j.length?k=j.last().find(l).filter(":visible").length:(k=j.eq(f).find(l).filter(":visible").length,k>0&&f>0&&(k=j.eq(f-1).find(l).filter(":visible").length)),0===k)return!1;o=a("<td><div class='"+T+" "+m+"'></div></td>"),f>=j.length?j.last().after(o):j.eq(f).before(o),o.find("div").append(this.placeholder[0]),this.containers.unshift({element:o.find("div"),type:"stack",name:"temp",items:[],width:0,height:0,left:0,top:0}),p=!0}}else(!b.items||0===b.items.length||1===b.items.length&&b.items[0].element[0]===this.dragComponent[0])&&(b.element.append(this.placeholder[0]),p=!0);return b!==this.curContainer&&(this.curContainer=b),p&&(this.tempGridRow&&0===this.placeholder.closest(this.tempGridRow).length&&(this.tempGridRow.remove(),this.tempGridRow=null),n&&(this.tempGridRow=n),this.tempGridColumn&&0===this.placeholder.closest(this.tempGridColumn).length&&(this.tempGridColumn.remove(),this.tempGridColumn=null),o&&(this.tempGridColumn=o)),p&&this._refreshPositions(),p},_copyComponent:function(a,b){var c,d,e,f,g={};for(e in a)if(f=a[e],"displayPoints"===e)for(d=g.displayPoints=[],c=0;c<a.displayPoints.length;c++)d.push(this._copyComponent(a.displayPoints[c],g));else if("components"===e)for(d=g.components=[],c=0;c<a.components.length;c++)d.push(this._copyComponent(a.components[c],g));else"_parent"===e?g._parent=b:"_"!==e.substring(0,1)&&(g[e]=f);return this.options.updateComponentCopy(g,a),g},_insert:function(a,b,c,d,f,g,h){var i,k,m,o,p,q,r=this.pageRoot,s=a.component,t=a.newParentContainer;if("button"===s.type&&(l(a,s,"alignment",h),h&&(a.newAlignment=h)),b){for(g===na||0===t._grids.length?(i={_parent:t,rows:[]},t._grids.splice(c,0,i),l(a,s,"newGrid",!0),a.newGridInserted=!0,g=oa):(l(a,s,"newGrid",!1),i=t._grids[c]),g===oa||d>=i.rows.length?(k={_parentGrid:i,columns:[]},i.rows.splice(d,0,k),a.newRowInserted=!0,g=pa,l(a,s,"newRow",!0)):(l(a,s,"newRow",!1),k=i.rows[d]),g===pa?(m={_parentRow:k,span:-1,col:-1,components:[]},k.columns.splice(f,0,m),a.newColumnInserted=!0,g=0,l(a,s,"newCol",!0),0!==f||a.newRowInserted||l(a,s,"newRow",!0)):(m=k.columns[f],p=m.components[g],0===g?(l(a,s,"newCol",!0),p&&(l(a,s,"newRow",p.newRow),l(a,s,"newGrid",p.newGrid),l(a,s,"col",p.col),l(a,s,"span",p.span),p.rowSpan!==e&&l(a,s,"rowSpan",p.rowSpan),l(a,p,"newCol",!1),l(a,p,"newRow",!1),l(a,p,"newGrid",!1),l(a,p,"col",-1),l(a,p,"span",-1),p.rowSpan!==e&&l(a,p,"rowSpan",-1))):l(a,s,"newCol",!1)),(s.col===e||s.col>=0&&(0!==g||!p)&&!s.forceColumn)&&l(a,s,"col",-1),delete s.forceColumn,s.span===e&&l(a,s,"span",-1),s._parentColumn=m,a.newGrid=c,a.newRow=d,a.newColumn=f,a.newIndex=g,!p&&f+1<k.columns.length&&(p=k.columns[f+1].components[0],a.newColumnInserted&&0===f&&l(a,p,"newRow",!1)),!p&&d+1<i.rows.length&&(p=i.rows[d+1].columns[0].components[0]),!p&&c+1<t._grids.length&&(p=t._grids[c+1].rows[0].columns[0].components[0]),q=p?j(t.components,p):t.components.length,a.newComponentIndex=q,m.components.splice(g,0,s),t.components.splice(q,0,s),p&&p._parentColumn!==s._parentColumn&&0===f&&s.newCol&&l(a,p,"newCol",!0),o=0;o<k.columns.length;o++)m=k.columns[o],m.col=m.components[0].col,m.span=m.components[0].span||-1;"fixed"===r.gridType&&r.hasColumnSpan&&n(k,t.maxColumns)}else a.newIndex=g,t.components.splice(g,0,s);return s._parent=t,g},_getTableColumnFromColumn:function(a,b,c,d){var e,f,g=1,h=0,i=a._grids[b].rows[c].columns;for(e=0;e<=d&&e<i.length;e++)f=i[e],f.col>g&&(h+=1,g=f.col),g+=f.span>0?f.span:1,h+=1;return h-1},_insertInDom:function(b,c,d,e,f,g,i,j,k){var l,m,n,o,p,q,r,s,u,v,w,x=this.pageRoot;o=b.hasClass(z)&&c.children(K).length?c.find(K).find("td").eq("left"===k?0:1).children(aa):c.children(aa),this.placeholder?this.placeholder.before(b):o.is(S)?(u=t(c),v=i,v<0&&(v=0),i===na&&d._grids.length>1?(p=a("<table><tbody></tbody></table>"),h(o.parent(),"table",p,e),i=oa,v=0):p=o.parent().children("table").eq(e),i===oa&&0===e&&d._grids[e].rows.length>1?(m="<td><div class='"+T+" "+u+"'></div></td>",d._grids[e].rows[f].columns[0].col>=0&&(m+=m),q=a("<tr>"+m+"</tr>"),h(p.children("tbody"),q,f),v=0):q=p.children("tbody").children("tr").eq(f),w=this._getTableColumnFromColumn(d,e,f,g),i===pa?(d._grids[e].rows[f].columns[g].col>=0&&(r=a("<td><div class='"+T+" "+u+"'></div></td>"),h(q,r,w-1)),r=a("<td><div class='"+T+" "+u+"'></div></td>"),h(q,r,w),v=0):r=q.children().eq(w),h(r.children().eq(0),b,v)):h(o,b,i),"fixed"===x.gridType&&x.hasColumnSpan&&o.is(S)&&(p=o.parent().children("table").eq(e),q=p.children("tbody").children("tr").eq(f),s=d._grids[e].rows[f].columns,l=0,n=1,q.children("td").each(function(){s[l].col>n&&(this.colSpan=s[l].col-n,n=s[l].col),n+=s[l].span>0?s[l].span:1,a(this).find(Z).length>0&&(this.colSpan=s[l].span,l+=1)})),j&&this._showOrHideDisplayPoints(b)},_add:function(c,d,e,f,g,h,i,j){var k,l,m,n=!1,o=b.htmlBuilder(),p={container$:d,propertyChanges:[]};return p.newParentContainer=k=this._getNode(d[0]),m=a.isArray(k._grids),c.displayPoints&&(l=12,this._layoutDisplayPoints(c.displayPoints,c,m,l)),j?(this._setNode(c),j[0].id=this.baseId+c._elementId):(this._renderComponent(o,c,m),j=a(o.toString()),n=!0),p.newComponent$=j,p.component=c,this._insert(p,m,e,f,g,h,i),this._insertInDom(p.newComponent$,d,k,e,f,g,h,n,i),p},_remove:function(b,c,d){var e,f,g,h,k,m,o,p,q,r,s,t,u,v,w,x,y=this.pageRoot,z=this,A=!!d;if(c=c||{propertyChanges:[]},g=this._getNode(b[0]),d=d||b.parent(),A?b.hide():(c.component$=b,c.component=g,c.prevContainer$=b.closest(_),delete this.nodeMap[i(b[0].id)],b.find(Z).each(function(){delete z.nodeMap[i(this.id)]}),b.remove()),x="TD"===d[0].parentNode.nodeName&&d.closest("table").is(S),c.prevParentContainer=r=g._parent,c.prevComponentIndex=t=j(r.components,g),c.prevIndex=c.prevComponentIndex,"button"===g.type&&g.alignment&&(c.prevAlignment=g.alignment),x&&0===d.children(":visible").length&&(f=d.parent().parent(),f.parent().children("tr").length>1&&0===f.find(Z).filter(":visible").length?f.remove():f.children("td").length>1&&(q=d.parent().prev().eq(0),d.parent().remove(),0===q.find(Z).filter(":visible").length&&q.remove())),x){if(h=g._parentColumn,s=j(h.components,g),u=0,v=j(h._parentRow._parentGrid.rows,h._parentRow),w=j(h._parentRow.columns,h),c.prevGrid=u,c.prevRow=v,c.prevColumn=w,c.prevIndex=s,0===s&&h.components.length>1&&(o=h.components[1],l(c,o,"newGrid",g.newGrid),l(c,o,"newRow",g.newRow),l(c,o,"newCol",g.newCol),l(c,o,"col",g.col),l(c,o,"span",g.span),g.rowSpan&&l(c,o,"rowSpan",g.rowSpan)),m=r._grids[u],k=m.rows[v],h=k.columns[w],h.components.splice(s,1),0===h.components.length&&(k.columns.splice(w,1),0===w&&k.columns.length>0&&(o=k.columns[w].components[0],l(c,o,"newRow",!0)),c.prevColumnRemoved=!0,k.columns.length>0)){if("fixed"===y.gridType&&y.hasColumnSpan){for(e=0;e<k.columns.length;e++)h=k.columns[e],h.col=h.components[0].col,h.span=h.components[0].span||-1;n(k,r.maxColumns)}p=k.columns,e=0,f.children("td").each(function(){a(this).find(Z).length>0&&(p[e].span>0&&(this.colSpan=p[e].span),e+=1)})}0===k.columns.length&&(m.rows.splice(v,1),c.prevRowRemoved=!0),0===m.rows.length&&(r._grids.splice(u,1),c.prevGridRemoved=!0)}return A&&b.show(),r.components.splice(t,1),delete g._parent,c},_moveOrCopy:function(c,d,e,f,g,h,j,k){var l,m,n,o,p,q=!1,r=!1,s=b.htmlBuilder(),t={container$:d,propertyChanges:[]};return l=this._getNode(c[0]),t.newParentContainer=o=this._getNode(d[0]),n=a.isArray(o._grids),t.prevContainer$=c.closest(_),k?(t.originalComponent=l,l=this._copyComponent(l),p=12,l.displayPoints&&this._layoutDisplayPoints(l.displayPoints,l,n,p),this._renderComponent(s,l,n),t.newComponent$=a(s.toString()),q=!0):(m=c.parent(),r="TD"===m[0].parentNode.nodeName,t.newComponent$=c,l.displayPoints&&n!==r&&(p=12,this._layoutDisplayPoints(l.displayPoints,l,n,p),this._renderComponent(s,l,n),t.newComponent$=a(s.toString()),q=!0,c.remove(),delete this.nodeMap[i(c[0].id)])),t.component=l,k||(this._remove(t.newComponent$,t,m),r&&t.prevParentContainer===t.newParentContainer&&(t.prevColumnRemoved&&t.prevColumn<g&&f===t.prevRow&&(g-=1),t.prevRowRemoved&&t.prevRow<f&&e===t.prevGrid&&(f-=1),t.prevGridRemoved&&t.prevGrid<e&&(e-=1))),this._insert(t,n,e,f,g,h,j),this._insertInDom(t.newComponent$,d,o,e,f,g,h,q,j),t},_finishDrag:function(b){var c,d,e,f,h,i,j,k,l,m,n,o,p,q=b.ctrlKey,r=[];for(this.animating=!1,(this.dragComponent.next()[0]!==this.placeholder[0]||q||this.fromOutside)&&(k=this.placeholder.closest(_),m=g(this.placeholder),h=null,i=null,j=null,k.children("table.a-GridLayout-grid").length>0?(d=this.placeholder.closest("td"),j=0,d.parent().children("td").each(function(){return this!==d[0]&&void(a(this).children("."+T).children().length>0&&(j+=1))}),e=d.parent(),i=g(e),h=k.children("table").index(e.parent().parent()),0===m&&1===this.placeholder.parent().children(":visible").length&&(m=1===e.parent().children().length&&1===e.children().length?na:1===e.children().length?oa:pa)):k.children("table.a-GridLayout-buttonRow").length>0&&(d=this.placeholder.closest("td"),p=0===g(d)?"left":"right"),this.fromOutside?(o=this.helper.attr("data-type-id"),f=this.options.makeComponent(o),this.dragComponent.remove(),n=this._add(f,k,h,i,j,m,p),r.push(function(a){this._trigger("added",a,n)})):(n=this._moveOrCopy(this.dragComponent,k,h,i,j,m,p,q),r.push(function(a){this._trigger(q?"copied":"moved",a,n)}))),n&&(l=n.newComponent$),this.fromOutside&&r.push(function(a){this._trigger("deactivate",a,this._uiHashDnD(this))}),this.dragComponent.show(),this.dragging=!1,this.tempGridRow=null,this.tempGridColumn=null,this._trigger("beforeStop",b,this._uiHashDnD()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.placeholder=null,this.helper.remove(),this.helper=null,c=0;c<r.length;c++)r[c].call(this,b);return this._trigger("stop",b,this._uiHashDnD()),n&&this._select(l,b,!0),this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHashDnD:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.dragComponent,sender:b?b.element:null}}}),a.apex.gridlayout.INDEX={NEW_GRID:na,NEW_ROW:oa,NEW_COLUMN:pa},a.ui.plugin.add("draggable","connectToGridlayout",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});a("body").on("keydown.glvplug",function(b){b.keyCode===a.ui.keyCode.ESCAPE&&(d.dropped=!1,d.cancel())}),d.grids=[],a(e.connectToGridlayout).each(function(){var e=a.data(this,"apex-gridlayout");e&&!e.options.disabled&&(d.grids.push({instance:e}),e._initDragTargets(c.helper),e._initTargetContainers(),e._refreshPositions(),e._trigger("activate",b,f))})},stop:function(b,c){var d,e=a(this).data("ui-draggable");a("body").off(".glvplug"),a.each(e.grids,function(){this.instance.isOver&&!this.invalid?(this.instance.isOver=!1,e.cancelHelperRemoval=!0,b.target?this.instance._mouseStop(b,!0):(this.instance._mouseStop(b,!0),this.instance.dragComponent.remove(),this.instance._cancel(b))):(this.instance._deactivate(),d=a.extend({},c,{item:e.element}),this.instance._trigger("deactivate",b,d))})},drag:function(b,c){var d=a(this).data("ui-draggable");a.each(d.grids,function(){var a=!1;if(!this.invalid)if(this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0),a){if(!this.instance.isOver){if(this.instance.isOver=!0,!this.instance._makeTempDragComponent())return this.instance.isOver=!1,void(this.invalid=!0);if(this.instance.helper=c.helper,this.instance.helper.css("position","relative"),b.target=this.instance.dragComponent.children("h3")[0],!this.instance._mouseCapture(b,!0))return this.instance.isOver=!1,void(this.invalid=!0);this.instance._trigger("over",b,this.instance._uiHashDnD(this.instance)),this.instance._mouseStart(b,b,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d}this.instance.dragComponent&&this.instance._mouseDrag(b)}else this.instance.isOver&&(this.instance.isOver=!1,this.instance._trigger("out",b,this.instance._uiHashDnD(this.instance)),b.target=null,this.instance._mouseStop(b,!0),this.instance.dragComponent.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d.dropped=!1)})}})}(apex.jQuery,apex.util,apex.debug,apex.lang);
!function(a,b,c,d,e){"use strict";function f(a){var b,c,d,e,f,g;for(b=0;b<a.length;b++)d=a[b],c=Z[d.property],e=d.component._modelComponent,g=e.getProperty(c),g&&(d.newValue===!0?f=g.getMetaData().yesValue:d.newValue===!1?f=g.getMetaData().noValue:"alignment"===d.property&&d.newValue?f=d.newValue.toUpperCase():"col"!==d.property&&"span"!==d.property&&"rowSpan"!==d.property||d.newValue!==-1?void 0!==d.newValue&&null!==d.newValue&&(f=""+d.newValue):f="",void 0!==f&&g.setValue(f))}function g(a){var b,c=null;return b=a.newComponentIndex,void 0===b&&(b=a.newIndex),b>0&&(c=a.newParentContainer.components[b-1]._modelComponent),c}function h(a){a.newParentContainer===a.prevParentContainer?a.newParentContainer=a.prevParentContainer=[a.newParentContainer._parent.id,a.newParentContainer.id]:(a.newParentContainer&&(a.newParentContainer=[a.newParentContainer._parent.id,a.newParentContainer.id]),a.prevParentContainer&&(a.prevParentContainer=[a.prevParentContainer._parent.id,a.prevParentContainer.id])),delete a.component$,delete a.newComponent$,delete a.container$,delete a.prevContainer$}function i(){var a=E.gridlayout(X);return{hideLegacyDisplayPoints:a.hideLegacyDisplayPoints,hideEmptyDisplayPoints:a.hideEmptyDisplayPoints,hideButtons:a.hideButtons,hideItems:a.hideItems,displayFrom:a.displayFrom,hideGlobalComponents:_}}function j(a){var c=E.gridlayout(X);c.displayFrom!==a.displayFrom&&E.gridlayout(X,"displayFrom",a.displayFrom),b.each(["displayFrom","hideLegacyDisplayPoints","hideEmptyDisplayPoints","hideButtons","hideItems"],function(b,d){a[d]||c[d]===a[d]||E.gridlayout(X,d,a[d])}),a.hideGlobalComponents!==_&&(_=a.hideGlobalComponents,E.gridlayout("pageDataChanged"))}function k(a,b,c,d,e,f,g,h,i){var j=Object.create(ea);return j.changes=b,j.gl$=a,j.component$=c,j.container$=d,j.grid=e,j.row=f,j.column=g,j.index=h,j.alignment=i,j._label="move",j}function l(a,b,c,d,e,f,g,h,i){var j=Object.create(fa);return j.changes=b,j.gl$=a,j.component$=c,j.container$=d,j.grid=e,j.row=f,j.column=g,j.index=h,j.alignment=i,j._label="copy",j}function m(a,b,c,d,e,f,g,h,i){var j=Object.create(ga);return j.changes=b,j.gl$=a,j.componentTypeId=c,j.container$=d,j.grid=e,j.row=f,j.column=g,j.index=h,j.alignment=i,j._label="create",j}function n(a,b){var c=Object.create(ha);return c.changes=[],c.gl$=a,c.transaction=null,b.length>1?c._label=d.formatMessageNoEscape("PD.GLV.CMD.DEL_N",b.length):c._label=d.formatMessageNoEscape("PD.GLV.CMD.DEL",E.gridlayout("getComponents",b)[0].title),c}function o(a,b){a.id="t0001",a._modelComponent=b._modelComponent}function p(a){return a.iconClass}function q(b){var c,d,e,f,g,h,i,j=window.componentGallery.getComponentData(b);if(f=j.type,d={type:f,_galleryComponent:j,id:"t0002",title:j.title},f===O){for(g="",i="",c=0;c<j.values.length;c++)e=j.values[c],e.id===a.PROP.REGION_TEMPLATE?g=e.value:e.id===a.PROP.REGION_TYPE&&(i=e.value);for(d.displayPoints=[],h=a.getRegionTemplates()[g],v(h.displayPoints,d.displayPoints,null,i),c=0;c<d.displayPoints.length;c++)d.displayPoints[c].components=[]}return d}function r(a,b,c){var d,e=c,f=a.getProperty(b);return f&&(d=f.getMetaData().yesValue,e=f.getValue()===d),e}function s(a,b,c){var d=c,e=a.getProperty(b);return e&&(d=e.getValue(),null!==d&&""!==d||!c||(d=c)),d}function t(b){var c=b.parentId;return b.typeId===a.COMP_TYPE.REGION&&(c=s(b,a.PROP.PARENT_REGION,c)),c}function u(a){var b,c=[];for(b=0;b<a.length;b++)c.push(ia[a[b]]);return c}function v(b,c,e,f){var g,h,i,j,k=0;for(g=0;g<b.length;g++)i=b[g],h=i.name,"PAGE_ITEM"===i.types[0]&&(h=d.getMessage("PD.GLV.DP_ITEMS")),"RIGHT_OF_IR_SEARCH_BAR"===i.id&&(f&&"NATIVE_IR"!==f||e&&"NATIVE_IR"!==a.getComponents(a.COMP_TYPE.REGION,{id:e})[0].getProperty(a.PROP.REGION_TYPE).getValue()||!e&&!f)||(j={types:u(i.types),id:i.id,title:h,isGrid:i.hasGridSupport,isLegacy:i.isLegacy},e||f||(i.hasOwnProperty("glvSpan")||i.glvNewRow===!1?(j.span=i.glvSpan,j.newColumn=!i.glvNewRow,!j.newColumn&&j.span>k&&(j.newRow=!0),k=j.span):j.newRow=!0),"buttonContainer"===j.types[0]&&i.hasAlignment&&(j.hasAlignment=!0),c.push(j))}function w(a,b){return b.templateName=a.name,b.maxColumns=12,b.displayPoints=[],v(a.displayPoints,b.displayPoints,b.id),b}function x(a,b){var c=a.grid;return b.gridType=c.type.toLowerCase(),b.maxColumns=c.maxColumns,b.hasColumnSpan=c.hasColumnSpan,void 0!==c.hasRowSpan&&(b.hasRowSpan=c.hasRowSpan),b.alwaysUseMaxColumns=c.alwaysUseMaxColumns,b.displayPoints=[],v(a.displayPoints,b.displayPoints),b}function y(b,c,d,f){var g,h,i,j,k,l,m,n,o,p,q=[];for(g=0;g<b.length;g++){if(n={properties:[{id:a.PROP.REGION,value:f}]},"buttonContainer"===b[g])m=a.COMP_TYPE.BUTTON,n.properties.push({id:a.PROP.BUTTON_POSITION,value:c});else{if("itemContainer"!==b[g])throw"Unknown container type: "+b[g];m=a.COMP_TYPE.PAGE_ITEM}q.push({typeId:m,filter:n})}for(_&&(n.excludeGlobalPage=!0),h=a.getComponentsAdvanced(q),g=0;g<h.length;g++){if(i=h[g],i.typeId===a.COMP_TYPE.BUTTON)o=Q,p=e.getComponentIconClass(Q,r(i,a.PROP.BUTTON_IS_HOT,!1)?"hot":"normal");else{if(i.typeId!==a.COMP_TYPE.PAGE_ITEM)throw"Unexpected component type "+i.typeId;o=P,p=e.getComponentIconClass(P,s(i,a.PROP.ITEM_TYPE))}o===P&&(k=s(i,a.PROP.ITEM_TYPE),"NATIVE_HIDDEN"===k)||(j={type:o,id:i.id,title:i.getDisplayTitle(),iconClass:p,newGrid:r(i,a.PROP.GRID_NEW_GRID,!1),newRow:r(i,a.PROP.GRID_NEW_ROW,!1),col:1*s(i,a.PROP.GRID_COLUMN,-1),newCol:r(i,a.PROP.GRID_NEW_COLUMN,!0),span:1*s(i,a.PROP.GRID_COLUMN_SPAN,-1),hasErrors:i.hasErrors(),hasWarnings:i.hasWarnings(),isReadOnly:i.isReadOnly(),_modelComponent:i},l=1*s(i,a.PROP.GRID_ROW_SPAN,-1),l>0&&(j.rowSpan=l),e.isConditional(i)&&(j.isConditional=!0),d.push(j))}}function z(b,c){var d,f,g,h,i,j,k,l={properties:[{id:a.PROP.REGION,value:c}]};for(_&&(l.excludeGlobalPage=!0),f=a.getComponents(a.COMP_TYPE.BUTTON,l),d=0;d<f.length;d++)g=f[d],i=s(g,a.PROP.BUTTON_POSITION),b[i]&&(j=s(g,a.PROP.ALIGNMENT,null),k=r(g,a.PROP.BUTTON_IS_HOT,!1),h={type:Q,id:g.id,title:g.getDisplayTitle(),iconClass:e.getComponentIconClass(Q,k?"hot":"normal"),hasErrors:g.hasErrors(),hasWarnings:g.hasWarnings(),isReadOnly:g.isReadOnly(),_modelComponent:g},j&&(h.alignment=j.toLowerCase()),e.isConditional(g)&&(h.isConditional=!0),b[i].push(h))}function A(b,d,f){var g,h,i,j,k,l,m,n,o,p,q=a.getRegionTemplates();for(o=f?{properties:[{id:a.PROP.PARENT_REGION,value:f}]}:{properties:[{id:a.PROP.PARENT_REGION,value:""},{id:a.PROP.REGION_POSITION,value:d}]},_&&(o.excludeGlobalPage=!0),l=a.getComponents(a.COMP_TYPE.REGION,o),g=0;g<l.length;g++)if(m=l[g],e.isDisplayed(m))if(n={},j=s(m,a.PROP.REGION_TEMPLATE),k=q[j]){for(p={},n=w(k,{type:O,id:m.id,title:m.getDisplayTitle(),iconClass:e.getComponentIconClass(O,s(m,a.PROP.REGION_TYPE)),newGrid:r(m,a.PROP.GRID_NEW_GRID,!1),newRow:r(m,a.PROP.GRID_NEW_ROW,!1),col:1*s(m,a.PROP.GRID_COLUMN,-1),newCol:r(m,a.PROP.GRID_NEW_COLUMN,!0),span:1*s(m,a.PROP.GRID_COLUMN_SPAN,-1),hasErrors:m.hasErrors(),hasWarnings:m.hasWarnings(),isReadOnly:m.isReadOnly(),itemsAboveContent:"ABOVE"===s(m,a.PROP.ITEM_DISPLAY_POSITION,"ABOVE"),_modelComponent:m}),e.isConditional(m)&&(n.isConditional=!0),h=0;h<n.displayPoints.length;h++)i=n.displayPoints[h],i.components=[],"regionContainer"===i.types[0]?A(i.components,null,n.id):i.types.length>1||"itemContainer"===i.types[0]?y(i.types,i.id,i.components,n.id):"buttonContainer"===i.types[0]&&(p[i.id]=i.components);z(p,n.id),b.push(n)}else c.warn("Skipping region %s because no template found for id %s.",m.getDisplayTitle(),j)}function B(){return{type:N,iconClass:"icon-warning",gridType:"fixed",maxColumns:12,hasColumnSpan:!0,hasRowSpan:!1,alwaysUseMax:!1,title:d.getMessage("PD.GLV.EMPTY_GRID"),displayPoints:[]}}function C(){var b,c,d,e,f,g;if(!$)return B();if(g=a.getComponents(a.COMP_TYPE.PAGE),1!==g.length)return B();if(e=g[0],f=a.getPageTemplate(),!f)return B();for(b=x(f,{type:N,id:e.id,iconClass:"icon-page",title:e.getDisplayTitle(),hasErrors:e.hasErrors(),hasWarnings:e.hasWarnings(),isReadOnly:a.isPageReadOnly(),_modelComponent:e}),c=0;c<b.displayPoints.length;c++)d=b.displayPoints[c],d.components=[],A(d.components,d.id);return b}function D(a){var b,c,d={};for(b=0;b<a.displayPoints.length;b++)c=a.displayPoints[b],c.components=[],"regionContainer"===c.types[0]?A(c.components,null,a.id):c.types.length>1||"itemContainer"===c.types[0]?y(c.types,c.id,c.components,a.id):"buttonContainer"===c.types[0]&&(d[c.id]=c.components);z(d,a.id)}var E,F=e.CSS.IS_ERROR,G=e.CSS.IS_WARNING,H="icon-error",I="icon-warning",J="a-GridLayout-buttonContainer",K=".a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",L=".a-GridLayout-page, .a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",M=".a-GridLayout-page > h3, .a-GridLayout-pageItem > h3, .a-GridLayout-region > h3, .a-GridLayout-button > h3",N="page",O="region",P="item",Q="button",R="GLV_HIDE_LEGACY",S="GLV_HIDE_GLOBAL",T="GLV_HIDE_EMPTY",U="GLV_HIDE_BTNS",V="GLV_HIDE_ITEMS",W="glv",X="option",Y=b.apex.gridlayout.INDEX,Z={newGrid:a.PROP.GRID_NEW_GRID,newRow:a.PROP.GRID_NEW_ROW,col:a.PROP.GRID_COLUMN,newCol:a.PROP.GRID_NEW_COLUMN,span:a.PROP.GRID_COLUMN_SPAN,rowSpan:a.PROP.GRID_ROW_SPAN,alignment:a.PROP.ALIGNMENT},$=!1,_=!0,aa=null,ba=!1,ca=!1,da=!1,ea=b.extend(apex.commandHistory.baseCommand(),{execute:function(){this.changes?this.updateDataLayer():(aa=this,this.gl$.gridlayout("move",{},this.component$,this.container$,this.grid,this.row,this.column,this.index,this.alignment)),this.state=i()},updateDataLayer:function(b){function c(a,b){l.push({id:a,value:b})}var e,i,j,k,l=[];b&&(this.changes=b),b=this.changes,this._label=d.formatMessageNoEscape("PD.GLV.CMD.MOVE",this.changes.component.title),da=!0,this.transaction=a.transaction.start(W),j=b.component._modelComponent,b.newParentContainer!==b.prevParentContainer&&(e=b.newParentContainer,i=e._parent,b.component.type===O?i.type===N?(c(a.PROP.PARENT_REGION,""),c(a.PROP.REGION_POSITION,e.id)):c(a.PROP.PARENT_REGION,i.id):b.component.type===P?c(a.PROP.REGION,i.id):b.component.type===Q&&(i!==b.prevParentContainer._parent?(c(a.PROP.REGION,i.id),c(a.PROP.BUTTON_POSITION,e.id)):e.id!==b.prevParentContainer.id&&c(a.PROP.BUTTON_POSITION,e.id))),k=g(b),j.move(k,l),f(b.propertyChanges),this.transaction.execute(),h(b)},undo:function(){var b,c=this.changes,d=c.prevGrid,e=c.prevRow,f=c.prevColumn,g=c.prevIndex;j(this.state),ba=!0,c.prevGridRemoved?g=Y.NEW_GRID:c.prevRowRemoved?g=Y.NEW_ROW:c.prevColumnRemoved&&(g=Y.NEW_COLUMN),c.newParentContainer===c.prevParentContainer&&(g>=0&&c.prevIndex>c.newIndex&&(g+=1),c.newGridInserted?c.newGrid<=c.prevGrid&&(d+=1):c.newRowInserted?c.newRow<=c.prevRow&&(e+=1):c.newColumnInserted&&c.newColumn<=c.prevColumn&&(f+=1)),da=!0,this.transaction.undo(),b=E.gridlayout("findComponentById",c.component.id),b.col=1*s(b._modelComponent,a.PROP.GRID_COLUMN,-1),b.col>=0&&(b.forceColumn=!0),this.gl$.gridlayout("move",{},c.component.id,c.prevParentContainer,d,e,f,g,c.prevAlignment)},redo:function(){var a=this.changes,b=a.newIndex;j(this.state),ba=!0,a.newGridInserted?b=Y.NEW_GRID:a.newRowInserted?b=Y.NEW_ROW:a.newColumnInserted?b=Y.NEW_COLUMN:a.newParentContainer===a.prevParentContainer&&a.newIndex>a.prevIndex&&(b+=1),da=!0,this.transaction.redo(),this.gl$.gridlayout("move",{},a.component.id,a.newParentContainer,a.newGrid,a.newRow,a.newColumn,b,a.newAlignment)},label:function(){return this._label}}),fa=b.extend(apex.commandHistory.baseCommand(),{execute:function(){this.changes?this.updateDataLayer():(aa=this,this.gl$.gridlayout("copy",{},this.component$,this.container$,this.grid,this.row,this.column,this.index,this.alignment)),this.state=i()},updateDataLayer:function(b){function c(a,b){l.push({id:a,value:b})}var e,i,j,k,l=[];b&&(this.changes=b),b=this.changes,this._label=d.formatMessageNoEscape("PD.GLV.CMD.COPY",this.changes.originalComponent.title),da=!0,ca=!0,this.transaction=a.transaction.start(W),j=b.component._modelComponent,j=b.component._modelComponent=j.duplicate(),b.component.id=j.id,b.component.title=j.getDisplayTitle(),E.gridlayout("update",b.component,!1),b.newParentContainer!==b.originalComponent._parent&&(e=b.newParentContainer,i=e._parent,b.component.type===O?i.type===N?(c(a.PROP.PARENT_REGION,""),c(a.PROP.REGION_POSITION,e.id)):c(a.PROP.PARENT_REGION,i.id):b.component.type===P?c(a.PROP.REGION,i.id):b.component.type===Q&&(c(a.PROP.REGION,i.id),c(a.PROP.BUTTON_POSITION,e.id))),k=g(b),j.move(k,l),f(b.propertyChanges),this.transaction.execute(),h(b)},undo:function(){var a=this.changes;j(this.state),ba=!0,this.gl$.gridlayout("remove",{},[a.component.id]),this.transaction.undo()},redo:function(){var a=this.changes,b=a.newIndex;j(this.state),ba=!0,a.newGridInserted?b=Y.NEW_GRID:a.newRowInserted?b=Y.NEW_ROW:a.newColumnInserted?b=Y.NEW_COLUMN:a.newParentContainer===a.prevParentContainer&&a.newIndex>a.prevIndex&&(b+=1),da=!0,ca=!0,this.gl$.gridlayout("add",{},a.component,a.newParentContainer,a.newGrid,a.newRow,a.newColumn,b,a.newAlignment,a.newComponent$),this.transaction.redo()},label:function(){return this._label}}),ga=b.extend(apex.commandHistory.baseCommand(),{execute:function(){this.changes?this.updateDataLayer():(aa=this,this.gl$.gridlayout("add",{},this.componentTypeId,this.container$,this.grid,this.row,this.column,this.index,this.alignment)),this.state=i()},updateDataLayer:function(b){function c(a,b){q.push({id:a,value:b})}var e,i,j,k,l,m,n,o,p=!1,q=[];for(b&&(this.changes=b),b=this.changes,n=b.component._galleryComponent,this._label=d.formatMessageNoEscape("PD.GLV.CMD.CREATE",n.title),this.transaction=a.transaction.start(W),i=b.newParentContainer,j=i._parent,b.component.type===O?(m=a.COMP_TYPE.REGION,j.type===N?(c(a.PROP.PARENT_REGION,""),c(a.PROP.REGION_POSITION,i.id)):c(a.PROP.PARENT_REGION,j.id)):b.component.type===P?(m=a.COMP_TYPE.PAGE_ITEM,c(a.PROP.REGION,j.id)):b.component.type===Q&&(m=a.COMP_TYPE.BUTTON,c(a.PROP.REGION,j.id),c(a.PROP.BUTTON_POSITION,i.id)),o=g(b),e=0;e<n.values.length;e++)k=n.values[e],q.push(k),k.id===a.PROP.ITEM_TYPE&&"NATIVE_HIDDEN"===k.value&&(p=!0);da=!0,ca=!0,l=new a.Component({previousComponent:o,typeId:m,values:q}),b.component._modelComponent=l,delete b.component._galleryComponent,p?(ba=!0,E.gridlayout("remove",{},b.newComponent$),this.changes=null):(f(b.propertyChanges),b.component.id=l.id,b.component.title=l.getDisplayTitle(),E.gridlayout("update",b.component,!1)),this.transaction.execute(),h(b)},undo:function(){var a=this.changes;j(this.state),a&&(ba=!0,this.gl$.gridlayout("remove",{},[a.component.id])),this.transaction.undo()},redo:function(){var a,b=this.changes;j(this.state),b&&(a=b.newIndex,ba=!0,da=!0,ca=!0,b.newGridInserted?a=Y.NEW_GRID:b.newRowInserted?a=Y.NEW_ROW:b.newColumnInserted?a=Y.NEW_COLUMN:b.newParentContainer===b.prevParentContainer&&b.newIndex>b.prevIndex&&(a+=1),this.gl$.gridlayout("add",{},b.component,b.newParentContainer,b.newGrid,b.newRow,b.newColumn,a,b.newAlignment,b.newComponent$)),this.transaction.redo()},label:function(){return this._label}}),ha=b.extend(apex.commandHistory.baseCommand(),{execute:function(){aa=this,this.gl$.gridlayout("remove",{}),this.state=i()},updateDataLayer:function(b){this.changes.push(b),this.transaction||(this.transaction=a.transaction.start(W)),b.component._modelComponent.remove(),h(b),b.lastChange&&this.transaction.execute()},undo:function(){var a,b,c,d=this.changes;for(j(this.state),a=d.length-1;a>=0;a--)b=d[a],ba=!0,c=b.prevIndex,b.prevGridRemoved?c=Y.NEW_GRID:b.prevRowRemoved?c=Y.NEW_ROW:b.prevColumnRemoved&&(c=Y.NEW_COLUMN),this.gl$.gridlayout("add",{},b.component,b.prevParentContainer,b.prevGrid,b.prevRow,b.prevColumn,c,b.prevAlignment,b.component$);this.transaction.undo()},redo:function(){var a,b=[],c=this.changes;for(j(this.state),ba=!0,a=0;a<c.length;a++)b.push(c[a].component.id);this.gl$.gridlayout("remove",{},b),this.transaction.redo()},label:function(){return this._label}}),ia={BUTTON:"buttonContainer",PAGE_ITEM:"itemContainer",REGION:"regionContainer"};b(function(){function f(a){var b,c=!0;for(b=0;b<a.length;b++)if(a[b].isReadOnly){c=!1;break}return c}function g(a){var b,c=E.gridlayout("getSelection").filter(K),d=E.gridlayout("getSelectedComponents"),e=f(d);0!==c.length&&e&&E.gridlayout(X,"displayFrom")!==d[0].id&&(b=n(E,c),apex.commandHistory.execute(b))}function h(){var a,b=null,c=null,d=null,e=E.gridlayout("getSelection");1===e.length&&(this.col>=0&&(b=0,c=this.row,d=this.col),a=this.copy?l(E,null,e,this.container,b,c,d,this.index,this.alignment):k(E,null,e,this.container,b,c,d,this.index,this.alignment),apex.commandHistory.execute(a))}function i(a){var b,c=null,d=null,e=null;this.col>=0&&(c=0,d=this.row,e=this.col),b=m(E,null,a,this.container,c,d,e,this.index,this.alignment),apex.commandHistory.execute(b)}function j(a,b,c){function d(a){var d,e,f,g,h=[];for(f="grid"===l?z:A,d=0;d<f.length;d++)e=f[d],g={label:e.l,type:"action",action:b,container:i.element,index:e.i?e.i:a.index+e.a},"grid"===l?(e.i===Y.NEW_ROW?g.row=a.row+e.a:g.row=a.row,e.i===Y.NEW_COLUMN?g.col=a.col+e.a:g.col=a.col):a.alignment&&(g.alignment=a.alignment),c&&(g.copy=!0),h.push(g);return h}var e,f,g,h,i,j,k,l,m=null,n=[];for(a.length>0&&a[0].element.hasClass(J)&&(m={}),e=0;e<a.length;e++){if(i=a[e],m&&m.label!==i.region&&(m.label&&n.push(m),m={label:i.region,type:"subMenu",menu:{items:[]}}),g={label:m?i.name:i.label},l=i.type,0===i.items.length)g.type="action",g.action=b,g.container=i.element,g.index=0,"grid"===l?(g.row=0,g.col=0):i.alignment&&(g.alignment=i.alignment),c&&(g.copy=!0);else for(g.type="subMenu",g.menu={items:[]},j=g.menu.items,f=0;f<i.items.length;f++)h=i.items[f],k={label:h.name,type:"subMenu",menu:{items:d(h)}},j.push(k);m?m.menu.items.push(g):n.push(g)}return m&&n.push(m),n}function u(a){a=a||E.gridlayout("getSelectedComponents"),apex.actions.lookup("glv-disp-from-region").disabled=!(a.length>=1&&a[0].type===O&&a[0].id!==E.gridlayout(X,"displayFrom")),apex.actions.update("glv-disp-from-region"),apex.actions.lookup("glv-disp-from-page").disabled=null===E.gridlayout(X,"displayFrom"),apex.actions.update("glv-disp-from-page")}function v(a){var c,d,e,f,g,h="";for(b.isArray(a)||(a=[a]),c=0;c<a.length;c++){g=a[c],h+="["+g.component.id+": ";for(e in g.properties){for(h+=e+":",f=g.properties[e],d=0;d<f.length;d++)h+=f[d]+",";h=h.substring(0,h.length-1)+";"}h+="] "}return h}var w=[a.COMP_TYPE.PAGE,a.COMP_TYPE.REGION,a.COMP_TYPE.PAGE_ITEM,a.COMP_TYPE.BUTTON],x=b("#glvMenu"),y=null;E=b("#glv");var z=[{l:"Before",i:null,a:0},{l:"After",i:null,a:1},{l:"Row before",i:Y.NEW_ROW,a:0},{l:"Row after",i:Y.NEW_ROW,a:1},{l:"Column before",i:Y.NEW_COLUMN,a:0},{l:"Column after",i:Y.NEW_COLUMN,a:1}],A=[{l:"Before",i:null,a:0},{l:"After",i:null,a:1}];e.glvMakeTargetMenu=j,e.glvMenuAddAction=i,apex.actions.add([{name:"glv-disp-from-page",label:d.getMessage("PD.GLV.MI.DISP_PAGE"),shortcut:"Ctrl+Alt+T",disabled:!0,action:function(a,b){E.gridlayout(X,"displayFrom",null),u()}},{name:"glv-disp-from-region",label:d.getMessage("PD.GLV.MI.DISP_REGION"),shortcut:"Ctrl+Alt+D",disabled:!0,action:function(a,b){var c=E.gridlayout("getSelectedComponents");c.length>=1&&c[0].type===O&&E.gridlayout(X,"displayFrom",c[0].id),this.disabled=!0,apex.actions.update(this.name),apex.actions.lookup("glv-disp-from-page").disabled=!1,apex.actions.update("glv-disp-from-page")}},{name:"glv-hide-empty",label:d.getMessage("PD.GLV.MI.HIDE_EMPTY"),shortcut:"Ctrl+Alt+E",get:function(){return E.gridlayout(X,"hideEmptyDisplayPoints")},set:function(a){E.gridlayout(X,"hideEmptyDisplayPoints",a),e.saveBoolPref(T,a)}}]);var B={menubar:!1,items:[{id:"dispRoot",type:"action",action:"glv-disp-from-page"},{id:"dispHere",type:"action",action:"glv-disp-from-region"},{type:"toggle",action:"pd-expand-restore"},{type:"separator"},{id:"newgrid",type:"action",labelKey:"PD.GLV.MI.NEW_GRID",hide:!0},{id:"delete",type:"action",labelKey:"PD.DEL",accelerator:"Del",disabled:function(){var a=E.gridlayout("getSelectedComponents"),b=f(a);return a.length<1||1===a.length&&a[0].type===N||!b||E.gridlayout(X,"displayFrom")===a[0].id},action:function(){g({})}},{id:"moveTo",type:"subMenu",disabled:!0,labelKey:"PD.MI.MOVE2",menu:{items:[]}},{id:"copyTo",type:"subMenu",disabled:!0,labelKey:"PD.MI.COPY2",menu:{items:[]}},{type:"separator"},{id:"hideConditional",type:"subMenu",disabled:!0,labelKey:"PD.GLV.MI.HIDE_COND_COMP",hide:!0,menu:{items:[]}},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_LEGACY",get:function(){return E.gridlayout(X,"hideLegacyDisplayPoints")},set:function(a){E.gridlayout(X,"hideLegacyDisplayPoints",a),e.saveBoolPref(R,a)}},{type:"toggle",action:"glv-hide-empty"},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_GLOBAL",disabled:function(){var b=E.gridlayout(X,"displayFrom"),c=!!b&&E.gridlayout("findComponentById",b)._modelComponent.isOnGlobalPage();return!$||a.isGlobalPage()||c},get:function(){return _},set:function(a){_=a,E.gridlayout("pageDataChanged"),e.saveBoolPref(S,a)}},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_BTNS",get:function(){return E.gridlayout(X,"hideButtons")},set:function(a){E.gridlayout(X,"hideButtons",a),e.saveBoolPref(U,a)}},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_ITEMS",get:function(){return E.gridlayout(X,"hideItems")},set:function(a){E.gridlayout(X,"hideItems",a),e.saveBoolPref(V,a)}},{type:"subMenu",hide:!0,labelKey:"PD.GLV.MI.ZOOM",menu:{items:[{type:"radioGroup",set:function(a){E.gridlayout(X,"zoom",a)},get:function(){return E.gridlayout(X,"zoom")+""},choices:[{labelKey:d.formatMessage("PD.GLV.MI.ZOOM_N","50"),value:"50"},{labelKey:d.formatMessage("PD.GLV.MI.ZOOM_N","75"),value:"75"},{labelKey:d.formatMessage("PD.GLV.MI.ZOOM_N","100"),value:"100"},{labelKey:d.formatMessage("PD.GLV.MI.ZOOM_N","120"),value:"125"},{labelKey:d.formatMessage("PD.GLV.MI.ZOOM_N","150"),value:"150"},{labelKey:d.formatMessage("PD.GLV.MI.ZOOM_N","170"),value:"175"},{labelKey:d.formatMessage("PD.GLV.MI.ZOOM_N","200"),value:"200"}]}]}}],beforeOpen:function(a,b){var c,d=x.menu("find","moveTo"),e=x.menu("find","copyTo"),f=E.gridlayout("getSelection").filter(K);d.menu.items=[],e.menu.items=[],1===f.length&&(c=f.eq(0),E.gridlayout("getComponents",c)[0].isReadOnly||(d.menu.items=j(E.gridlayout("getDropTargets",c),h),e.menu.items=j(E.gridlayout("getDropTargets",c,"copy"),h,!0))),d.disabled=0===d.menu.items.length,e.disabled=0===e.menu.items.length},afterClose:function(a,b){b.actionTookFocus||E.gridlayout("focus")}};x.menu(B),_=e.getBoolPref(S,!0),E.gridlayout({getPageRoot:C,hideLegacyDisplayPoints:e.getBoolPref(R,!0),hideEmptyDisplayPoints:e.getBoolPref(T,!1),hideButtons:e.getBoolPref(U,!1),hideItems:e.getBoolPref(V,!1),getIconForComponent:p,makeComponent:q,updateComponentCopy:o,deleteKeyAction:function(a){g(a)},contextMenuAction:function(a){var c,d;"contextmenu"===a.type?x.menu("toggle",a.pageX,a.pageY):(d=b(a.target),c=d.offset(),x.menu("toggle",c.left,c.top+d.find("h3").height()))},stateClassMap:{hasErrors:F,hasWarnings:G},stateIconMap:{hasErrors:H,hasWarnings:I},appendTo:"parent",cursor:"default",cursorAt:{left:2,top:2},containment:"document",multiple:!0,animate:!1,delay:10,distance:5,opacity:.9,scroll:!0,scrollSensitivity:30,iconType:"a-Icon",selectionChange:function(a,d){var e,f,g,h=[];for(f=b(this).gridlayout("getSelectedComponents"),e=0;e<f.length;e++)g=f[e]._modelComponent,g?h.push(g):c.log("No component found for selection "+f[e].id);u(f),b(document).trigger("selectionChanged",[W,h])},added:function(a,b){var c;return ba?void(ba=!1):void(aa?(aa.updateDataLayer(b),aa=null):(c=m(E,b),apex.commandHistory.execute(c)))},removed:function(a,b){return ba?void(ba=!1):void(aa&&(aa.updateDataLayer(b),b.lastChange&&(aa=null)))},moved:function(a,b){var c;return ba?void(ba=!1):void(aa?(aa.updateDataLayer(b),aa=null):(c=k(E,b),apex.commandHistory.execute(c)))},copied:function(a,b){var c;return ba?void(ba=!1):void(aa?(aa.updateDataLayer(b),aa=null):(c=l(E,b),apex.commandHistory.execute(c)))},start:function(a,b){apex.tooltipManager.disableTooltips()},stop:function(a,b){apex.tooltipManager.enableTooltips()}}).tooltip({items:M,show:apex.tooltipManager.defaultShowOption(),content:function(){var a=E.gridlayout("getComponents",b(this).parent())[0];return a.note?a.note:a._modelComponent?e.tooltipContentForComponent(a._modelComponent):void 0}}).on("focusin",function(a){var c,d=b(a.target).closest(L);0!==d.length&&(E.tooltip(X,"disabled")||(c=b.Event(a),c.target=c.currentTarget=d.children("h3")[0],E.tooltip("open",c)))}).on("focusout",function(a){var c,d=b(a.target).closest(L);0!==d.length&&(E.tooltip(X,"disabled")||(c=b.Event(a),c.target=c.currentTarget=d.children("h3")[0],E.tooltip("close",c)))}).on("keyup",function(a){var c,d;if(a.keyCode===b.ui.keyCode.ESCAPE){if(d=b(a.target).closest(L),0===d.length)return;E.tooltip(X,"disabled")||(c=b.Event(a),c.currentTarget=d.children("h3")[0],E.tooltip("close",c))}}),b(document).on("selectionChanged",function(b,c,d){var e,f,g=[];if(c!==W){for(e=0;e<d.length;e++)f=d[e],f.typeId!==a.COMP_TYPE.PAGE&&f.typeId!==a.COMP_TYPE.REGION&&f.typeId!==a.COMP_TYPE.PAGE_ITEM&&f.typeId!==a.COMP_TYPE.BUTTON||g.push(f.id);E.is(":visible")?(E.gridlayout("setSelectedComponents",g),u()):y=g}}),b("#editor_tabs").on("tabsactivate",function(a,b){"grid_layout"===b.newPanel[0].id&&y&&(E.gridlayout("setSelectedComponents",y),u(),y=null)}),a.observer(W,{component:{typeIds:w},events:[a.EVENT.DISPLAY_TITLE]},function(a){var b=E.gridlayout("findComponentById",a.component.id);c.getLevel()>=c.LOG_LEVEL.APP_TRACE&&c.trace("GLV Handle display title change: "+v(a)),b&&(b.title=a.component.getDisplayTitle(),E.gridlayout("update",b,!1))}),a.observer(W,{component:{typeIds:w},events:[a.EVENT.CHANGE],properties:[a.PROP.CONDITION_TYPE,a.PROP.AUTHORIZATION_SCHEME,a.PROP.BUILD_OPTION,a.PROP.GRID_NEW_GRID,a.PROP.GRID_NEW_ROW,a.PROP.GRID_NEW_COLUMN,a.PROP.GRID_COLUMN,a.PROP.GRID_COLUMN_SPAN,a.PROP.GRID_ROW_SPAN,a.PROP.ALIGNMENT,a.PROP.ITEM_DISPLAY_POSITION,a.PROP.ITEM_TYPE,a.PROP.REGION_TYPE,a.PROP.BUTTON_IS_HOT,a.PROP.DISPLAY_SEQUENCE,a.PROP.REGION_POSITION,a.PROP.PARENT_REGION,a.PROP.REGION,a.PROP.BUTTON_POSITION]},function(d){function f(a){var c=n.properties[a];return c&&b.inArray("change",c)>=0}function g(a){return n.component.getProperty(a).getValue()}function h(a){var b=n.component.getProperty(a),c=b.getMetaData().yesValue;return b.getValue()===c}function i(a,b){for(var c=b._parent?b._parent._parent:null;c;){if(a[c.id])return!0;c=c._parent?c._parent._parent:null}return!1}var j,k,l,m,n,o,p,q={},u={},w={};if(da)return void(da=!1);for(c.getLevel()>=c.LOG_LEVEL.APP_TRACE&&c.trace("GLV Handle property changes: "+v(d)),j=0;j<d.length;j++)n=d[j],k=n.component.id,l=t(n.component),o=E.gridlayout("findComponentById",k),p=E.gridlayout("findComponentById",l),!o&&p&&(w[l]=p),o&&(f(a.PROP.ITEM_TYPE)&&o.type===P&&(m=g(a.PROP.ITEM_TYPE),"NATIVE_HIDDEN"===m?w[l]=p:(o.iconClass=e.getComponentIconClass(P,s(n.component,a.PROP.ITEM_TYPE)),q[k]=o)),(f(a.PROP.CONDITION_TYPE)||f(a.PROP.AUTHORIZATION_SCHEME)||f(a.PROP.BUILD_OPTION))&&(e.isConditional(n.component)?o.isConditional=!0:delete o.isConditional,q[k]=o),f(a.PROP.REGION_TYPE)&&o.type===O&&(o.iconClass=e.getComponentIconClass(O,s(n.component,a.PROP.REGION_TYPE)),q[k]=o),f(a.PROP.BUTTON_IS_HOT)&&o.type===Q&&(o.iconClass=e.getComponentIconClass(Q,r(n.component,a.PROP.BUTTON_IS_HOT,!1)?"hot":"normal"),q[k]=o),f(a.PROP.GRID_NEW_GRID)&&(o.newGrid=h(a.PROP.GRID_NEW_GRID),u[l]=o),f(a.PROP.GRID_NEW_ROW)&&(o.newRow=h(a.PROP.GRID_NEW_ROW),u[l]=o),f(a.PROP.GRID_NEW_COLUMN)&&(o.newCol=h(a.PROP.GRID_NEW_COLUMN),u[l]=o),f(a.PROP.GRID_COLUMN)&&(o.col=1*g(a.PROP.GRID_COLUMN),u[l]=o),f(a.PROP.GRID_COLUMN_SPAN)&&(o.span=1*g(a.PROP.GRID_COLUMN_SPAN),u[l]=o),f(a.PROP.GRID_ROW_SPAN)&&(o.rowSpan=1*g(a.PROP.GRID_ROW_SPAN),u[l]=o),f(a.PROP.ITEM_DISPLAY_POSITION)&&(o.itemsAboveContent="ABOVE"===g(a.PROP.ITEM_DISPLAY_POSITION),u[l]=o),(f(a.PROP.ALIGNMENT)||f(a.PROP.BUTTON_POSITION)||f(a.PROP.REGION)||f(a.PROP.PARENT_REGION)||f(a.PROP.REGION_POSITION)||f(a.PROP.DISPLAY_SEQUENCE))&&(o._parent._parent.id!==l&&(w[o._parent._parent.id]=o._parent._parent),w[l]=p));for(k in q)q.hasOwnProperty(k)&&(o=q[k],u[o.id]||w[o.id]||i(u,o)||i(w,o)||E.gridlayout("update",o,!1));for(k in u)u.hasOwnProperty(k)&&(o=u[k],w[o.id]||i(u,o._parent._parent)||i(w,o)||E.gridlayout("update",o,!0));for(k in w)w.hasOwnProperty(k)&&(p=w[k],p&&!i(w,p)&&("page"===p.type?E.gridlayout("pageDataChanged"):(D(p),E.gridlayout("update",p,!0,!0))))},!0),a.observer(W,{events:[a.EVENT.GRID]},function(a){var b,d;if(c.getLevel()>=c.LOG_LEVEL.APP_TRACE&&c.trace("GLV Handle grid changes - refresh whole page: "+v(a)),!E.is(":visible"))for(y=[],d=E.gridlayout("getSelectedComponents"),b=0;b<d.length;b++)y.push(d[b].id);E.gridlayout("pageDataChanged")},!0),a.observer(W,{component:{typeIds:w},events:[a.EVENT.CREATE]},function(a){var b;return ca?void(ca=!1):(c.getLevel()>=c.LOG_LEVEL.APP_TRACE&&c.trace("GLV Handle create: "+v(a)),b=E.gridlayout("findComponentById",t(a.component)),void(b&&("page"===b.type?E.gridlayout("pageDataChanged"):(D(b),E.gridlayout("update",b,!0,!0)))))}),a.observer(W,{component:{typeIds:w},events:[a.EVENT.DELETE]},function(a){var b,d=a.component.id;aa||(c.getLevel()>=c.LOG_LEVEL.APP_TRACE&&c.trace("GLV Handle delete: "+v(a)),b=E.gridlayout("findById",d),b.length&&(ba=!0,E.gridlayout("remove",{},b)))}),a.observer(W,{component:{typeIds:w},events:[a.EVENT.ERRORS,a.EVENT.NO_ERRORS,a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS]},function(a){var b=E.gridlayout("findComponentById",a.component.id);c.getLevel()>=c.LOG_LEVEL.APP_TRACE&&c.trace("GLV Handle error or warning status change: "+v(a)),b&&(b.hasErrors=a.component.hasErrors(),b.hasWarnings=a.component.hasWarnings(),E.gridlayout("update",b,!1))})}),b(document).on("modelReady",function(){$=!0;try{E.gridlayout("pageDataChanged")}catch(a){c.error("Failed to load grid layout",a),$=!1,E.gridlayout("pageDataChanged")}}),b(document).on("modelCleared",function(){$=!1,E.gridlayout("pageDataChanged")})}(pe,apex.jQuery,apex.debug,apex.lang,window.pageDesigner);